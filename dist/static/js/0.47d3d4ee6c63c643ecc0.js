webpackJsonp([0],{"+r1D":function(e,t){e.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},"8k9M":function(e,t,a){var i=a("gjyI"),n=a("MLDK")(function(e,t,a){for(var n=[],o=0,r=t.length;o<r;)i(e,t[o],a)||i(e,t[o],n)||n.push(t[o]),o+=1;return n});e.exports=n},BBOx:function(e,t,a){var i=a("j1P5");e.exports=function(e,t){return i(t,e,0)>=0}},KLPI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("RX4T"),n=a("3twf");var o=class extends i.a{_spaceManager(){var e,t,a,i,o,r,l,s,c,h,d,g,u,p,m,f,b,v,x,y=this,_=y.config,C=y.getChildren("xAxis")&&y.getChildren("xAxis")[0],O=y.getChildren("yAxis")&&y.getChildren("yAxis")||[],L=_.legendposition,w=_.xDepth,k=_.yDepth,j=_.canvasBgDepth,A=_.canvasBaseDepth,F=_.canvasBasePadding,S=y.getChildren("canvas")[0],T=S.config.canvasBorderWidth,E=_.realTimeConfig&&_.realTimeConfig.showRTValue,P=_.borderWidth,D=_.canvasMarginTop,V=_.canvasMarginBottom,I=_.canvasMarginLeft,M=_.canvasMarginRight,R=_.minCanvasHeight,B=_.minCanvasWidth,N=_.minChartWidth,G=_.minChartHeight,W=_.height,H=_.width,z=!1,Y=!1,X=_.origCanvasTopMargin,Z=_.origCanvasBottomMargin,K=_.origCanvasLeftMargin,U=_.origCanvasRightMargin,q=[];for(_.canvasWidth-2*P<N&&(p=(_.canvasWidth-N)/2),_.canvasHeight-2*P<G&&(u=(_.canvasHeight-G)/2),y._allocateSpace({top:u||P,bottom:u||P,left:p||P,right:p||P}),h=0,i=O.length;h<i;h++)a=O[h],e=.7*_.availableWidth,v=a&&a.placeAxis(e)||{},q.push({axisIndex:h,spaceTaken:v}),a&&y._allocateSpace(v);_.yAxisSpaceAllocation=q,y._allocateSpace(y._manageActionBarSpace&&y._manageActionBarSpace(.225*_.availableHeight)||{}),y._manageLegendSpace&&_.showLegend&&y._manageLegendSpace(void 0),t=L===n.q?.6*_.availableHeight:.6*_.availableWidth,k&&(y._allocateSpace({bottom:k}),_.shift=w+F+A),j&&y._allocateSpace({right:j}),_.canvasWidth-2*T<B&&(f=(_.canvasWidth-B)/2),y._allocateSpace({left:f||T,right:f||T}),B>H-I-M&&(Y=!0,o=_.canvasWidth-B,x=I+M,I=_.canvasMarginLeft=o*I/x,M=_.canvasMarginRight=o*M/x),s=I>_.canvasLeft?I-_.canvasLeft:0,c=M>H-_.canvasRight?M+_.canvasRight-H:0,y._allocateSpace({left:s,right:c}),Y&&(x=K+U,(g=_.canvasWidth)>B&&(s=(o=g-B)*K/x,c=o*U/x),y._allocateSpace({left:s,right:c})),_.actualCanvasMarginRight=c,_.actualCanvasMarginBottom=l,y._manageChartMenuBar(t),t=.2*_.availableHeight,y._getSumValueSpace&&y._allocateSpace(y._getSumValueSpace(t)),t=.3*_.availableHeight,_.realtimeEnabled&&(E?y._allocateSpace(y._realTimeValuePositioning(t)):y._hideRealTimeValue()),y._resetViewPortConfig&&y._resetViewPortConfig(),y._setAxisScale&&y._setAxisScale(),t=.6*_.availableHeight,_.xAxisSpaceAllocation=b=C&&C.placeAxis(t),C&&y._allocateSpace(b),_.canvasHeight-2*T<R&&(m=(_.canvasHeight-R)/2),y._allocateSpace({top:m||T,bottom:m||T}),y._allocateSpace({bottom:A}),R>W-D-V&&(z=!0,o=_.canvasHeight-R,x=D+V,D=_.canvasMarginTop=o*D/x,V=_.canvasMarginBottom=o*V/x),r=D>_.canvasTop?D-_.canvasTop:0,l=V>W-_.canvasBottom?V+_.canvasBottom-W:0,y._allocateSpace({top:r,bottom:l}),z&&(x=X+Z,(d=_.canvasHeight)>R&&(r=(o=d-R)*X/x,l=o*Z/x),y._allocateSpace({top:r,bottom:l})),_.actualCanvasMarginTop=r,_.actualCanvasMarginLeft=s,S.setDimension({top:_.canvasTop,left:_.canvasLeft,width:_.canvasWidth,height:_.canvasHeight})}_postSpaceManagement(){var e,t=this,a=t.config,i=t.getChildren(),n=i.xAxis&&i.xAxis[0],o=i.legend&&i.legend[0],r=a.xDepth,l=t.getChildren("canvas");for(t.setAxisDimention&&t.setAxisDimention(),n&&t._allocateXAxisLabelSpace(n),n&&n.shiftLabels(-r,0),o&&o.postSpaceManager(),e=0;e<(l&&l.length);e++)l[e].setCanvasPadding();t.setAxisDimention&&t.setAxisDimention()}},r=a("kwAl"),l=a("ToCq");let s=(e,t)=>e<t?t:e;var c=class extends r.a{getType(){return"axis"}__setDefaultConfig(){super.__setDefaultConfig(),this.components={labels:[]};let e=this.config;e.setAdaptiveMin=0,e.adjustDiv=1,e.axisNameWidth=n.D,e.rotateAxisName=0,e.useEllipsesWhenOverflow=1,e.divLineColor=n.D,e.divLineAlpha=n.D,e.divLineThickness=n.D,e.divLineIsDashed=n.D,e.divLineDashLen=n.D,e.divLineDashGap=n.D,e.showAlternateGridColor=n.D,e.alternateGridColor=n.D,e.alternateGridAlpha=n.D,e.showZeroPlane=1,e.zeroPlaneAlpha=80,e.showZeroPlaneValue=1,e.showZeroPlaneOnTop=1,e.showAxisLine=n.D,e.axisLineThickness=n.D,e.axisLineAlpha=n.D,e.tickLength=0,e.trendlineToolText=n.D,e.trendlineColor="333333",e.trendlineThickness=1,e.trendlineAlpha=n.D,e.showTrendlinesOnTop=0,e.trendlinesAreDashed=0,e.trendlinesDashLen=5,e.trendlinesDashGap=2,e.isTrendZone=n.D,e.showTrendlines=1,e.showTrendlineLabels=1,e.showLabels=1,e.maxLabelHeight=n.D,e.rotateLabels=n.D,e.slantLabel=0,e.showAxisValues=1,e.showTooltip=1,e.isActive=!0,e.drawLabels=!0,e.drawOnlyCategoryLine=!1,e.drawLabelsOpposit=!1,e.drawPlotlines=!0,e.drawAxisLine=!0,e.drawPlotBands=!0,e.drawAxisName=!0,e.drawAxisNameOpposit=!1,e.axisNameAlignCanvas=!1,e.drawAxisNameFromBottom=!1,e.drawTrendLines=!0,e.drawTrendLabels=!0,e.drawTick=!0,e.drawTickMinor=!0,e.animateAxis=!0,e.drawAxisLineWRTCanvas=!0,e.isRelativeAxisInverse=!1,e.axisIndex=0,e.uniqueClassName=0,e.viewPortRatio={},e.canvas={},e.axisRange={},e.drawnStaggerLines=n.D,e.axisDimention={},e.forceZeroTick=!0,e.isZeroTickForced=!1,e.extremeLabels={firstLabel:{},lastLabel:{}},e._setRangeAgain=!1,e._defaultForceDecimal=n.D,e._defaultDecimalPrecision=n.D,e.rangeChanged=!1,e.dimensionChanged=!1,e.apparentScrollPos=0,e.visibleMin=n.D,e.visibleMax=n.D,e.setPadding=!1,e.trendLimits=n.D}configureAttributes(e){var t,a,i,o,r=Math.abs,c=this,h=c.config,d=c.getFromEnv("chart"),g=c.getFromEnv("dataSource"),u=d.config.is3D,p=g.chart,m=c.getFromEnv("number-formatter");t=h.rawAttr=e,h.referenceInfo=[],h.parsedTrendLabels=[],h.parsedVlineInfo=[],h.trendLines=t.trendlines,h.vTrendLines=t.vtrendlines,Object(n._21)(t,h),h.axisName=Object(n._23)(t.axisName),h.axisValuePadding=h.axisNamePadding||Object(n._27)(t.axisValuePadding,4),h.axisNamePadding=h.axisNamePadding||Object(n._27)(t.axisNamePadding,5),h.maxLabelWidthPercent=Object(n._27)(t.maxLabelWidthPercent),h.maxLabelWidthPercent=r(h.maxLabelWidthPercent),h.minLabelWidthPercent=r(Object(n._27)(t.minLabelWidthPercent)),h.numDivLines=Object(n._27)(t.numDivLines,4),h.numDivLines=s(h.numDivLines,0),h.categoryNumDivLines=Object(n._27)(t.numDivLines,0),h.axisValuePadding=s(h.axisValuePadding,0),h.isReverse=Object(n._27)(t.isReverse,0),h.isOpposit=Object(n._27)(t.isOpposit,0),h.isVertical=Object(n._27)(t.isVertical,0),h.categoryDivLinesFromZero=1,h.axisMinValue=m.getCleanValue(t.axisMinValue),h.axisMaxValue=m.getCleanValue(t.axisMaxValue),h.zeroPlaneColor=Object(n._25)(t.zeroPlaneColor,t.divLineColor),h.zeroPlaneThickness=Object(n._25)(t.zeroPlaneThickness,t.divLineThickness),h.axisLineColor=Object(l.c)(t.axisLineColor,t.axisLineAlpha),h.tickAlpha=Object(n._27)(t.tickAlpha,h.axisLineAlpha),h.tickColor=Object(l.c)(Object(n._25)(t.tickColor,t.axisLineColor),h.tickAlpha),h.tickWidth=Object(n._27)(t.tickWidth,h.axisLineThickness),h.maxZoomLimit=Object(n._27)(p.maxzoomlimit,d.maxzoomlimit,1e3),h.showVLines=Object(n._27)(p.showvlines,1),h.showVLinesOnTop=Object(n._27)(p.showvlinesontop,0),h.showVLineLabels=Object(n._27)(p.showvlinelabels,this.showVLineLabels,1),h.showVLineLabelBorder=Object(n._27)(p.showvlinelabelborder,1),h.rotateVLineLabels=Object(n._27)(p.rotatevlinelabels,0),h.vLineColor=Object(n._25)(p.vlinecolor,"333333"),h.vLineLabelColor=Object(n._25)(p.vlinelabelcolor),h.vLineThickness=Object(n._25)(p.vlinethickness,1),h.vLineAlpha=Object(n._27)(p.vlinealpha,80),h.vLineLabelBgColor=Object(n._25)(p.vlinelabelbgcolor,"ffffff"),h.vLineLabelBgAlpha=Object(n._27)(p.vlinelabelbgalpha,u?50:100),h.staggerLines=Math.max(Object(n._27)(p.staggerlines,2),2),h.staggerLines=s(h.staggerLines,1),h.trendlineValuesOnOpp=Object(n._25)(t.trendlineValuesOnOpp,t.trendlineValuesOnOpp,0),h.labelDisplay=Object(n._25)(t.labelDisplay,"auto").toLowerCase(),h.labelStep=Object(n._27)(t.labelStep,1),h.labelStep=Math.round(h.labelStep),h.labelStep=s(h.labelStep,1),h.startPad=0,h.endPad=0,h._oriLabelStep=h.labelStep,h.showLimits=Object(n._27)(t.showLimits,h.showAxisValues),h.showUpperLimit=t.showLimits,h.showDivLineValues=Object(n._27)(t.showDivLineValues,h.showAxisValues),h.showCanvasBorder=d.getChildren("canvas")[0].config.showCanvasBorder?1:0,h.axisBreak=t.axisBreaks,h.isBreak=!!h.axisBreak,h.isBreak&&c._processAxisBreak(),a=(a=Object(n._0)(t.axisNameBorderColor,n.b))?Object(l.c)(a,Object(n._27)(t.axisNameBorderAlpha,t.axisNameAlpha,100)):n.b,h.name=h.name||{},h.name.style={fontFamily:Object(n._25)(t.axisNameFont,t.outCanfontFamily),fontSize:Object(n._25)(t.axisNameFontSize,Object(n._20)(t.outCanfontSize))+n.y,color:Object(l.c)(Object(n._25)(t.axisNameFontColor,t.outCancolor),Object(n._27)(t.axisNameFontAlpha,t.axisNameAlpha,100)),fontWeight:Object(n._27)(t.axisNameFontBold,1)?"bold":n.n,fontStyle:Object(n._27)(t.axisNameFontItalic)?"italic":n.n,border:a||t.axisNameBgColor?Object(n._27)(t.axisNameBorderThickness,1)+"px solid":n.D,borderColor:a,borderThickness:Object(n._27)(t.axisNameBorderThickness,1),borderPadding:Object(n._27)(t.axisNameBorderPadding,2),borderRadius:Object(n._27)(t.axisNameBorderRadius,0),backgroundColor:t.axisNameBgColor?Object(l.c)(t.axisNameBgColor,Object(n._27)(t.axisNameBgAlpha,t.axisNameAlpha,100)):n.b,borderDash:Object(n._27)(t.axisNameBorderDashed,0)?Object(n.Y)(Object(n._27)(t.axisNameBorderDashLen,4),Object(n._27)(t.axisNameBorderDashGap,2)):n.j},h.name.style.lineHeight=Object(n._35)(h.name.style),i=(i=Object(n._0)(p.trendvaluebordercolor,n.b))?Object(l.c)(i,Object(n._27)(p.trendvalueborderalpha,p.trendvaluealpha,100)):n.b,h.trend=h.trend||{},h.trend.trendStyle={fontFamily:Object(n._25)(p.trendvaluefont,t.outCanfontFamily),color:Object(n._25)(p.trendvaluefontcolor,t.trendlineColor,t.outCancolor,"333333"),fontSize:Object(n._26)(p.trendvaluefontsize,Object(n._20)(t.outCanfontSize))+n.y,fontWeight:Object(n._27)(p.trendvaluefontbold)?"bold":n.n,fontStyle:Object(n._27)(p.trendvaluefontitalic)?"italic":n.n,border:i||p.trendvaluebgcolor?Object(n._27)(p.trendvalueborderthickness,1)+"px solid":"",borderColor:i,borderThickness:Object(n._27)(p.trendvalueborderthickness,1),borderPadding:Object(n._27)(p.trendvalueborderpadding,2),borderRadius:Object(n._27)(p.trendvalueborderradius,0),backgroundColor:p.trendvaluebgcolor?Object(l.c)(p.trendvaluebgcolor,Object(n._27)(p.trendvaluebgalpha,p.trendvaluealpha,100)):n.b,borderDash:Object(n._27)(p.trendvalueborderdashed,0)?Object(n.Y)(Object(n._27)(p.trendvalueborderdashlen,4),Object(n._27)(p.trendvalueborderdashgap,2)):n.j},h.trend.trendStyle.lineHeight=Object(n._35)(h.trend.trendStyle),h.labels=h.labels||{},h.lines=h.lines||{},h.band=h.band||{},o=(o=Object(n._0)(p.labelbordercolor,n.b))?Object(l.c)(o,Object(n._27)(p.labelborderalpha,p.labelalpha,100)):n.b,h.labels.style={fontFamily:Object(n._25)(t.labelFont,t.outCanfontFamily),fontSize:Object(n._27)(t.labelFontSize,Object(n._20)(t.outCanfontSize))+n.y,fontWeight:Object(n._27)(t.labelFontBold)?"bold":n.n,fontStyle:Object(n._27)(t.labelFontItalic)?"italic":n.n,color:Object(l.c)(Object(n._25)(t.labelFontColor,t.outCancolor),Object(n._27)(t.labelFontAlpha,100)),labelLink:p.labellink,border:o||p.labelbgcolor?Object(n._27)(p.labelborderthickness,1)+"px solid":"",borderColor:o,borderThickness:Object(n._27)(p.labelborderthickness,1),borderPadding:Object(n._27)(p.labelborderpadding,2),borderRadius:Object(n._27)(p.labelborderradius,0),backgroundColor:p.labelbgcolor?Object(l.c)(p.labelbgcolor,Object(n._27)(p.labelbgalpha,p.labelalpha,100)):n.b,borderDash:Object(n._27)(p.labelborderdashed,0)?Object(n.Y)(Object(n._27)(p.labelborderdashlen,4),Object(n._27)(p.labelborderdashgap,2)):n.j},h.labels.style.lineHeight=Object(n._35)(h.labels.style),h.numberFormatterFn=Object(n._25)(t.numberFormatterFn),h.apparentScrollPos=t.apparentScrollPos||h.apparentScrollPos,h.axisRange={},h.dataLimit={},h.axisEndLabelDisplaySpace={left:0,right:0,top:0,bottom:0},h.isConfigured=!0,h._defaultForceDecimal=n.D,h._defaultDecimalPrecision=n.D,h.lines.isDraw=Object(n._27)(t.lines&&t.lines.isDraw,1),h.band.isDraw=Object(n._27)(t.band&&t.band.isDraw,1)}createContainer(e,t,a){let i=this.getFromEnv("animationManager");return this.addContainer(e,i.setAnimation({container:a,attr:t,el:this.getContainer(e)||"group",component:this,label:"group"}))}createGroup(e,t,a,i="group"){return this.getFromEnv("animationManager").setAnimation({container:a,attr:t,el:this.config[e]||"group",component:this,label:i})}getValuePadding(){var e=this.config;return{left:e.startPad,right:e.endPad}}draw(){var e,t,a,i,n=this,o=n.config,r=n.getFromEnv("chart").config,l=o.isVertical,s=r.viewPortConfig,c=n.getChildren().limitUpdater,h=o.viewPortRatio||{};n._createContainer(),a=s.y*s.scaleY,i=s.x*s.scaleX,h.scaleX&&h.scaleY&&(h.scaleX!==s.scaleX||h.scaleY!==s.scaleY)?(h.scaleX=s.scaleX,h.scaleY=s.scaleY,n._drawComponents()):(l?(t=a-s.y*s.scaleY,o.axisContainer.transform("t0,"+t),o.axisLabelContainerTop.transform("t0,"+t)):(e=i-s.x*s.scaleX,o.axisContainer.transform("t"+e+",0"),o.axisLabelContainerTop.transform("t"+e+",0")),n._drawComponents()),n.addExtEventListener("internal.animationComplete",function(){c&&c.forEach(e=>{e.draw()})},n.getFromEnv("chartInstance")),n.addToEnv("prevScale",n.getScale().copy())}setScale(e){this.config.scale=e}getScale(){return this.config.scale}getLimit(){let e=this.config.axisRange;return{min:e.min,max:e.max,tickInterval:e.tickInterval}}getVisibleConfig(){let e=this.config;return{minValue:e.visibleMin,maxValue:e.visibleMax}}setAxisConfig(e){var t,a=this.config;for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t])}getAxisConfig(e){var t=this.config;return e?t[e]:t}getVisibleLength(){var e=this.getVisibleConfig();return Math.abs(e.maxValue-e.minValue)}getAxisEndLabelDisplaySpace(){return this.config.axisEndLabelDisplaySpace||{}}getTicksLen(){let e=this.config.tickValues;return e&&e.tickValue.length||0}};const h=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis"}],d=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],g={"text.appearing":d,"path.appearing":d,"rect.appearing":d},u={"text.appearing":h,"path.appearing":h,"rect.appearing":h,"scroller.appearing":h};var p={"initial.axis.numeric":u,"initial.axis.category":u,"initial.axis.log":u,"update.axis.numeric":g,"update.axis.category":g,"update.axis.log":g};var m=function(e,t){let a=(t=+t)-(e=+e);return t=>a*t+e},f=(e,t)=>e.filter(e=>0>t.indexOf(e)),b=a("8k9M"),v=a.n(b),x=a("E/U+"),y=a("NA2I"),_=a.n(y);let C={wrtVisible:!0},O=function(e,t){var a,i,o,r,l,s,c,h={labelfont:["fontFamily"],labelfontcolor:["fontColor"],labelfontsize:["fontSize",function(e){return e?Object(n._27)(e)+"px":n.D}],labelfontbold:["fontWeight",function(e){return e?"bold":"normal"}],labelfontitalic:["fontStyle",function(e){return e?"italic":"normal"}],labelfontalpha:["fontAlpha"]},d=t.getFromEnv("dataSource").categories,g=d&&d[0]||{},u=function(e){return e},p=!1,m={};for(a in g)"category"===a||a in e||(i=g[a],e[a]=i);for(a in h)l=(r=h[a])[0],s=r[1]||u,i=e[a],o=e[l.toLowerCase()],(i!==n.D||o!==n.D)&&((c=s(i))!==n.D||(c=s(o))!==n.D)&&(m[l]=c,p=!0),p&&(e.style=m)},L="crisp",w="butt",k="eventArgs",j="_trend",A="_tick",F="_label",S=function(e,t){var a,i,n=Math.round,o=!1,r=t%2;return e[1]===e[4]&&(i=n(a=e[1]),e[1]=e[4]=r?i>a?i-.5:i+.5:i,o=!0),e[2]===e[5]&&(i=n(a=e[2]),e[2]=e[5]=r?i>a?i-.5:i+.5:i,o=!0),{path:e,isCrisped:o}},T=e=>(t,a)=>!!(e.minValue<=t&&e.maxValue>=t||e.minValue<=a&&e.maxValue>=a),E=e=>t=>!!(e.minValue<=t&&e.maxValue>=t),P={wrtVisible:!0},D=function(e){for(var t=0,a=e.length;t<a;t++)if(e[t].label||e[t].oriLabel)return t};Object(x.a)({name:"cartesianAxisAnimation",type:"animationRule",extension:p});class V extends c{constructor(){super(),this.config.referenceInfo=[],this.config.prevTicks=[],this.config.prevIntervalArr=[],this.config.prevTrendLabels=[],this.config.prevCategoryIntervalArr=[]}placeAxis(e){var t,a=this,i=a.getScale(),n=a.getFromEnv("chart"),o=a.getLinkedItem("scrollBar"),r=a.config.isVertical,l=a.config.isOpposit,s=a.config.isReverse,c=n.config,h={};return o&&((t=o.getLogicalSpace())&&(r?(n.config.shift=t.width+o.config.conf.padding,h[l?"right":"left"]=n.config.shift):(n.config.shift=t.height+o.config.conf.padding,h[l?"top":"bottom"]=n.config.shift),n._allocateSpace(h))),r?(s?i.setRange([c.canvasBottom,c.canvasTop]):i.setRange([c.canvasTop,c.canvasBottom]),a._placeVerticalAxis(e)):(s?i.setRange([c.canvasRight,c.canvasLeft]):i.setRange([c.canvasLeft,c.canvasRight]),a._placeHorizontalAxis(e))}_placeVerticalAxis(e){var t,a,i,o,r,l,s,c,h,d,g,u,p,m,f,b,v,x,y=Math.min,_=Math.max,C=this,O=C.config,L=C.getFromEnv("chart"),w=L.config,k=L.getFromEnv("smartLabel"),j=O.axisRange,A=O.minLabelWidthPercent,F=O.name,S=O.isOpposit,T=C.getFromEnv("number-formatter"),E=w.canvasHeight,P=O.labelPadding=Object(n._27)(O.rawAttr.axisValuePadding,4),D=Object(n._27)(O.rawAttr.axisNamePadding,5),V=O.useEllipsesWhenOverflow,I=O.name.style,M=O.trend.trendStyle,R=O.axisName,B=O.trendLines,N=O.drawLabelsOpposit,G=O.drawAxisNameOpposit,W=0,H=0,z=0,Y=0,X=0,Z=0,K={left:0,right:0},U="",q="",J=0,$=-1;if(A&&($=A/100*w.width),O.oriCanvasHeight=E,0>P&&(O.labelPadding=2),b=O.drawTick&&O.tickLength?O.axisLineThickness+O.tickLength:O.axisLineThickness,O.showAxisLine?(O.labelPadding=Object(n._27)(P,2)+b,0>O.labelPadding&&(O.labelPadding=(0>O.axisLineThickness?0:b)+2),e-=O.axisLineThickness):(O.labelPadding=Object(n._27)(P,2),0>O.labelPadding&&(O.labelPadding=2)),h=j.max,d=j.min,O.name.rotation=0,O.labels.step=O.labelStep,O.labels.isDraw=1,O.labels.drawNormalVal=O.showDivLineValues,O.labels.drawLimitVal=O.showLimits,J=+(J=I.lineHeight).replace(/px/i,""),R&&J<e&&(e-=J),1!==O.showLimits&&1!==O.showDivLineValues&&(O.labels.isDraw=0),((u=O.drawLabels?C._getVMaxLabelDimention(e-O.labelPadding):{width:0,height:0}).width+O.labelPadding>e&&!O.tickValues||0===u.width)&&(O.labels.isDraw=0),O.labels.isDraw&&(O.labelMaxW=u.width>$?u.width:$,O.labelMaxH=u.height,z=W=O.labelMaxW+O.labelPadding),O.drawTrendLines&&O.drawTrendLabels&&B&&B.length){for(o=O.isPercent?T.percentValue:O.isVertical?T.yAxis:T.xAxis,k.useEllipsesOnOverflow(w.useEllipsesWhenOverflow),k.setStyle({fontSize:M.fontSize,fontFamily:M.fontFamily,lineHeight:M.lineHeight,fontWeight:M.fontWeight}),t=0,a=B.length;t<a;t+=1)for(c=0,p=B[t].line&&B[t].line.length;c<p;c+=1)m=B[t].line[c],v=T.getCleanValue(Object(n._25)(m.startvalue,m.value,0)),x=Object(n._27)(m.endvalue,v),v<=h&&v>=d&&x<=h&&x>=d&&(O.isOpposit&&(m.valueonright=1),s=1===(f=Object(n._27)(m.valueonright,0))?m.endvalue||m.startvalue:m.startvalue||m.endvalue,(g=Object(n._23)(m.origText||m.displayvalue||s||""))===s&&(g=""+o.call(T,g)),f?g.length>q.length&&(q=g):g.length>U.length&&(U=g));for(Z=(u=k.getOriSize(q)).width+O.labelPadding,X=(u=k.getOriSize(U)).width+O.labelPadding,S?(Z>z&&Z>e&&(Z=e),X>e-(z=_(z,Z+O.labelPadding))&&(X=y(X,e-z))):(X>z&&X>e&&(X=e),Z>e-(z=_(z,X+O.labelPadding))&&(Z=y(Z,e-z))),t=0,a=B.length;t<a;t+=1)for(c=0,p=B[t].line&&B[t].line.length;c<p;c+=1)m=B[t].line[c],v=T.getCleanValue(Object(n._25)(m.startvalue,m.value,0)),x=Object(n._27)(m.endvalue,v),g=1==+m.valueonright?m.origText||m.displayvalue||""+x||"":m.origText||m.displayvalue||""+v||"",((g=Object(n._23)(""+g))===m.endvalue||g===m.startvalue)&&(g=""+o.call(T,g)),m.origText=g,l=(f=Object(n._27)(m.valueonright,0))?k.getSmartText(g,Z,L.canvasHeight,V):k.getSmartText(g,z,L.canvasHeight,V),(i=O.parsedTrendLabels[H++])&&(i.attr.text=m.displayvalue=l.text,O.isOpposit&&(i.valueOnRight=1,i.attr["text-anchor"]=n.v)),l.tooltext?(m.valueToolText=l.tooltext,i&&(i.valueToolText=m.valueToolText)):(delete m.valueToolText,i&&delete i.valueToolText)}return e+=J,!O.drawAxisName||0>=e-z-Z||""===R?(F.isDraw=!1,F.value=""):(k.setStyle({fontSize:I.fontSize,fontFamily:I.fontFamily,lineHeight:I.lineHeight,fontWeight:I.fontWeight}),F.isDraw=!0,O.rotateAxisName?(O.name.rotation=S?90:270,r=k.getSmartText(R,E,e-z-Z),F.value=R,O.nameMaxW=y(r.height),Y=O.nameMaxW+D):(r=k.getSmartText(R,e-z-Z,E),F.value=R,O.nameMaxW=y(r.width,e-z),O.nameMaxH=r.height,0<=O.axisNameWidth&&(O.nameMaxW=y(O.nameMaxW,O.axisNameWidth)),Y=O.nameMaxW+D)),S?(N?(K.left+=_(W,X),K.right+=Z):(K.left+=X,K.right+=_(W,Z)),G?(O.axisNamePadding=K.left+D,K.left+=Y):(O.axisNamePadding=K.right+D,K.right+=Y)):(N?(K.left+=X,K.right+=_(W,Z)):(K.left+=_(W,X),K.right+=Z),G?(O.axisNamePadding=K.right+D,K.right+=Y):(O.axisNamePadding=K.left+D,K.left+=Y)),F.isDraw&&O.axisNamePadding+O.nameMaxW>e&&(O.axisNamePadding=e-O.nameMaxW,Y=O.nameMaxW+O.axisNamePadding-z),K}_placeHorizontalAxis(e){var t,a,i,o,r,l,s,c,h,d,g,u,p,m,f,b,v,x,y=this,_=y.config,C=y.getFromEnv("chart"),O=C.config,L=C.getFromEnv("smartLabel"),w=_.axisRange,k=_.name,j=_.isOpposit,A=C.getFromEnv("number-formatter"),F=_.drawLabelsOpposit,S=_.drawAxisNameOpposit,T=0,E=O.canvasWidth,P=_.labelPadding=Object(n._27)(_.rawAttr.axisValuePadding,4),D=Object(n._27)(_.rawAttr.axisNamePadding,5),V=_.useEllipsesWhenOverflow,I=_.name.style,M=_.trend.trendStyle,R=_.axisName,B=_.vTrendLines,N=0,G=0,W=0,H={top:0,bottom:0},z=0,Y=0;if(0>P&&(_.labelPadding=2),b=_.drawTick&&_.tickLength?_.axisLineThickness+_.tickLength:_.axisLineThickness,_.showAxisLine?(_.labelPadding=Object(n._27)(P,2)+b,0>_.labelPadding&&(_.labelPadding=(0>_.axisLineThickness?0:b)+2),e-=_.axisLineThickness):(_.labelPadding=Object(n._27)(P,2),0>_.labelPadding&&(_.labelPadding=2)),s=w.max,c=w.min,_.labels.rotation=0,_.labels.step=_.labelStep,_.labels.isDraw=1,_.labels.drawNormalVal=_.showDivLineValues,_.labels.drawLimitVal=_.showLimits,Y=+(Y=I.lineHeight).replace(/px/i,""),R&&Y<e&&(e-=Y),_.rotateLabels&&"stagger"!==_.labelDisplay&&"none"!==_.labelDisplay&&(_.labelDisplay="rotate"),1!==_.showLimits&&1!==_.showDivLineValues&&(_.labels.isDraw=0),m=_.drawLabels?y._getHMaxLabelDimention(e-_.labelPadding):{width:0,height:0},_.labels.rotation?m.width+_.labelPadding>e&&!_.tickValues&&(_.labels.isDraw=0):m.height+_.labelPadding>e&&!_.tickValues&&(_.labels.isDraw=0),_.labels.isDraw&&(_.labels.rotation?(_.labelMaxW=m.height,_.labelMaxH=m.width,T=m.width+_.labelPadding):(_.labelMaxW=m.width,_.labelMaxH=m.height,T=m.height+_.labelPadding),N=T),g=(N=Math.max(N,_.labelPadding))<=e?e-N:e,_.drawTrendLines&&_.drawTrendLabels&&B&&_.isActive)for(f=_.isPercent?y.getFromEnv("number-formatter").percentValue:_.isVertical?y.getFromEnv("number-formatter").yAxis:y.getFromEnv("number-formatter").xAxis,L.useEllipsesOnOverflow(O.useEllipsesWhenOverflow),L.setStyle({fontSize:M.fontSize,fontFamily:M.fontFamily,lineHeight:M.lineHeight,fontWeight:M.fontWeight}),a=0,i=B.length;a<i;a+=1)for(l=0,d=B[a].line&&B[a].line.length;l<d;l+=1)u=B[a].line[l],v=A.getCleanValue(Object(n._25)(u.startvalue,u.value,0)),x=Object(n._27)(u.endvalue,v),v<=s&&v>=c&&x<=s&&x>=c&&(t=1===Object(n._27)(u.valueonright,0)?u.endvalue||u.startvalue:u.startvalue||u.endvalue,(h=Object(n._23)(u.origText||u.displayvalue||t||""))===t&&(h=""+f.call(C.getFromEnv("number-formatter"),h)),u.origText=h,0>g-((p=L.getSmartText(h,C.canvasWidth,M.lineHeight,V)).height+2)?u.displayvalue="":((o=_.parsedTrendLabels[G++])&&(o.attr.text=u.displayvalue=p.text),z=z<p.height?p.height:z),p.tooltext?(u.valueToolText=p.tooltext,o&&(o.valueToolText=u.valueToolText)):(delete u.valueToolText,o&&delete o.valueToolText));return g-=z,N+=z,g+=Y,e+=Y,!_.drawAxisName||0>=g||""===R?(k.isDraw=!1,k.value=""):(L.setStyle({fontSize:I.fontSize,fontFamily:I.fontFamily,lineHeight:I.lineHeight,fontWeight:I.fontWeight}),k.isDraw=!0,r=L.getSmartText(R,E,g),k.value=R,_.nameMaxW=E,_.nameMaxH=r.height,W=r.height+D,_.axisNamePadding=D+N,_.axisNamePadding+r.height>e&&(_.axisNamePadding=e-r.height,W=r.height+_.axisNamePadding-N)),j?(F?H.bottom+=T+z:(H.top+=T,H.bottom+=z),_.trendBottomPadding=H.bottom-z+2,S?H.bottom+=W:H.top+=W):(F?(H.top+=T,H.bottom+=z):H.bottom+=T+z,_.trendBottomPadding=H.bottom-z+2,S?H.top+=W:H.bottom+=W),H}_parseCategoryPlotLine(){var e,t,a,i=this,o=i.config,r=o.axisRange,s=o.tickValues.tickValue,c=Object(l.c)(o.divLineColor,o.divLineAlpha),h=o.divLineThickness,d=o.divLineIsDashed?Object(n.Y)(o.divLineDashLen,o.divLineDashGap,h):n.j,g=E(i.getVisibleConfig()),u=o._allTicks,p=u.length;if(e={stroke:c,"stroke-width":h,"stroke-dasharray":d},(!s[0]||s[0].x===n.D&&s[0].y===n.D)&&o.lines.isDraw&&o.categoryNumDivLines)for(t=0;t<p;++t)g(a=u[t])&&a!==r.min&&a!==r.max&&i.setReferenceInfo({from:a,type:"line",layer:1,attr:e})}_drawComponents(){var e=this,t=e.config;t.drawAxisName&&e._drawAxisName(),t.drawAxisLine&&e._drawAxisLine(),t.tickValues?t.drawLabels&&e._drawCategory():t.drawLabels&&e._drawLabel(),t.drawTrendLines&&e.drawTrendLabel(),e._drawScrollBar()}drawTrendLabel(){let e,t,a,i,o,r,l,s,c,h,d,g,u,p,m,f,b=this,x=b.config,y=x.parsedTrendLabels,_=b.getFromEnv("animationManager"),C=this.getFromEnv("toolTipController"),O=x.axisTrendLabelContainer,L=x.isOpposit,w=x.labelPadding,k=x.vTrendLines,A=x.trendLines,F=x.axisDimention,S=b.getVisibleConfig(),T=S.minValue,E=S.maxValue,D=!0;for(m=0,f=y.length;m<f;m++)y[m].id=m+j;for(k?i=L?F.opposite-(x.trendBottomPadding||0):F.y+(x.trendBottomPadding||0):(i=L?F.opposite+(w||0):F.x-(w||0),o=L?F.x+(w||0):F.opposite+(w||0)),m=0,f=(u=v()((e,t)=>e.attr.text===t.attr.text,x.prevTrendLabels,y)).length;m<f;m++)(g=b.getGraphicalElement(u[m].id))&&b.removeGraphicalElement(g);if(x.prevTrendLabels=Object(n.T)([],y),x.drawTrendLabels)for(m=0,f=y.length;m<f;m++)t=y[m],a=b.getGraphicalElement(m+j),l=+t.from,c=+t.to,D=!0,(p=!isNaN(c))?(T>(s=l+(c-l)/2)||E<s)&&(D=!1):(T>l||E<l)&&(D=!1),D?(k?(h=b.getPixel(l,P),d=c?b.getPixel(c,P):0,r=Object(n._27)(t.isTrendZone,x.isTrendZone,1),p&&c!=l&&r?(t.attr.x=h+(d-h)/2,t.attr.y=i):(t.attr.x=c?d:h,t.attr.y=i)):A&&(h=b.getPixel(l,P),d=c?b.getPixel(c,P):0,e=Object(n._27)(t.valueOnRight,0),r=Object(n._27)(t.isTrendZone,x.isTrendZone,0),p&&c!=l&&r?(t.attr.x=e?o:i,t.attr.y=h+(d-h)/2):(t.attr.x=e?o:i,t.attr.y=c&&e?d:h)),a=b.addGraphicalElement(m+j,_.setAnimation({container:O,el:a||"text",attr:t.attr,css:t.css,data:{value:s||l},component:b,label:"text"})),x.showTooltip&&t.valueToolText?C.enableToolTip(a,t.valueToolText):C.disableToolTip(a)):a&&b.removeGraphicalElement(a);else for(m=0,f=y.length;m<f;m++)(g=b.getGraphicalElement(y[m].id))&&b.removeGraphicalElement(g)}_drawAxisName(){var e,t,a,i,o,r,l=Math.max,s=this,c=s.config,h=this.getFromEnv("toolTipController"),d=s.getLinkedItem("canvas").getEffectiveDimensions(),g=s.getFromEnv("animationManager"),u=d.left,p=d.top,m=d.width,f=d.height,b=p+f,v=s.getFromEnv("chart").config,x=c.name.style,y=c.name.value,_=c.isOpposit,C=c.isVertical,O=s.getFromEnv("smartLabel"),L=c.axisNameContainer,w=c.axisNamePadding,k=c.nameMaxH,j=c.nameMaxW,A=c.axisDimention,F=C?A.x:A.y,S=A.opposite,T=s.getGraphicalElement("axisName"),E=Object(n._27)(c.name.rotation,C?90:270),P=s.getFromEnv("paper"),D={fontFamily:x.fontFamily,fontSize:x.fontSize,lineHeight:x.lineHeight,fontWeight:x.fontWeight,fontStyle:x.fontStyle};c.name.isDraw?(e={fontFamily:x.fontFamily,fill:x.color,"vertical-align":"middle","font-size":x.fontSize,"line-height":x.lineHeight},O.useEllipsesOnOverflow(v.useEllipsesWhenOverflow),O.setStyle({fontSize:x.fontSize,fontFamily:x.fontFamily,lineHeight:x.lineHeight,fontWeight:x.fontWeight}),c.drawAxisNameOpposit&&(_=!_,F=S),C?(w=l(w,function(e,t){var a=Math.max;let i=0;return e.relativeAxis&&e.relativeAxis.config&&e.relativeAxis.config.axisNamePadding&&(i=a(e.relativeAxis.config.axisNamePadding,i)),e.isOpposit&&t.canvasMarginRight&&(i=a(i,t.canvasMarginRight-t.marginLeft-e.nameMaxW)),!e.isOpposit&&t.canvasMarginLeft&&(i=a(i,t.canvasMarginLeft-t.marginRight-e.nameMaxW)),i}(c,v)),i=c.axisNameAlignCanvas||v.captionalignment&&"left"===v.captionalignment?f:l(f,c.oriCanvasHeight||0),E?(a=(t=O.getSmartText(y,i,j)).tooltext,o=t.width):(a=(t=O.getSmartText(y,j,i)).tooltext,o=t.height),r=c.drawAxisNameFromBottom?b-o/2:o>f?v.height/2:p+f/2,e.text=t.text,e.x=_?(F||u+m)+w+j/2:(F||u)-w-j/2,e.y=r):(a=(t=O.getSmartText(y,m,k)).tooltext,_&&v.canvasMarginTop&&(w=l(w,v.canvasMarginTop-v.marginTop-k)),!_&&v.canvasMarginBottom&&(w=l(w,v.canvasMarginBottom-v.marginBottom-k)),e.text=t.text,e.x=u+m/2,e.y=_?(F||p)-w-k/2:(F||b)+w+k/2),e["text-bound"]=""===t.text?[]:[x.backgroundColor,x.borderColor,x.borderColor?x.borderThickness:0,x.borderPadding,x.borderRadius,x.borderDash],e.transform=P.getSuggestiveRotation(C?E:0,e.x,e.y),T=s.addGraphicalElement("axisName",g.setAnimation({css:D,el:T||"text",attr:e,container:L,component:s,label:"text"})),c.showTooltip?h.enableToolTip(T,a):h.disableToolTip(T)):T&&s.removeGraphicalElement(T)}_drawAxisLine(){const e="axisLine";var t,a,i,o,r,l,s,c,h,d,g,u,p,m,b,v,x,y,_=this,C=_.config,O=C.isVertical,k=C.isOpposit,j=_.getFromEnv("chart"),F=_.getLinkedItem("canvas").getEffectiveDimensions(),T=_.getFromEnv("animationManager"),E=F.top,D=F.left,V=E+F.height,I=D+F.width,M=C.axisDimention,R=O?M.x:M.y,B=C.drawAxisLineWRTCanvas,N=j.getFromEnv("dataSource").chart,G=C.axisAxisLineContainerBottom,W=_.getGraphicalElement("axisLine"),H=[];if(o=1===Object(n._27)(N.showyaxisline,N.showyaxisline)?Object(n._27)(N.yaxislinethickness,N.pyaxislinethickness,1):0,C.showAxisLine){if(O?(k?r=(R=B?I:R)+C.axisLineThickness/2:r=(R=B?D:R)-C.axisLineThickness/2,i=(v=S(["M",r,V,"L",r,E],C.axisLineThickness)).path):(k?r=(R=B?E:R)-C.axisLineThickness/2:r=(R=B?V:R)+C.axisLineThickness/2,i=(v=S(["M",D-o,r,"L",I,r],C.axisLineThickness)).path),c={path:i,stroke:C.axisLineColor,"stroke-linecap":w,"stroke-width":C.axisLineThickness,"shape-rendering":v.isCrisped?L:n.D},C.drawTick&&C.tickLength)for(t={stroke:C.tickColor,"stroke-width":C.tickWidth},l=O?k?r+C.tickLength:r-C.tickLength:k?r-C.tickLength:r+C.tickLength,b=0,y=(x=C.tickValues?C.tickValues.tickValue.map(e=>O?e.y:e.x):C.ticks).length;b<y;b+=1)p=`${u=x[b]}${A}`,d=_.getGraphicalElement(p),s=_.getPixel(u,P),t.path=S(O?["M",r,s,"L",l,s]:["M",s,r,"L",s,l],C.tickWidth).path,h=T.setAnimation({el:d||"path",attr:t,data:{value:u,path:t.path},container:G,component:_,label:"path"}),d||_.addGraphicalElement(p,h),H.push(p);a=T.setAnimation({el:W||"path",attr:c,container:G,component:_,label:"path"}),W||_.addGraphicalElement(e,a),H.push(e)}for(b=0,y=(m=f(C.prevTicks,H)).length;b<y;b++)(g=_.getGraphicalElement(m[b]))&&_.removeGraphicalElement(g);C.prevTicks=H}_parseCategory(){var e,t,a,i,o,r,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C,O,L,w,k,j,A,F,S,T=Math.abs,E=this,D=E.config,V=D.axisDimention||{},I=E.getFromEnv("chart"),M=I.getFromEnv("smartLabel"),R=E.components,B=R.labels,N=E.getLinkedItem("canvas").getEffectiveDimensions(),G=I.config,W=D.isOpposit,H=D.labels,z=H.style,Y=D.isVertical,X=N.top,Z=N.left,K=X+N.height,U=Z+N.width,q=D.labelPadding,J=Y?V.x:V.y,$=V.opposite,Q=I.getFromEnv("dataSource").categories,ee={},te=D.tickValues.tickValue,ae=D.axisRange.min,ie=D.drawnStaggerLines,ne=(D.labelStep!==D.labels.step||1!==E.getZoom())&&"stagger"===D.labelDisplay;if(D.labels.isDraw)for(Y&&(k=T(E.getPixel(0,P)-E.getPixel(0+D.axisRange.tickInterval,P)),D.labelMaxH>k&&(C=Math.ceil(D.labelMaxH/k)),C>D.labels.step&&(D.labels.step=C)),ne&&(w=2*T(E.getPixel(ae,P)-E.getPixel(ae+D.labels.step,P))*D.sWidthAdjstFactor-1),A=(i=D.labels.rotation)?D.labelMaxH:D.labelMaxW,F=i?D.labelMaxW:D.labelMaxH,D.drawLabelsOpposit&&(W=!W,J=$),Q&&Q[0]&&"auto"!==D.xAxisLabelMode&&(ee.fontFamily=Q[0].font,ee.fontSize=Q[0].fontsize,ee.color=Q[0].fontcolor),D.ParentCss=p={fontFamily:Object(n._25)(ee.fontFamily,z.fontFamily),fontSize:Object(n._25)(ee.fontSize,z.fontSize),fontWeight:Object(n._25)(z.fontWeight),fontStyle:Object(n._25)(z.fontStyle)},p.lineHeight=Object(n._35)(p),y=E._getCategoryArr(),R.labelIndexArr=[],e=0,_=y.length;e<_;e+=1)t=te[S=y[e].index],v=y[e].value,R.labelIndexArr.push(S),h=Object(n._25)(t.font,t.labelfont),d=Object(n._25)(t.fontsize,t.labelfontsize),g=Object(n._25)(t.fontbold,t.labelfontbold)?Object(n._27)(t.fontbold,t.labelfontbold,0)?"bold":n.n:n.D,u=Object(n._25)(t.fontitalic,t.labelfontitalic)?Object(n._27)(t.fontitalic,t.labelfontitalic,0)?"italic":n.n:n.D,f=Object(l.c)(Object(n._25)(t.fontcolor,t.labelfontcolor,ee.color,z.color),Object(n._27)(t.labelalpha,D.rawAttr.labelFontAlpha,I.config.singleseries?n.D:t.alpha,100)),h||d||g||u?(c={},h&&(c.fontFamily=h),d&&(c.fontSize=d),g&&(c.fontWeight=g),u&&(c.fontStyle=u),c.lineHeight=d?Object(n._35)(c):p.lineHeight):c=n.D,(c||p)&&(-1!==(r=(c||p).lineHeight).indexOf("px")&&(o=r.replace(/px/i,""),o=parseFloat(o))),!1===t.appliedSmartLabel&&(M.setStyle(t._ovrStyle||p),j=M.getSmartText(t.oriLabel||t.label,A,F),t.oriLabel=t.oriLabel||t.label,t.label=j.text,t.labelTooltext=j.labelTooltext,t.appliedSmartLabel=!0),b=E.getPixel(v,P),Y?(a=t.label||"",s=+t.labelPadding||0,m={fill:f,"line-height":o,opacity:1,"text-anchor":W?n.v:n.r,text:a,cursor:!G.singleseries&&t.link||t.labellink||z.labelLink?n.p:"",x:W?(J||U)+q:(J||Z)-q,y:s?b+s:b}):(a=t.label||"",s=+t.labelPadding||0,m={fill:f,"line-height":o,opacity:1,text:a,cursor:!G.singleseries&&t.link||t.labellink||z.labelLink?n.p:"",x:b,y:W?(X||J)-q:(J||K)+q},i?(m["text-anchor"]=W?n.v:n.r,m["vertical-align"]="middle"):(m["text-anchor"]=n.t,m["vertical-align"]=W?n.q:n.w),ne?((O=t.labelCount%ie)&&(!(o=t.style.lineHeight)&&(o=D.labels.style.lineHeight),L=o.replace(/px/i,"")*O,m.y=W?m.y-L:m.y+L),M.setStyle(t._ovrStyle||p),j=M.getSmartText(t.oriLabel||t.label,w,F),t.oriLabel=t.oriLabel||t.label,m.text=t.label=j.text,t.labelTooltext=j.labelTooltext,t.appliedSmartLabel=!0):s&&(W?m.y-=s:m.y+=s)),x={label:t.label,lineHeight:r,border:Object(n._27)(t.borderthickness,t.labelborderthickness)?Object(n._27)(t.borderthickness,t.labelborderthickness,1)+"px solid":"",borderColor:t.bordercolor||t.labelbordercolor?Object(l.c)(t.bordercolor||t.labelbordercolor,Object(n._27)(t.borderalpha,t.labelborderalpha,t.alpha,t.labelalpha,100)):n.b,borderThickness:Object(n._27)(t.borderthickness,t.labelborderthickness),borderPadding:Object(n._27)(t.borderpadding,t.labelborderpadding),borderRadius:Object(n._27)(t.borderradius,t.labelborderradius),backgroundColor:t.bgcolor||t.labelbgcolor?Object(l.c)(t.bgcolor||t.labelbgcolor,Object(n._27)(t.bgalpha,t.labelbgalpha,t.alpha,t.labelalpha,D.rawAttr.labelFontAlpha,100)):n.b,borderDash:Object(n._27)(t.borderdashed,t.labelborderdashed,0)?Object(n.Y)(Object(n._27)(t.borderdashlen,t.labelborderdashlen,4),Object(n._27)(t.borderdashgap,t.labelborderdashgap,2)):0===Object(n._27)(t.borderdashed,t.labelborderdashed)?n.j:z.borderDash},m["text-bound"]=t.label?[Object(n._25)(x.backgroundColor,z.backgroundColor),Object(n._25)(x.borderColor,z.borderColor),Object(n._25)(x.borderThickness,z.borderThickness),Object(n._25)(x.borderPadding,z.borderPadding),Object(n._25)(x.borderRadius,z.borderRadius),Object(n._25)(x.borderDash,z.borderDash)]:[],H.shiftX&&(m.x+=H.shiftX),H.shiftY&&(m.y+=H.shiftY),m.transform=Object(n._5)(i,m.x,m.y),B[S]=B[S]||{config:{props:{label:{}}}},B[S].config.props.label.attr=m,B[S].config.props.label.css=c}allocatePosition(){var e=this,t=e.config;t.tickValues?t.drawLabels&&e._parseCategory():t.drawLabels&&e._parseLabel()}_drawCategory(){var e,t,a,i,o,r,l,s,c,h,d,g=this,u=g.config,p=g.getFromEnv("chart"),m=p.config,f=u.labels,b=g.getFromEnv("animationManager"),x=f.style,y=this.getFromEnv("toolTipController"),_=u.axisContainer,C=g.config.categoryLabel||(g.config.categoryLabel=[]),O=function(e){return function(t){p.plotEventHandler(this,t,e)}},L=u.tickValues.tickValue,w=[];if(u.labels.isDraw){for(_.css(u.ParentCss),r=g._getCategoryArr(),o=v()((e,t)=>e.value===t.value,u.prevCategoryIntervalArr,r),e=0,s=o.length;e<s;e++)(h=g.getGraphicalElement(`${o[e].value}${F}`))&&g.removeGraphicalElement(h);for(u.prevCategoryIntervalArr=Object(n.T)([],r),e=0,s=r.length;e<s;e+=1)w[e]=`${r[e].value}${F}`;for(e=0,s=r.length;e<s;e+=1)t=L[d=r[e].index],i=(c=g.components.labels[d].config).props.label.attr,l=g.getGraphicalElement(w[e]),a=b.setAnimation({el:l||"text",attr:i,container:_,data:{value:void 0},component:g,label:"text",css:c.props.label.css}),l||(g.addGraphicalElement(w[e],a),a.click(O("dataLabelClick")).hover(O("dataLabelRollOver"),O("dataLabelRollOut"))),a.data(k,{link:!m.singleseries&&t.link||t.labellink||x.labelLink,text:i.text,index:d}),t.labelTooltext?y.enableToolTip(a,t.labelTooltext):y.disableToolTip(a),C[d]=a}else for(e=0,s=u.prevCategoryIntervalArr.length;e<s;e++)(h=g.getGraphicalElement(`${u.prevCategoryIntervalArr[e].value}${F}`))&&g.removeGraphicalElement(h)}_getCategoryArr(){var e,t,a,i,o,r,l,s,c,h,d=this,g=d.config,u=g.isVertical,p=0,m=0,f=[];for(e=g.tickValues.tickValue,i=D(e),a=e?e.length-1:0,u&&(c=Math.abs(d.getPixel(0,P)-d.getPixel(1,P)),g.labelMaxH>c&&(p=Math.ceil(g.labelMaxH/c)),p>g.labels.step&&(g.labels.step=p)),s=0<g.labels.step?g.labels.step:1,h=1!==d.getZoom(),r=this.getVisibleConfig(),t=i;t<=a;t+=s)if((o=e[t])&&(l=Object(n._27)(o.x,o.y,t),0!==Object(n._27)(o.showlabel,g.showLabels,1))){if(h&&(l<r.minValue||l>r.maxValue)){o.labelCount=m++;continue}("auto"!==g.xAxisLabelMode&&"mixed"!==g.xAxisLabelMode||0!==g.showZeroPlane&&0!==g.showZeroPlaneValue||0!==l)&&(g.labels.drawNormalVal||g.labels.drawLimitVal&&(t==i||t==a))&&(g.labels.drawNormalVal||t==i||t==a)&&(g.labels.drawLimitVal||t!=i&&t!=a)&&(o.labelCount=m++,f.push({index:t,value:l}))}return f}getValue(e,t={wrtVisible:!1}){var a=this.getScale(),i=this.getTranslation();return a.getDomainValue(t.wrtVisible?e:e-i)}getPixel(e,t={wrtVisible:!1}){var a=this.getScale(),i=this.getTranslation(),n=a.getRangeValue(e);return t.wrtVisible?n:n+i}_getCustomPixel(e,t,a={wrtVisible:!1}){if(!t)return this.getPixel(e,a);var i=this.getScale().copy(),[n,o]=i.getRange(),r=Math.min(n,o),l=i.getRangeValue(e),s=this.getTranslation();return i.setRange([r,r+t]),a.wrtVisible?l:l+s}getTranslation(){return this.config.translation||0}setScrollType(e){("none"===e||"smart"===e||"always"===e)&&(this.config.scrollType=e,"none"===e?this.disableScroll():this.enableScroll())}getScrollType(){return this.config.scrollType}_createScrollBar(){var e,t,a,i=this,n=i.config,o=i.getFromEnv("chart"),r=i.getFromEnv("animationManager"),l=i.getLinkedItem("scrollBar");e=o.getFromEnv("toolbox"),t=o.getFromEnv("toolBoxAPI").Scroller,l||i.setLinkedItem("scrollBar",l=new t),l.configure({isHorizontal:!n.isVertical},e.idCount,e.pId,i.getFromEnv("chartInstance").id),l.attachEventHandlers({scrollStart:function(e){a=e,o.fireChartInstanceEvent("scrollstart",{scrollPosition:e})},scroll:function(e){let t=n.axisRange.max,a=n.axisRange.min,l=i.getVisibleConfig(),s=l.minValue,c=l.maxValue-s,h=m(a,t-c),d=n.isReverse?h(1-e):h(e);i.setState("scrolling",!0),r.setAnimationState("scroll"),o.fireChartInstanceEvent("onScroll",{scrollPosition:e}),i.setVisibleConfig(d,d+c)},scrollEnd:function(e){o.fireChartInstanceEvent("scrollend",{scrollPosition:e,prevScrollPosition:a})}})}_disposeScrollBar(){var e=this.getLinkedItem("scrollBar");e&&(e.hide(),this.removeLinkedItem("scrollBar"))}_drawScrollBar(){var e,t,a,i,o,r,l,s,c,h,d,g,u,p,m,f,b=this,v=b.getFromEnv("chart"),x=b.config,y=x.axisRange,_=x.scrollOptions||(x.scrollOptions={}),C=y.max,O=y.min,L=_.vxLength,w=b.getLinkedItem("scrollBar"),k=v.getChildren("canvas")[0].config,j=x.scrollerContainer;w&&(e=k.canvasLeft,t=k.canvasTop,a=k.canvasHeight,i=k.canvasWidth,o=k.canvasBorderWidth,r=x.showAxisLine&&x.axisLineThickness||0,l=Object(n._27)(o,x.lineStartExtension),s=Object(n._27)(o,x.lineEndExtension),_.viewPortMin=O,_.viewPortMax=C,c=(p=(g=b.getVisibleConfig()).maxValue-(u=g.minValue))/(m=y.max-y.min),f=(u-y.min)/(m-p),h=_.windowedCanvasWidth=b.getPixel(L,P),d=_.fullCanvasWidth=b.getPixel(C-O,P)-h,x.isVertical?w.draw(e,t,{height:a,scrollRatio:c,roundEdges:k.isRoundEdges,fullCanvasWidth:d,windowedCanvasWidth:h,scrollPosition:x.isReverse?1-f:f,parentLayer:j}):w.draw(e-l,t+a+o+r-2,{width:i+l+s,scrollRatio:c,roundEdges:k.isRoundEdges,fullCanvasWidth:d,windowedCanvasWidth:h,scrollPosition:f,parentLayer:j}))}enableScroll(){this.isScrollEnabled()||this._createScrollBar()}disableScroll(){this.isScrollEnabled()&&this._disposeScrollBar()}isScrollEnabled(){return!!this.getLinkedItem("scrollBar")}setVisibleConfig(e,t){let a,i=this,n=i.config,o=i.getZoom(),r=i.getScale();return!(e>=t||e<n.axisRange.min||t>n.axisRange.max||(a=r.setDomain([e,t]).getDomain(),n.visibleMin=a[0],n.visibleMax=a[1],n.zoom=i._computeZoom(),n.translation=i._computeTranslation(),(1!==o||1!==i.getZoom())&&(n.ticks=i.generateTicks(),n.minorTicks=i.generateMinorTicks(),n.tickValues&&i.calculateTicksOnLabelMode&&i.calculateTicksOnLabelMode()),i.decideScroll(),i.clearReferenceInfo(),i._parseReferenceVisuals(),i.fireEvent("visiblerangeset",{minValue:e,maxValue:t}),i.asyncDraw(),0))}hide(){var e=this.config;e.axisContainer&&(e.axisLabelContainerTop.hide(),e.scrollerContainer.hide(),e.axisContainer.hide(),e.axisNameContainer.hide(),e.axisTrendLabelContainer.hide(),e.axisAxisLineContainer.hide(),e.axisAxisLineContainerBottom.hide())}show(){var e=this.config;e.axisContainer&&(e.axisLabelContainerTop.show(),e.scrollerContainer.show(),e.axisContainer.show(),e.axisNameContainer.show(),e.axisTrendLabelContainer.show(),e.axisAxisLineContainer.show(),e.axisAxisLineContainerBottom.show())}getZoom(){return this.config.zoom||1}_computeTranslation(){let e=this.config,t=this.getVisibleConfig(),a=Object(n._27)(t.minValue,e.axisRange.min,0),i=Object(n._27)(e.axisRange.min,t.minValue,0);return this.getPixel(a)-this.getPixel(i)}_computeZoom(){let e=this.config,t=this.getVisibleConfig(),a=Object(n._27)(t.minValue,e.axisRange.min,0),i=Object(n._27)(t.maxValue,e.axisRange.max,1),o=Object(n._27)(e.axisRange.min,t.minValue,0),r=Object(n._27)(e.axisRange.max,t.maxValue,1),l=e.maxZoomLimit,s=(r-o)/(i-a);return s>l?l:s}getTickValues(){var e=this.config.tickValues;return e&&e.tickValue||[]}dataLabels(e){var t=this.config.axisIndex;return this.getFromEnv("number-formatter").dataLabels(e,t)}getAxisBase(){let{minValue:e,maxValue:t}=this.getVisibleConfig();return 0>e&&0<t?0:0>=t?t:e}_parseReferenceVisuals(){var e,t,a=this,i=a.config,n=a.getTickValues(),o=n.length,r=a.getFromEnv("chartConfig").is3D;i.isActive||(e=i.lines.isDraw,t=i.band.isDraw,i.lines.isDraw=0,i.band.isDraw=0),i.tickValues?i.drawLabels&&a._parseCategoryLine(n,0,o):i.drawPlotlines&&a._parsePlotLine(),i.tickValues&&"auto"!==i.xAxisLabelMode?(i.drawPlotlines&&!r&&a._parseCategoryPlotLine(),i.drawPlotBands&&!r&&a._parseCategoryPlotBand(),"mixed"===i.xAxisLabelMode&&i.drawPlotBands&&!r&&a._parsePlotBand()):i.drawPlotBands&&!r&&a._parsePlotBand(),i.isActive||(i.lines.isDraw=e,i.band.isDraw=t),i.drawTrendLines&&a._parseTrendLine()}_parseCategoryPlotBand(){var e,t,a,i,o,r=this,s=r.config,c=s.tickValues.tickValue,h=s.showAlternateGridColor,d=s.alternateGridColor,g=s.alternateGridAlpha,u=s._allTicks,p=r.getLimit(),m=p.min,f=p.max,b=T(r.getVisibleConfig());if((!c[0]||c[0].x===n.D&&c[0].y===n.D)&&h&&s.band.isDraw&&s.categoryNumDivLines)for(e={fill:Object(n._38)(Object(l.c)(d,g)),"stroke-width":0},t=0,o=0;o<u.length;++t,++o)b(u[o],u[o+1])&&(a=u[o],0==t%2)&&(i=u[o+1])!==n.D&&(a===m&&(a="canvasStart"),i===f&&(i="canvasEnd"),r.setReferenceInfo({from:a,to:i,layer:0,type:"band",attr:e}))}_parseTrendLine(){var e,t,a,i,o,r,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C=this,O=C.config,L=O.isVertical,w=O.axisIndex,k=C.getFromEnv("chart-attrib"),j=C.getFromEnv("number-formatter"),A=O.axisRange,F=A.max,S=A.min,T=O.trend.trendStyle,E={fontFamily:T.fontFamily,fontSize:T.fontSize,lineHeight:T.lineHeight,fontWeight:T.fontWeight,fontStyle:T.fontStyle},P=O.vTrendLines,D=O.trendLines,V=0;if(s=D||P)for(a=0,i=s.length;a<i;a+=1)for(e=0,t=s[a].line&&s[a].line.length;e<t;e+=1)g=s[a].line[e],v=L?"yAxis":"xAxis",m=g.startvalue||g.value||0,m=j.getCleanValue(Object(n._25)(g.startvalue,g.value,0)),f=+g.endvalue||n.D,o=Object(n._7)(Object(n._23)(Object(n._25)(s[a].line[e].tooltext,s[0].tooltext,O.trendlineToolText))),o=Object(n._22)(o,[7,15,16,17,18,19],{startValue:m,startDataValue:j[v](m,w),endValue:f||m,endDataValue:j[v](f||m,w),axisName:O.axisName},g),!(m>F||m<S||f>F||f<S)&&(P?(u=Object(n._23)(g.displayvalue||""),c=Object(n._27)(g.istrendzone,O.isTrendZone,1),f!==n.D&&""!==f&&f!==m&&c?(h={fill:Object(l.c)(Object(n._25)(g.color,O.trendlineColor),Object(n._25)(g.alpha,O.trendlineAlpha,40)),"stroke-width":0},d={fill:Object(l.c)(Object(n._25)(g.color,T.color),Object(n._25)(g.alpha,O.trendlineAlpha,99)),"vertical-align":n.w,text:u}):(b=Object(n._27)(g.thickness,O.trendlineThickness,1),h={stroke:Object(l.c)(Object(n._25)(g.color,O.trendlineColor),Object(n._25)(g.alpha,O.trendlineAlpha,99)),"stroke-width":b,"stroke-dasharray":Object(n._25)(g.dashed,O.trendlinesAreDashed)===n.o?Object(n.Y)(Object(n._27)(g.dashlen,O.trendlinesDashLen),Object(n._27)(g.dashgap,O.trendlinesDashGap)):n.j},d={fill:Object(l.c)(Object(n._25)(g.color,T.color),Object(n._25)(g.alpha,O.trendlineAlpha,99)),"vertical-align":n.w,text:u})):D&&(u=Object(n._25)(Object(n._23)(g.displayvalue),g.startvalue,""),p=Object(n._27)(g.valueonright,0),c=Object(n._27)(g.istrendzone,O.isTrendZone,0),f!==n.D&&""!==f&&f!==m&&c?(h={fill:Object(l.c)(Object(n._25)(g.color,O.trendlineColor),Object(n._25)(g.alpha,O.trendlineAlpha,40)),"stroke-width":0},d={"text-anchor":p?n.v:n.r,fill:Object(l.c)(Object(n._25)(g.color,T.color),Object(n._25)(g.alpha,O.trendlineAlpha,99)),text:u}):(b=Object(n._27)(g.thickness,O.trendlineThickness,1),h={stroke:Object(l.c)(Object(n._25)(g.color,O.trendlineColor),Object(n._25)(g.alpha,O.trendlineAlpha,99)),"stroke-width":b,"stroke-dasharray":Object(n._25)(g.dashed,O.trendlinesAreDashed)===n.o?Object(n.Y)(Object(n._27)(g.dashlen,O.trendlinesDashLen),Object(n._27)(g.dashgap,O.trendlinesDashGap)):n.j},d={"text-anchor":p?n.v:n.r,fill:Object(l.c)(Object(n._25)(g.color,T.color),Object(n._25)(g.alpha,g.alpha,O.trendlineAlpha,99)),text:u})),d["text-bound"]=d.text?[T.backgroundColor,T.borderColor,T.borderThickness,T.borderPadding,T.borderRadius,T.borderDash]:[],O.showTooltip&&o||(o=""),r=O.forceTrendBelow?0:Object(n._27)(g.showontop,k.showtrendlinesontop,0),L?(x=m,_=f===n.D?m:f):(x=f===n.D?m:f,_=m),y=c&&x!==_?"band":"line",x!==n.D&&C.setReferenceInfo({from:x,to:_,toolText:o,attr:h,layer:r?3:2,type:y,id:"trend"+V+y}),O.parsedTrendLabels.push({css:E,valueOnRight:p,isTrendZone:c,from:m,to:f,attr:d}),V+=1)}_parsePlotLine(){var e,t,a,i,o,r=this,s=r.config,c=s.axisRange,h=c.max,d=c.min,g=E(r.getVisibleConfig()),u=s.showCanvasBorder,p=Object(l.c)(s.divLineColor,s.divLineAlpha),m=s.divLineThickness,f=s.divLineIsDashed?Object(n.Y)(s.divLineDashLen,s.divLineDashGap):n.j,b=Object(l.c)(s.zeroPlaneColor,s.zeroPlaneAlpha),v=s.zeroPlaneThickness,x=s._allTicks,y=x.length,_=s.showZeroPlaneOnTop,C=s.minorTicks,O=C&&C.length;if(s.lines.isDraw)for(t=0;t<y;++t)g(e=x[t])&&(i={"stroke-dasharray":f},!(0===s.showZeroPlane&&0===e||u&&(e===h||e===d)))&&(0===e&&e!==d&&e!==h?(i.stroke=b,i["stroke-width"]=v,_=s.showZeroPlaneOnTop):(_=0,i.stroke=p,i["stroke-width"]=m),r.setReferenceInfo({type:"line",from:e,layer:0===e&&_?3:1,attr:i}));for(o={stroke:s.minorDivlinecolor,"stroke-width":s.minorDivLineThickness,"stroke-dasharray":f},t=0;t<O;++t)a=C[t],r.setReferenceInfo({type:"line",from:a,layer:1,attr:o})}_parseCategoryLine(e,t,a){var i,o,r,s,c,h,d=this,g=d.config,u=d.getFromEnv("color-manager"),p=d.getFromEnv("chartInstance").getJSONData().categories,m={};if(t=t||0,a=a||e?e.length-1:0,g.drawPlotlines)for(h=1!==d.getZoom(),r=this.getVisibleConfig(),p&&p[0]&&(m.verticalLineColor=p[0].verticallinecolor,m.verticalLineAlpha=p[0].verticallinealpha,m.verticalLineThickness=p[0].verticallinethickness,m.verticalLineDashed=p[0].verticallinedashed,m.verticalLineDashLen=p[0].verticallinedashlen,m.verticalLineDashGap=p[0].verticallinedashgap),i=t;i<=a;i+=1)(o=e[i])&&(c=Object(n._27)(o.x,o.y,i),1==+o.showverticalline)&&(h&&(c<r.minValue||c>r.maxValue)||((s={stroke:Object(l.c)(Object(n._25)(o.linecolor,m.verticalLineColor,g.divLineColor,u.getColor("divLineColor")),Object(n._25)(o.linealpha,m.verticalLineAlpha,u.getColor("divLineAlpha"))),"stroke-width":Object(n._27)(o.linethickness,m.verticalLineThickness,1)})["stroke-dasharray"]=Object(n._27)(o.linedashed,m.verticalLineDashed,0)?Object(n.Y)(Object(n._27)(o.linedashLen,m.verticalLineDashLen,4),Object(n._27)(o.linedashgap,m.verticalLineDashGap,2),s["stroke-width"]):n.j,d.setReferenceInfo({type:"line",from:c,layer:1,attr:s})))}_parsePlotBand(){var e,t,a,i,o,r,s=Math.min,c=Math.max,h=this,d=h.config,g=d.showAlternateGridColor,u=d.alternateGridColor,p=d.alternateGridAlpha,m=d._allTicks,f=T(h.getVisibleConfig()),b=d.isReverse;if(g&&d.band.isDraw)for(t=1,e={fill:Object(n._38)(Object(l.c)(u,p)),"stroke-width":0},i=0,a=m.length;i<a;++i,++t)f(m[i],m[i+1])&&0==t%2&&m[i+1]!==n.D&&(r=b?c(m[i],m[i+1]):s(m[i],m[i+1]),o=b?s(m[i],m[i+1]):c(m[i],m[i+1]),h.setReferenceInfo({from:r,to:o,type:"band",layer:0,attr:e}))}getReferenceInfo(){return this.config.referenceInfo}setReferenceInfo(e){this.config.referenceInfo.push(e)}clearReferenceInfo(){let e=this.config;e.referenceInfo=[],e.parsedTrendLabels=[],e.parsedVlineInfo=[]}resetStoredLimits(){this.config.dataLimit={}}decideScroll(){let e=this,t=e.getScrollType();"always"===t||"smart"===t&&1!==e.getZoom()?e.enableScroll():e.disableScroll()}getAxisDimension(){let{x:e,y:t,opposite:a,axisLength:i}=this.config.axisDimention;return{x:e,y:t,opposite:a,axisLength:i}}}V.prototype.setAxisDimention=function(e){var t=this,a=t.getScale(),i=t.config,o=t.getFromEnv("chart").config,r=i.axisDimention||(i.axisDimention={}),l=i.isReverse;r.opposite=Object(n._27)(e.opposite,r.opposite),r.x=Object(n._27)(e.x,r.x,o.canvasLeft),r.y=Object(n._27)(e.y,r.y,o.canvasTop),r.axisLength=Object(n._27)(e.axisLength,r.axisLength),i.isVertical?l?a.setRange([r.y+r.axisLength,r.y]):a.setRange([r.y,r.y+r.axisLength]):l?a.setRange([r.x+r.axisLength,r.x]):a.setRange([r.x,r.x+r.axisLength]),i.translation=t._computeTranslation()},V.prototype.shiftLabels=function(e,t){var a=this.config.labels;a.shiftX=e,a.shiftY=t},V.prototype._createContainer=function(){let e,t,a,i,n,o=this,r=o.config,l=r.isVertical,s=o.getLinkedParent().getChildContainer(),c=s.axisBottomGroup,h=s.axisTopGroup,d=-o.getTranslation(),g=l?`T0,${d}`:`T${d},0`;t=o.createContainer("axisNameGroup",{name:"dataset-Name-group"},c),e=o.createContainer("axisLineGroup",{name:"axis-Line-group"},h),a=o.createContainer("axisTrendGroupTop",{name:"dataset-Trend-group-top"},h),i=o.createContainer("axisLabelGroup",{name:"dataset-Label-group"},c),n=o.createContainer("axisLabelGroupTop",{name:"dataset-Label-group"},h),r.scrollerContainer=o.createGroup("scrollerContainer",{name:"scroller-container"},e,"scroller"),r.axisContainer=o.createGroup("axisContainer",{name:"dataset-axis",transform:g},i),r.axisLabelContainerTop=o.createGroup("axisLabelContainerTop",{name:"dataset-top-label",transform:g},n),r.axisAxisLineContainer=o.createGroup("axisAxisLineContainer",{name:"axis-line-tick"},e),r.axisTrendLabelContainer=o.createGroup("axisTrendLabelContainer",{name:"dataset-axis-trend-label"},a),r.axisNameContainer=o.createGroup("axisNameContainer",{name:"dataset-axis-name"},t),r.axisAxisLineContainerBottom=o.createGroup("axisAxisLineContainerBottom",{name:"axis-line-tick-bottom"},c)};var I=V;const M=3,R=10;class B extends I{_getHMaxLabelDimention(e){function t(e,t){switch(t.toLowerCase()){case"left":return H(Y._getCustomPixel(e));case"right":return H(K.width-Y._getCustomPixel(e))}}var a,i,o,r,l,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C,O,L,w,k,j,A,F,S,T,E,P,V,I,B=Math.ceil,N=Math.max,G=Math.floor,W=Math.min,H=Math.abs,z=Number.POSITIVE_INFINITY,Y=this,X=Y.config,Z=Y.getFromEnv("chart"),K=Z.config,U=Z.getFromEnv("smartLabel"),q=X.axisRange,J=X.labels,$=X.labelDisplay,Q=X.slantLabel,ee=J.style,te=X.maxLabelHeight,ae=Y.getInterval(),ie=X.staggerLines,ne=X.labelStep,oe=K.canvasLeft,re=K.canvasRight,le=ie-2,se=q.max,ce=q.min,he=0,de=X.tickValues&&X.tickValues.tickValue,ge=de&&de.length,ue=Z.distributedColumns,pe=0,me={text:n.D,width:0,style:n.D},fe=0,be=4,ve=n._36,xe=n._36,ye=n._36,_e={},Ce=0,Oe=!1,Le=0,we=!1,ke=z,je=X.ticks,Ae=z;if(ue)for(v=0;v<ge;v++)de[v+1]?de[v].x&&(de[v].plotWidth=Y.getPixel(de[v+1].x-de[v].x)-Y.getPixel(0)):de[v].plotWidth=Y.getPixel(K.canvasRight-de[v].x)-Y.getPixel(0);if(X.tickValues&&(!de||0===de.length))return{width:0,height:0};if("rotate"===$&&(X.rotateLabels=1),X.tickValues||(X.irregularCatAxis=!1),X.sWidthAdjstFactor=i=0==le?1:1==le?1.5:le,U.useEllipsesOnOverflow(K.useEllipsesWhenOverflow),U.setStyle({fontSize:ee.fontSize,fontFamily:ee.fontFamily,lineHeight:ee.lineHeight,fontWeight:ee.fontWeight}),X.irregularCatAxis){for(de.sort(function(e,t){return e.x-t.x}),v=0,pe=de.length;v<pe;v++){if(l=de[v],void 0!==L){if(Ae=H(l.x-L),k=H(Y._getCustomPixel(ce)-Y._getCustomPixel(ce+Ae)),U.setStyle(Object.assign({},l.style)),k<1.2*U.getOriSize("W").width){l.label="",Ae=ke;continue}j._individualIWR=k,l._individualIWL=k,ke=Ae}j=l,L=l.x}for(Ae===z&&(Ae=G(W(l.x,se-l.x)),Ae=N(Ae,4)),v=0,pe=de.length;v<pe;v++)l=de[v],v||(l._individualIWL=1/0),v===pe-1&&(l._individualIWR=1/0),l.individualIW=W(l._individualIWL,l._individualIWR);c=H(Y._getCustomPixel(ce)-Y._getCustomPixel(ce+Ae)),c=W(2*t(de[0].x,"left"),2*t(de[pe-1].x,"right"),c)}else c=H(Y._getCustomPixel(ce)-Y._getCustomPixel(ce+ae));if(e=te||e,_e.__root__={getHeight:function(e){var t=de[e]._ovrStyle.lineHeight;return parseInt(t.replace(/(\d+)px/,"$1"),10)},getWidth:function(){return e},getCalculatedLabelStep:function(e){var t,a,i,o,r,l,d,g,u,p,m=0,f=e.length,b=Number.NEGATIVE_INFINITY,v={},x=0;for(m=0;m<f;m++)(o=e[m]).style=o.style||{};if(X.irregularCatAxis)return X.labelStep;for(m=0;m<f;m++)(o=e[m])&&(o.label||(o.label=""),r=o.oriLabel||o.label,s={fontSize:ee.fontSize,fontFamily:ee.fontFamily,lineHeight:ee.lineHeight,fontWeight:ee.fontWeight},x++,o.style=o.style||{},Object(n.T)(s,o.style),v[t=s.fontSize+s.fontFamily+s.lineHeight+s.fontWeight]?r.length>v[t].label.length&&(v[t].label=r):v[t]={label:r,style:s});for(l in v)v.hasOwnProperty(l)&&(a=v[l].style,i=v[l].label,a.lineHeight=Object(n._35)(a),U.setStyle(a),X.rotateLabels&&(u=parseInt(a.lineHeight.replace(/(\d+)px/,"$1"),10)),h=U.getSmartText(i,n.D,u),g=0===X.rotateLabels?60<h.width?60:h.width:h.height,b=N(g,b));return d=G(H(Y._getCustomPixel(se)-Y._getCustomPixel(ce))/b),p=N(B(x/d),X.labelStep),c=H(Y._getCustomPixel(ce)-Y._getCustomPixel(ce+p)),x<=d?X.labelStep:p}},_e._inProp={},_e.getCopyById=function(e){var t,a=this._inProp,i=this.__root__,o=a.copyStore;return(t=(o=o||{})[e])||(Object(n.T)(t=o[e]={},i),t)},X.tickValues){for("rotate"===$?(J.rotation=Q?300:270,u=_e.getCopyById("rotate")):"stagger"===$?((u=_e.getCopyById("stagger")).getHeight=function(e){var t,a;return a=(t=X.tickValues.tickValue[e])&&t.style||(t.style={}),s={fontSize:ee.fontSize,fontFamily:ee.fontFamily,lineHeight:ee.lineHeight,fontWeight:ee.fontWeight},Object(n.T)(s,a),U.setStyle(s),U.getOriSize(t.label).height},u.getWidth=function(e){return be=1,e.individualIW?e.individualIW:2*c*i-be},ye=function(t){var a,i,n,o,r,l,s=t.length,c=0;if(U.setStyle(ee),n=U.getOriSize("WWW").height,i=t[s-1],G(i._cumulativeSum)<=B(s*(n+2)))r=G(e/n),ie=0>r-ie?r:ie;else{r=G(e/(n+4));do{for(c=0,o=(l=r)-1,s=t.length;o<s;){if(s-o<r&&(o=s-1),~~((a=t[o])._cumulativeSum-c)>-~e){Oe=!0;break}Oe=!1,c=a._cumulativeSum,o+=l}}while(r--&&Oe);ie=W(ie,++r)}X.drawnStaggerLines=ie},ve=function(e){var t,a,i,n,r=0;for(n=0,a=e.length;n<a;n++)!(t=e[n]).stepSkipped&&((i=(t&&t.style||{}).lineHeight)||(i=ee.lineHeight),o=r++%ie,t.labelPadding=o?i.replace(/px/i,"")*o:0)}):"none"===$?((u=_e.getCopyById("none")).getHeight=n._36,u.getWidth=n._36,xe=n._36,X.rotateLabels&&(J.rotation=Q?300:270,w=e),u.getCalculatedLabelStep=function(){return X.labelStep}):((u=_e.getCopyById("auto")).getHeight=function(){return e},u.getWidth=function(e){return e.individualIW?e.individualIW:c-2*be},xe=function(e,t){var a,i,o,r,l=Z.getFromEnv("chart-attrib"),s=Object(n._27)(l&&l.rotatelabels);if(!X.irregularCatAxis&&(U.setStyle(e),U.getOriSize("WWW").width>=c&&0!==s)){for(J.rotation=Q?300:270,J.forceRotate=!0,u=_e.getCopyById("rotate"),d=u.getWidth,g=u.getHeight,me.width=0,a=0,i=t.length;a<i;a++)(o=t[a])&&(o.label||o.oriLabel)&&0!==Object(n._27)(o.showlabel,X.showLabels,1)&&!0!==o.stepSkipped&&(r=o._ovrStyle,U.setStyle({fontSize:r.fontSize,fontFamily:r.fontFamily,lineHeight:r.lineHeight,fontWeight:r.fontWeight}),h=U.getSmartText(o.oriLabel,d(o),g(a)),o.label=h.text,o.labelTooltext=h.tooltext,o._sLabel=h,me.width<h.width&&(me.text=h.text,me.width=h.width,me.height=h.height,me.style=r));p=me.text}}),d=u.getWidth,g=u.getHeight,ne=X.labels.step=X.labelStep=X._oriLabelStep,ne=X.labels.step=X.labelStep=u.getCalculatedLabelStep(de),v=D(de),m=0,x=0,pe=de.length;v<pe;v++,m++)if((l=de[v])&&(l.label||l.oriLabel)&&0!==Object(n._27)(l.showlabel,X.showLabels,1)){if(we=!0,s={fontSize:ee.fontSize,fontFamily:ee.fontFamily,lineHeight:ee.lineHeight,fontWeight:ee.fontWeight},Object(n.T)(s,l.style),s.lineHeight=Object(n._35)(s),(P=s.fontSize+s.fontFamily+s.lineHeight+s.fontWeight)!=E&&(U.setStyle(s),E=P),m%ne){l.stepSkipped=!0,l.appliedSmartLabel=!1,Le++;continue}l.appliedSmartLabel=!0,l.stepSkipped=!1,l._ovrStyle=s,de[v].plotWidth?a=N("rotate"===$?de[v].plotWidth-6:0,g(v)):("rotate"===$?v<pe-1&&(r=Y.getPixel(v+1)-Y.getPixel(v)-R):r=0,"rotate"===$&&isNaN(+r)&&(r=K.canvasWidth/Y.getVisibleLength()-M),a=N(r,g(v))),Ce+=(h=U.getSmartText(l.oriLabel||l.label,d(l),a)).height+2,Y.components.labels[x++]={config:{width:h.width,height:h.height,props:{label:{}}}},l._cumulativeSum=Ce,l.oriLabel=l.oriLabel||l.label,l.label=h.text,l.labelTooltext=h.tooltext,l._sLabel=h,me.width<h.oriTextWidth&&(Object(n.T)(me,h),me.style=s),fe<h.height&&(fe=h.height)}if(!we)return{height:0,width:0};if(ye(de,Le),ve(de,Le),xe(me.style,de),p=me.text||"","mixed"===X.xAxisLabelMode)for(C=X.isPercent?Z.getFromEnv("number-formatter").percentValue:Z.getFromEnv("number-formatter").xAxis,he=p.length,v=0,V=je&&je.length;v<V;++v)_=je[v],(y=""+C.call(Z.getFromEnv("number-formatter"),_,X.axisIndex)).length>he&&(p=y,he=y.length);for(me.height=N(fe,me.height||0),S=de.length,v=0,pe=de.length;v<pe&&!(A=de[v])._sLabel;v++);for(v=(pe=de.length)-1;0<=v&&!(F=de[v])._sLabel;v--);T=1!==Y.getZoom(),J.rotation||T||!A._sLabel?(X.axisEndLabelDisplaySpace.left=0,X.axisEndLabelDisplaySpace.right=0):(X.axisEndLabelDisplaySpace.left=N(oe-(Y._getCustomPixel(A.x||0)-A._sLabel.width/2),0),X.axisEndLabelDisplaySpace.right=N(Y._getCustomPixel(F.x||S-1)+F._sLabel.width/2-re,0)),O=me}else{for(C=X.numberFormatterFn?Z.getFromEnv("number-formatter")[X.numberFormatterFn]:X.isPercent?Z.getFromEnv("number-formatter").percentValue:Z.getFromEnv("number-formatter").xAxis,v=0,V=je&&je.length;v<V;++v)I=je[v],_=Object(n._37)(I,10),y=""+C.call(Z.getFromEnv("number-formatter"),_,X.axisIndex),I===ce&&(f=y),I===se&&(b=y),O=U.getOriSize(y),Y.components.labels[v]={config:{width:O.width,height:O.height,props:{label:{}}}},y.length>he&&(p=y,he=y.length);U.setStyle({fontSize:ee.fontSize,fontFamily:ee.fontFamily,lineHeight:ee.lineHeight,fontWeight:ee.fontWeight}),O=U.getOriSize(p||""),"rotate"===$&&(J.rotation=270),X.rotateLabels&&(J.rotation=Q?300:270),J.rotation||(f=U.getOriSize(f||""),b=U.getOriSize(b||""),X.axisEndLabelDisplaySpace.left=f.width/2+2,X.axisEndLabelDisplaySpace.right=b.width/2+2)}return X.tickValues&&"stagger"===$&&(O.height=ie*me.height),O.width=w?W(w,O.width):O.width,O.width=Object(n._27)(O.width),O.maxWidth=Object(n._27)(O.maxWidth),O}_getVMaxLabelDimention(e){var t,a,i,o,r,l,s,c,h,d,g,u,p,m,f=this,b=f.config,v=f.getFromEnv("chart"),x=v.config,y=v.getFromEnv("smartLabel"),_=b.labels.style,C=b.useEllipsesWhenOverflow,O=b.maxLabelWidthPercent,L=b.minLabelWidthPercent,w=0,k=v.getFromEnv("dataSource").categories,j={height:0,width:0},A=b.ticks,F={};if(y.useEllipsesOnOverflow(x.useEllipsesWhenOverflow),y.setStyle({fontSize:_.fontSize,fontFamily:_.fontFamily,lineHeight:_.lineHeight,fontWeight:_.fontWeight}),b.tickValues){for(k&&(F={fontFamily:k[0].font,fontSize:k[0].fontsize,color:k[0].fontcolor}),O&&((a=O/100*x.width)<e&&(e=a)),L&&((i=L/100*x.width)>e&&(e=i)),o=0,h=(c=b.tickValues.tickValue).length;o<h;o++)d=c[o],0!==Object(n._27)(d.showlabel,b.showLabels)&&(p={fontFamily:Object(n._25)(d.font,d.labelfont,F.fontFamily,_.fontFamily),fontSize:Object(n._25)(d.fontsize,d.labelfontsize,F.fontSize,_.fontSize).replace(/px/i,"")+"px",fontWeight:"normal"==_.fontWeight?Object(n._27)(d.fontbold,d.labelfontbold,0)?"bold":"normal":_.fontWeight,fontStyle:"normal"==_.fontStyle?Object(n._27)(d.fontitalic,d.labelfontitalic,0)?"italic":"normal":_.fontStyle},(m={fontFamily:Object(n._25)(p.fontFamily,F.fontFamily,_.fontFamily),fontSize:Object(n._25)(p.fontSize,F.fontSize,_.fontSize),fontWeight:Object(n._25)(p.fontWeight,_.fontWeight),fontStyle:Object(n._25)(p.fontStyle,_.fontStyle)}).lineHeight=Object(n._35)(m),y.setStyle(m),g=y.getSmartText(d.oriLabel||d.label,e,_.lineHeight,C),f.components.labels[o]={config:{width:g.width,height:g.height,props:{label:{}}}},d.oriLabel=d.oriLabel||d.label,d.label=s=g.text,d.labelTooltext=g.tooltext,g.width>w&&(j=g,w=g.width));return j}for(u=b.numberFormatterFn?v.getFromEnv("number-formatter")[b.numberFormatterFn]:b.isPercent?v.getFromEnv("number-formatter").percentValue:v.getFromEnv("number-formatter").yAxis,o=0,r=A&&A.length;o<r;++o)l=Object(n._37)(A[o],10),s=""+u.call(v.getFromEnv("number-formatter"),l,b.axisIndex),g=y.getSmartText(s),f.components.labels[o]={config:{width:g.width,height:g.height,props:{label:{}}}},s.length>w&&(t=s,w=s.length);return y.getOriSize(t)}getCleanValue(e,t){return this.getFromEnv("number-formatter").getCleanValue(e,t)}generateMinorTicks(){if(this)return[]}setCanvas(e){this.config.canvas=e}_adjustNumberFormatter(e){var t,a,i=this.config,o=i.axisIndex,r=i.isVertical,l=this.getFromEnv("chart").getFromEnv("number-formatter"),s=i._defaultDecimalPrecision,c=i._defaultForceDecimal,h=0;a=r||"yAxis"===i.numberFormatterFn?(l.Y[o]||l.Y[0]).yAxisLabelConf:l.paramX,s===n.D?i._defaultDecimalPrecision=a.decimalprecision:a.decimalprecision=s,c===n.D?i._defaultForceDecimal=a.forcedecimals:a.forcedecimals=c,0<parseInt(e,10)||(t=e.toString().split(".")[1])&&((h=t.match(/^[0]*/)[0].length+1)>a.decimalprecision&&(a.forcedecimals=1),a.decimalprecision=Math.max(h,a.decimalprecision))}setLabelConfig(e){var t,a=this.config.labels;for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t])}}B.prototype._parseLabel=function(){var e,t,a,i,o,r,l,s,c,h,d,g,u,p,m,f,b=Math.ceil,v=this,x=v.config,y=v.getLinkedItem("canvas").getEffectiveDimensions(),_=x.axisDimention,O=v.getFromEnv("chart"),L=O.config,w=x.axisRange,k=x.isOpposit,j=x.labels,A=v.components,F=A.labels,S=j.style,T=O.getFromEnv("smartLabel"),E=x.isVertical,P=w.max,D=w.min,V=v.getFromEnv("number-formatter"),I=y.top,M=y.left,R=I+y.height,B=M+y.width,N=x.labelPadding,G=x.extremeLabels,W=E?_.x:_.y,H=_.opposite,z=x.labelMaxH,Y=x.labelMaxW,X=w.tickInterval,Z=Math.abs(v.getPixel(D,C)-v.getPixel(D+X,C)),K=[],U=x.ticks,q=0,J=x.isReverse,$=Object(n._27)(v.getFromEnv("chart-attrib").showzeroplanevalue),Q=!0,ee=v.getLimit();if(T.useEllipsesOnOverflow(L.useEllipsesWhenOverflow),T.setStyle({fontSize:S.fontSize,fontFamily:S.fontFamily,lineHeight:S.lineHeight,fontWeight:S.fontWeight}),(i=S.lineHeight)&&-1!==i.indexOf("px")&&(i=parseFloat(i.replace("px",""))),0===$&&(Q=!1),x.labels.isDraw){if(x.drawLabelsOpposit&&(k=!k,W=H),c={fill:S.color,"line-height":i,"font-size":S.fontSize,opacity:1},a=x.labels.rotation,E?(x.labelMaxH>Z&&!x.tickValues&&(l=b(x.labelMaxH/Z)),c["text-anchor"]=k?n.v:n.r):(x.labelMaxW>Z&&!x.tickValues&&(l=b(x.labelMaxW/Z)),a?(c["text-anchor"]=k?n.v:n.r,c["vertical-align"]="middle"):c["vertical-align"]=k?n.q:n.w,d=M,g=L.width-B),l>x.labels.step&&(x.labels.step=l),s=x.numberFormatterFn?V[x.numberFormatterFn]:x.isPercent?V.percentValue:E?V.yAxis:V.xAxis,G.firstLabel={},G.lastLabel={},f=U.filter((e,t,a)=>0!==e||x.showZeroPlaneValue?(E||t===a.length-1||!(v.getPixel(e,C)+x.labelMaxW>B))&&(0==t%x.labels.step?(K[q++]=t,!0):!(!x.labels.drawLimitVal||0!==t&&t!==a.length-1||(K[q++]=t,0))):Q&&(!Q||ee.max===e||ee.min===e)&&(K[q++]=t,!0)),x.isZeroTickForced&&-1!==f.indexOf(0)){let e;q=0,K=[],m=v.getPixel(0),f=f.filter((t,a,i)=>(e=v.getPixel(t),0===i[a+1]||0===i[a-1]?E?!(e+z>=m&&m>=e-z||(K[q++]=a,0)):!(e+Y>=m&&m>=e-Y||(K[q++]=a,0)):(K[q++]=a,!0)))}for(o=(E?Y:Z/2)*x.labels.step,r=E?Z/2:z,A.labelIndexArr=K.slice(),e=0,t=f.length;e<t;e+=1)u=f[e],F[K[e]]=F[K[e]]||{config:{props:{label:{}}}},h=Object.assign({},c),p=n.D,(x.labels.drawNormalVal||u===D||u===P)&&(x.labels.drawLimitVal||u!==D&&u!==P)?u===D&&x.lowerLimitDisplay&&x.labels.drawLimitVal?(p=T.getSmartText(x.lowerLimitDisplay,o,r+i/2),h.text=p.text,h.tooltext=p.tooltext):u===P&&x.upperLimitDisplay&&x.labels.drawLimitVal?(p=T.getSmartText(x.upperLimitDisplay,o,r+i/2),h.text=p.text,h.tooltext=p.tooltext):(h.text=""+s.call(V,u,x.axisIndex),p=T.getOriSize(h.text)):h.text="",E?(h.x=k?(W||B)+N:(W||M)-N,h.y=v.getPixel(u,C),(J&&u===D&&x.lowerLimitDisplay||!J&&u===P&&x.upperLimitDisplay)&&p&&p.height>i&&(h["vertical-align"]=n.q),(J&&u===P&&x.upperLimitDisplay||!J&&u===D&&x.lowerLimitDisplay)&&p&&p.height>i&&(h["vertical-align"]=n.w),x.placeValuesInside&&(h["text-anchor"]=k?n.r:n.v)):(h.x=v.getPixel(u,C),h.y=k?(W||I)-N:(W||R)+N,(!J&&u===D||J&&u===P)&&p&&p.width>2*d&&(h["text-anchor"]=n.v),(!J&&u===P||J&&u===D)&&p&&p.width>2*g&&(h["text-anchor"]=n.r),h["vertical-align"]=x.placeValuesInside?k?n.w:n.q:k?n.q:n.w),j.shiftX&&(h.x+=j.shiftX),j.shiftY&&(h.y+=j.shiftY),h.transform=Object(n._5)(a,h.x,h.y),F[K[e]].config.props.label.attr=h}},B.prototype._drawLabel=function(){var e,t,a,i,n,o,r,l,s,c,h,d=this,g=d.config,u=d.getFromEnv("animationManager"),p=this.getFromEnv("toolTipController"),m=g.axisRange,f=g.labels.style,b=d.components,v=m.max,x=m.min,y=g.axisContainer,C=g.extremeLabels,O=g.ticks,L=[],w={fontFamily:f.fontFamily,fontSize:f.fontSize,fontWeight:f.fontWeight,fontStyle:f.fontStyle,lineHeight:f.lineHeight};if(g.labels.isDraw)for(h=b.labels,c=b.labelIndexArr,y.css(w),t=0,a=c&&c.length;t<a;t+=1)n=`${l=O[e=c[t]]}_label`,i=d.getGraphicalElement(n),r=h[e].config.props.label.attr,i=d.addGraphicalElement(n,u.setAnimation({el:i||"text",attr:r,container:y,data:{value:l},component:d,label:"text"})),r.tooltext?p.enableToolTip(i,r.tooltext):p.disableToolTip(i),l===v?C.lastLabel.graphic=i:l===x&&(C.firstLabel.graphic=i),L.push(n);for(e=0,a=(s=_()(g.prevIntervalArr,L)).length;e<a;e++)(o=d.getGraphicalElement(s[e]))&&d.removeGraphicalElement(o);g.prevIntervalArr=L},B.prototype.getTrendLineLimits=function(){let e,t,a,i,o=this.config,r=o.trendLines||o.vTrendLines||o.trendPoints,l=r&&r[0]&&r[0].line||r&&r.point;return o.trendLimits?o.trendLimits:([e,t]=Object(n.U)(l,e=>""===e.startvalue?n.D:+e.startvalue),[a,i]=Object(n.U)(l,e=>""===e.endvalue?n.D:+e.endvalue),o.trendLimits=Object(n.U)([e,t,a,i],e=>+e),o.trendLimits)},B.prototype.setAxisPadding=function(e=0,t=0){var a,i=Math.max,n=this,o=n.config,r=n.getScale(),[l,s]=r.getDomain();1===o.oriCatLen&&(0===e&&(e=.5),0===t&&(t=.5)),a=e-o.startPad,o.startPad=i(o.startPad,e),o.endPad=i(o.endPad,t),0<a&&(o.setPadding=!0,n._setAxisRange({min:l-a,max:s+a})),!o.tickValues&&o.originalMax&&o.originalMin&&n.setDataLimit(o.originalMax,o.originalMin)},B.prototype.getLabel=function(e){var t=this.config,a=t.tickValues&&t.tickValues.tickValue[e],i={};return a&&a.tooltext&&(i.label=a.label,a.tooltext=Object(n._22)(a.tooltext,[3],i)),{label:a&&(a.oriLabel||a.label),tooltext:a&&a.tooltext}};var N=B;var G=(...e)=>{let t,a,i,n,o,r=[];if(2<e.length?(t=e[0],a=e[1],i=e[2]):1===e.length?(t=0,a=e[0],i=1):(t=e[0],a=e[1],i=1),n=Math.floor(Math.max(0,Math.ceil((a-t)/i))),isFinite(n))for(o=0;o<n;++o)r.push(i*o+t);return r};var W=e=>()=>e;function H(e){return null!==e&&void 0!==e}var z=function(e,t){return H(t)&&H(e)&&"boolean"!=typeof t?m(e,t):W(t)};var Y=function(e,t){let a=(t=+t)-(e=+e);return t=>Math.round(a*t+e)};const X=[0,1];function Z(e,t,a,i){var n,o;return e[0]>e[1]?(n=a(e[1],e[0]),o=i(t[1],t[0])):(n=a(e[0],e[1]),o=i(t[0],t[1])),e=>o(n(e))}function K(e,t){return t.setInterpolate(e.getInterpolate()).setClamp(e.getClamp()).setDomain(e.getDomain()).setRange(e.getRange())}function U(e,t){let a=(t=+t)-(e=+e);return a?t=>(t-e)/a:W(a)}var q=class{constructor(e,t){this.domain=X,this.range=X,this.deInterpolate=e,this.reInterpolate=t,this.interpolate=z,this.clamp=!1,this.input=null,this.output=null,this._rescale()}_rescale(){return this.input=null,this.output=null,this}setDomain(e=X){return this.domain=e.map(Number),this._rescale()}getDomain(){return this.domain.slice()}setRange(e=X){return this.range=e.slice(),this._rescale()}getRange(){return this.range.slice()}setInterpolate(e=z){return this.interpolate=e,this._rescale()}getInterpolate(){return this.interpolate}setClamp(e=!1){return this.clamp=!!e,this._rescale()}getClamp(){return this.clamp}rangeRound(e=X){return this.range=e.slice(),this.interpolate=Y,this._rescale()}getRangeValue(e){e=null===e?void 0:e;let t=this.getClamp()?function(e){return(t,a)=>{var i=e(t=+t,a=+a);return e=>e<=t?0:e>=a?1:i(e)}}(this.deInterpolate):this.deInterpolate;return this.output||(this.output=Z(this.getDomain(),this.getRange(),t,this.interpolate)),this.output(+e)}getDomainValue(e){let t=this.getClamp()?function(e){return(t,a)=>{var i=e(t=+t,a=+a);return e=>0>=e?t:1<=e?a:i(e)}}(this.reInterpolate):this.reInterpolate;return this.input||(this.input=Z(this.getRange(),this.getDomain(),U,t)),this.input(+e)}};const J=7.0710678118654755,$=3.1622776601683795,Q=1.4142135623730951;function ee(e){let t;return t=e>=J?10:e>=$?5:e>=Q?2:1}function te(e=0,t=1,a=7){var i=Math.pow;const n=(t-e)/Math.max(0,a),o=Math.floor(Math.log(n)/Math.LN10),r=n/i(10,o);return 0<=o?ee(r)*i(10,o):-i(10,-o)/ee(r)}var ae=function(e=0,t=1,a=7){var i=Math.ceil,n=Math.floor;let o,r,l,s=-1,c=[];if(a=+a,(e=+e)==(t=+t)&&0<a)return[e];if((o=t<e)&&(r=e,e=t,t=r),0===(l=te(e,t,a))||!isFinite(l))return[];if(0<l)for(e=i(e/l),r=i((t=n(t/l))-e+1);++s<r;)c[s]=(e+s)*l;else for(r=i((e=n(e*l))-(t=i(t*l))+1);++s<r;)c[s]=(e-s)/l;return o&&c.reverse(),c};class ie extends q{constructor(){super(U,m)}ticks(e=7){const t=this.getDomain();return ae(t[0],t[t.length-1],e)}nice(e=7){var t=Math.ceil,a=Math.floor;let i,n=this.getDomain(),o=0,r=n.length-1,l=n[o],s=n[r];return s<l&&(i=l,l=s,s=i,i=o,o=r,r=i),0<(i=te(l,s,e))?i=te(l=a(l/i)*i,s=t(s/i)*i,e):0>i&&(i=te(l=t(l*i)/i,s=a(s*i)/i,e)),0<i?(n[o]=a(l/i)*i,n[r]=t(s/i)*i,this.setDomain(n)):0>i&&(n[o]=t(l*i)/i,n[r]=a(s*i)/i,this.setDomain(n)),this}copy(){return K(this,new ie)}}var ne=ie;let oe=Z([2,100],[80,20],U,m);var re=function(e,t,a,i){var o,r,l,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C,O,L,w,k=Math.pow,j=Math.LN10,A=Math.log,F=Math.max,S=Math.abs,T=Math.floor,E=i.isPercent?0:i.axisMinValue,P=i.isPercent?100:i.axisMaxValue,D=!!i.adjustDiv,V=i.numDivLines,I=!!i.setAdaptiveMin,M=i.axisRange,R=5.960464477539063e-8,B=!0,N=.2,W=!0,H=i.xAxisLabelMode,z=i.dependentInfo;o=i.majorTMNumber===n.D?V:F(0,V-2),z&&z.count&&!z.limit&&z.numDivLines!==n.D&&(o=V=z.numDivLines,D=!1),r=o+1,e===n.D&&t===n.D&&(e=0,t=1,B=!1),t===e&&0===t&&(t=1,B=!1),("categories"===H||"mixed"===H)&&(B=!1),B?(l=T(A(S(t))/j),c=k(10,s=F(T(A(S(e))/j),l)),2>S(t)/c&&2>S(e)/c&&(c=k(10,--s)),f=k(10,m=T(A(t-e)/j)),0<t-e&&10<=c/f&&(c=f,s=m),d=(T(t/c)+1)*c,g=0>e?(T(S(e/c))+1)*c*-1:I?0>(g=T(S(e/c)-1)*c)?0:g:0,!I&&0>=t&&(d=0),u=!(!P&&0!==P),p=!(!E&&0!==E),!i.freezeLimit&&(!1===u||!0===u&&+P<t&&t-+P>R?(t=d,u=!1):t=+P,!1===p||!0===p&&+E>e&&+E-e>R?(e=g,p=!1):e=+E)):(u=!(!P&&0!==P),p=!(!E&&0!==E),!0===u&&+P>=t?t=+P:u=!1,!0===p&&+E<=e?e=+E:p=!1),y=[e,t],a.setDomain(y),D&&!i.freezeLimit?u||p?(O=function(e,t,a,i,o,r){var l=Math.abs;let s,c,h,d,g,u,p,m,f,b,v,x,y=e,_=Math.ceil(a*(1-i)),C=Math.floor(a*(1+i)),O=[],L=-1,w=a=>(e=>{let t,a,i,n=[10,5,2,1],o=n.length;for(t=0;t<o;++t)if(0==(a=e%n[t])%1){i=!0;break}return i})(s=(t-e)/(a+1))?a:n.D;for(;!(b&&v||(++L,x=a+L,x>=C&&(v=!0),d=w(x),d)||(x=a-L,x<=_&&(b=!0),d=w(x),d)););for(0>e&&0<t&&o&&(h=!0),c=0;c<d;c++)h&&0>y&&0<y+s&&(O.push(0),g=!0),y+=s,O.push(y);return d===n.D&&o&&(1<(p=(O=r.ticks(a)).length)?(u=.2*(s=l(O[0]-O[1])),m=O[0],f=O[p-1],l(e-m)<=u&&0!==m&&O.shift(),l(t-f)<=u&&0!==f&&O.pop(),(0===m||0===f)&&(g=!0)):0===O[0]&&(g=!0)),h&&!g&&-1===O.indexOf(0)&&(0>e&&0<O[0]?O=[0].concat(O):0<t&&0>O[O.length-1]?O.push(0):O=[0],g=!0),{output:O,interval:s,isZeroTickForced:g}}(e,t,o,N=(e=>100<=e?.2:1>=e?0:oe(e)/100)(o),i.forceZeroTick,a),S((o-(L=(b=O.output).length)+((w=O.isZeroTickForced)?1:0))/o)>N?h=(t-e)/r:(h=0===L||1===L&&w?t-e:O.interval,i.isZeroTickForced=w,i.ticks=[e].concat(b,t),W=!1)):(i.ticks=o?a.nice(r).ticks(r):a.getDomain(),h=S(i.ticks[1]-i.ticks[0]),W=!1):u||p||i.freezeLimit?h=(t-e)/r:([v,x]=a.nice(r).getDomain(),((x=v+(h=function(e){if(1>=e)return 1;let t=[],a=Math.ceil(e);return t[2]=a%2,t[5]=a%5,t[10]=a%10,Object(n._33)(t)+a}(c=(x-v)/r))*r)-t)/t>N||(v-e)/e>N?(a.setDomain([e,t]),h=(t-e)/r):(e=v,t=x,a.setDomain([e,t]))),W&&(0>e&&0<t&&i.forceZeroTick?(0===(C=(_=G(e,0,h))[_.length-1]+h)?C+=h:i.isZeroTickForced=!0,i.ticks=_.concat(0,G(C,t,h),t)):i.ticks=G(e,t,h).concat(t)),[e,t]=a.getDomain(),i._allTicks=i.ticks.slice(),M.tickInterval=h,M.min=e,M.max=t};let le;class se extends N{constructor(){super(),this.config.scale=new ne}getName(){return"numeric"}generateTicks(){var e=Math.abs;let t,a,i,n=this.getScale(),o=this.config,r=o.numDivLines+1,[l,s]=n.getDomain(),c=o.axisRange,{min:h,max:d}=c,g=o.dataLimit;return l===h&&s===d?(re(g.min,g.max,n,o),o.ticks):(a=e((t=n.ticks(r))[1]-t[0]),l===h&&-1===t.indexOf(h)&&t.unshift(h),s===d&&-1===t.indexOf(d)&&t.push(d),(i=e(h%a))&&(h-=i),(i=e(d%a))&&(d-=i),o._allTicks=G(h,d,a).concat(d),c.tickInterval=a,t)}setTickValues(e){this.config.userTicks=e||[],this.config.tickValues={tickValue:[]}}_parseTickValues(e){var t,a,i,o,r=this.getFromEnv("chart"),l=this.config,s=e&&e.length,c=0;for(l.tickValues={},t=l.tickValues.tickValue=[],i=0;i<s;i+=1)if(o=+(a=Object(n.T)({},e[i])).x,!a.vline){if(O(a,r),!o&&0!==o)continue;a.x=o,l.irregularCatAxis=!0,t.push(a),t[c].label=Object(n._23)(t[c].label),c+=1}l.oriCatLen=c}calculateTicksOnLabelMode(){var e,t,a,i,o,r,l,s=this,c=s.config,h=c.xAxisLabelMode,d=Object.assign([],c.userTicks),g=s.getFromEnv("number-formatter");if("mixed"===h||"auto"===h){if(t=[],e=g.xAxis,"mixed"===h)for(a=0,o=d.length;a<o;a+=1)t[d[a].x||d[a].y||a]=!0;else d=[];for(l=s.getAxisConfig(),r=c.ticks,i=0;i<r.length;++i)t[a=r[i]]||d.push({label:n.b+e.call(g,a),x:a,showverticalline:0===a?l.showZeroPlane:1,isNumeric:!0,linecolor:0===a?l.zeroPlaneColor:l.divLineColor,linealpha:0===a?l.zeroPlaneAlpha:l.divLineAlpha,linethickness:0===a?l.zeroPlaneThickness:l.divLineThickness,linedashed:l.divLineIsDashed,linedashLen:l.divLineDashLen,linedashgap:l.divLineDashGap})}s._parseTickValues(d)}getInterval(){return this.config.axisRange.tickInterval}_setAxisRange(e){var t,a,i,o=e.min,r=e.max,l=this.config,s=l.axisRange,c=l.dataLimit,h=l.dependentInfo;if(!(o>r))if((c.min!==o||c.max!==r)&&(a=!0),l.visibleMin===le||l.setPadding||a){if([o,r]=Object(n.U)([o,r,c.min,c.max]),c.min=o,c.max=r,this.fireEvent("dataLimitSet",Object.assign({},c)),h){if(h.limit){if(!(t=h.dataLimit))return;[o,r]=Object(n.U)([o,r,t.min,t.max]),l.isDataLimitSet=!0}if(h.count&&h.numDivLines===le)return}re(o,r,this.getScale(),l),i=l.isZeroTickForced?3:2,this.fireEvent("divlinesSet",l.ticks.length-i),l.tickValues&&this.calculateTicksOnLabelMode(),this.setVisibleConfig(s.min,s.max)}else l.setPadding=!1}}se.prototype.setDataLimit=function(e,t){var a,i,o,r,l=this,s=l.config,c=l.getFromEnv("dataSource").categories,h=c&&c[0]&&c[0].category,d=s.startPad||0,g=s.endPad||0,u=s.xAxisLabelMode;("categories"===u||"mixed"===u)&&([a,i]=Object(n.U)(h,e=>+e.x)),[o,r]=l.getTrendLineLimits(),[t,e]=Object(n.U)([o,r,a,i,t,e],e=>+e),s.originalMax=e,s.originalMin=t,e=s.isPercent?100:e+g,t=s.isPercent?0:t-d,l._setAxisRange({min:t,max:e}),s.axisRange.tickInterval!==n.D&&l._adjustNumberFormatter(s.axisRange.tickInterval)};var ce=se;class he extends q{constructor(){super(U,m)}copy(){return K(this,new he)}}var de=he,ge="none",ue="true",pe="1",me=n._29.POSITION_START,fe=n._29.POSITION_MIDDLE,be=n._29.POSITION_TOP,ve=n._29.POSITION_BOTTOM,xe=n._29.POSITION_END,ye={wrtVisible:!0};class _e extends N{constructor(){super(),this.config.scale=new de}getName(){return"category"}getCategoryFromId(e){var t=this.config.tickValues;return(t&&t.tickIdMap)[e]||{}}generateTicks(){let e=this.getScale(),t=this.config,a=e.getDomain(),i=t.categoryNumDivLines+1,n=(a[1]-a[0])/i,o=t.axisRange,{min:r,max:l}=o,s=(l-r)/i;return t._allTicks=G(r,l,s).concat(l),o.tickInterval=s,G(a[0],a[1],n).concat(a[1])}_parseCategoryVline(){var e,t,a,i,o,r,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C,O,L,w,k,j,A,F,S,T,E,P=this,D=P.config,V=D.axisRange,I=V.min,M=V.max,R=P.getFromEnv("chart").config,B=R.style||{},N=D.isVertical,G={fontFamily:R.style.inCanfontFamily,fontSize:R.style.inCanfontSize,color:R.style.inCancolor,lineHeight:R.style.inCanLineHeight};for(a=(t=D.tickValues.vline).length,F=1!==P.getZoom(),S=P.getVisibleConfig(),r=0;r<a;r++)i=t[r],o=Object(n._23)(i.label),s=!!Object(n._27)(i.showlabelborder,D.showVLineLabelBorder,1),e=!!Object(n._27)(i.showlabelbackground,1),"center"===(c=Object(n._25)(i.labelhalign,N?me:fe))?c=fe:"left"===c?c=me:"right"===c&&(c=xe),(h=Object(n._25)(i.labelvalign,N?fe:ve).toLowerCase())===fe?h=fe:h===be?h=ve:h===ve&&(h=be),d=Object(n._27)(i.labelposition,0),g=Object(n._27)(i.lineposition,.5),u=Object(n._27)(i.showvlines,D.showVLines,1),p=Object(n._27)(i.alpha,D.vLineAlpha,80),m=Object(n._25)(i.color,D.vLineColor).replace(/^#?/,"#"),f=e?Object(n._25)(i.labelbgcolor,D.vLineLabelBgColor,"333333").replace(/^#?/,"#"):n.b,w=Object(n._25)(i.labelcolor,D.vLineLabelColor,i.color,B.inCancolor,D.vLineColor).replace(/^#?/,"#"),b=Object(n._27)(i.thickness,D.vLineThickness,1),j=2,v=!!+Object(n._25)(i.dashed,0),x=Object(n._27)(i.dashlen,5),_=Object(n._27)(i.dashgap,2),y=G.fontSize,y=parseInt(y.replace(/px/i,""),10),k=Object(n._27)(i.rotatelabel,D.rotateVLineLabels)?270:0,g=0>g||1<g?.5:g,d=0>d||1<d?0:d,m=Object(l.c)(m,u?p:"0"),E=i.animate&&!N?i.startIndex+1:i.startIndex,A=P._getVlinePos(E,g)-(i.animate?i.leftShift:0),(!F||!(A<S.minValue||A>S.maxValue))&&(A<I||A>M||(C={opacity:1,stroke:m,"stroke-width":b,"stroke-dasharray":v?Object(n.Y)(x,_):ge},L={opacity:1,text:o,"text-anchor":c,"vertical-align":h,"text-bound":[]},O={fontSize:G.fontSize,fontFamily:G.fontFamily,lineHeight:G.lineHeight},T={from:A,layer:Object(n._27)(i.showontop,D.showVLinesOnTop,0)?3:2,attr:C,type:"line",startIndex:i.startIndex,linePosition:g},o&&(L["text-bound"]=[f,u&&s?m:n.b,u&&s?1:0,j,n.D,u&&s?"solid":n.b],L.fill=u?w:m,T.text={label:o,attr:L,layer:4,labelRotation:k,labelPosition:d,css:O}),P.setReferenceInfo(T),P.config.parsedVlineInfo.push(T)))}_parseReferenceVisuals(){super._parseReferenceVisuals(),this.config.drawPlotlines&&this._parseCategoryVline()}categoryInsert(e,t,a){var i,o,r,l,s,c=this.config,h=c.axisRange.min,d=t.length,g=c.endPad||0;for(i=c.tickValues.tickValue,r=c.tickValues.tickIdMap,o=c.tickValues.vline,l=0;l<d;l+=1)(s=Object(n.T)({},t[l])).vline===ue||!0===s.vline||1===s.vline||s.vline===pe?(s.startIndex=e-2,o.push(s)):(s.id&&(r[s.id]={tickObj:s,i:e}),i.splice(e,0,s),e+=1);a&&this._setAxisRange({min:h,max:+Object(n._37)(i.length-1+g,10)})}categoryDelete(e,t,a){var i,n,o,r=this,l=r.config,s=l.axisRange,c=s.min;for(n=0,o=(i=l.tickValues.vline).length;n<o;n++)i[n].animate=!0,i[n].leftShift=t;l.tickValues.tickValue.splice(e,t),r._shiftVline(e,t,"left"),a&&r._setAxisRange({min:c,max:s.max-t})}_shiftVline(e,t,a){var i,n,o=this.config,r=o.tickValues.vline,l=o.tickValues.tickValue.length,s=r.length;for(i=0;i<s;i+=1)(n=r[i]).startIndex>=e&&("right"===a?n.startIndex+=t:n.startIndex-=t,(0>n.startIndex||n.startIndex>=l)&&(r.splice(i,1),s-=1,i-=1))}categoryTranslate(e){var t,a=this,i=a.config,n=a.getPixel(1,ye)-a.getPixel(0,ye);e=(e||0)*n,i.isReverse&&(e=-e),t=["T",e,",","0"].join(""),a.realTimeTranslatableGroups=[{group:i.axisContainer,translationStr:t},{group:i.axisTrendLabelContainer,translationStr:t}]}updateTicksValues(e,t){var a,i,n,o,r,l,s,c=this,h=c.config,d=h.parsedVlineInfo;if((a=h.tickValues.tickValue)[e])for(s in t)t.hasOwnProperty(s)&&("x"===s&&(i=!0),a[e][s]=t[s]);if(i)for(o=0,r=d.length;o<r;++o)if((l=(n=d[o]).startIndex)===e)n.from=c._getVlinePos(l,n.linePosition);else if(l+1===e){n.from=c._getVlinePos(l,n.linePosition);break}}_getVlinePos(e,t){let a,i,o,r=this.getTickValues(),l=this.config,{min:s,max:c}=this.getLimit(),h=r[e],d=r[e+1];return h?!d&&(a=r[0]&&r[0].x?c:l.oriCatLen-1,o=!0):(a=r[0]&&r[0].x?s:-1,o=!0),o?i=t:i=((a=Object(n._27)(h.x,h.y,e))-Object(n._27)(d.x,d.y,e+1))*t,a+Math.abs(i)}getInterval(){if(this)return 1}_setAxisRange(e){var t,a,i=e.min,o=e.max,r=this.config,l=r.axisRange,s=r.periodLength,c=r.dataLimit,h=c.max,d=c.min;i>o||((h!==o||d!==i)&&(t=!0),r.visibleMin===n.D||r.setPadding||t?(c.max=o,c.min=i,s&&(r.categoryNumDivLines=(o-i)/s-1),a=(o-i)/(r.categoryNumDivLines+1),this.getScale().setDomain([i,o]),r.ticks=G(i,o,a).concat(o),r._allTicks=r.ticks.slice(),l.min=i,l.max=o,l.tickInterval=a,this.setVisibleConfig(l.min,l.max)):r.setPadding=!1)}}_e.prototype.setTickValues=function(e){var t,a,i=e&&e.length,o=this.config,r=o.startPad||0,l=this.getFromEnv("chart"),s=0,c=o.tickValues={},h=c.tickValue=[],d=c.vline=[],g=c.tickIdMap={},u=o.endPad||0;for(o.hasCategory=1,t=0;t<i;t+=1)(a=Object(n.T)({},e[t])).vline?(a.startIndex=h.length-1,d.push(a)):(a.id&&(g[a.id.toLowerCase()]={tickObj:a,index:s}),(o.mapTickValuesById&&a.id||!o.mapTickValuesById)&&(O(a,l),h.push(a),h[s].label=Object(n._23)(h[s].label),s+=1));o.oriCatLen=s,this._setAxisRange({max:+Object(n._37)(s-1+u,10),min:+Object(n._37)(0-r,10),tickInterval:+Object(n._37)(1,10)})};var Ce=_e,Oe=function(e){let t,a,i=e.getChildren("canvas")[0],o=i.getChildren("axisRefVisualCartesian")[0],r={zoomable:!0,pannable:!0},l=e._feedAxesRawData(),s=e=>{let t=e.sender;o.addexplicitDrawItems(t.getId(),t),o.asyncDraw()};Object(n.M)(e,ce,"yAxis",1,l.yAxisConf),Object(n.M)(e,Ce,"xAxis",1,l.xAxisConf),t=e.getChildren("yAxis")[0],a=e.getChildren("xAxis")[0],t.setLinkedItem("canvas",i),a.setLinkedItem("canvas",i),o.setLinkedItem(t.getId(),t),o.setLinkedItem(a.getId(),a),o.addExtEventListener("visiblerangeset",s,a),o.addExtEventListener("visiblerangeset",s,t),i.attachAxis(a,!1,e.zoomX?r:{}),i.attachAxis(t,!0,e.zoomY?r:{}),e._setCategories()},Le=a("H+qG"),we={"initial.axisRefVisuals.axisRefVisualsCartesian":u,"update.axisRefVisuals.axisRefVisualsCartesian":g};const ke=e=>null!==e;let je;Object(x.a)({name:"cartesianAxisRefAnimation",type:"animationRule",extension:we});var Ae,Fe=class extends r.a{constructor(){super(),this.config.map={},this.config.explicitDrawItems={}}getType(){return"axisRefVisuals"}getName(){return"axisRefVisualsCartesian"}draw(){let e,t,a,i,n,o,r,l=this.getDrawingInfo(),s=this.getexplicitDrawItems(),c=this.config,h=c.map,d={},g=this.getLinkedParent(),u=g.getAxes(),p=[],m=g.getChildContainer("axisReferenceVisualsFloor"),f=g.getChildContainer("axisReferenceVisualsBottom"),b=g.getChildContainer("axisReferenceVisualsMiddle"),v=g.getChildContainer("axisReferenceVisualsTop"),x=g.getChildContainer("axisReferenceVisualsCeil");for(g.config.trendlines=[],g.config.vtrendlines=[],t=0;t<u.length;++t)p.push(u[t].axis.getId());for(i in c.containers=[m,f,b,v,x],l)if(l.hasOwnProperty(i)&&(n=this.getLinkedItem(i),0<=p.indexOf(n.getId())))for((o=d[i])||(o=d[i]=[]),e=l[i],t=0;t<e.length;++t)"band"===(a=(r=e[t]).type)?o.push.apply(o,this.createBand(r,n)):"line"===a&&o.push.apply(o,this.createLine(r,n));if(c.isSmartDrawing)for(i in h)h.hasOwnProperty(i)&&!s[i]&&this.getLinkedItem(i)&&(d[i]=h[i]);this.resetexplicitDrawItems(),this.removeExtraElements(d)}getDrawingInfo(){let e,t,a={},i=this.getexplicitDrawItems(),n=this.isCanvasChnaged(),o=(this.config.isSmartDrawing=Object.keys(i).length&&!n)?i:this.getLinkedItem();for(e in o)o.hasOwnProperty(e)&&(t=o[e],a[e]=t.getReferenceInfo());return a}createLine(e,t){let a,i=this.config.containers,n=i[e.layer],o=t.config,r=this.getFromEnv("paper"),l=this.getFromEnv("chart").getName(),s=this.getLinkedParent(),c=this.getFromEnv("animationManager"),h=this.getFromEnv("toolTipController"),d=s.config,g=d.trendlines,u=o.isVertical,p=d.canvasLeft,f=d.canvasTop,b=f+d.canvasHeight,v=p+d.canvasWidth,x=m(p,v),y=m(f,b),_=t.getScale(),C=_.getRangeValue(e.from),O=e.to!==je&&_.getRangeValue(e.to)||C,L=u?["M",p,C,"L",v,O]:["M",C,b,"L",O,f],w=e.attr,k=e.text,j=k&&k.attr,A=k&&k.labelPosition||0,F=t.getId(),T=e.id||e.from,E=F+"_"+T,P=F+"_"+T+k,D=this.getGraphicalElement(E),V=this.getGraphicalElement(P),I=e.handlers,M={start:e.from,end:e.to};for(a in w.path=S(L,ke(w["stroke-width"])?w["stroke-width"]:1).path.toString(),/trend/.test(e.id)&&g.push({x1:L[1],y1:L[2],x2:L[4],y2:L[5],tooltext:e.toolText,tolerance:5>w["stroke-width"]?2.5:w["stroke-width"]/2}),w["stroke-linecap"]="butt",(D=this.addGraphicalElement(E,c.setAnimation({container:n,el:D||"path",attr:w,component:this,axis:t,data:{value:M,path:L},label:"path"}))).data("data",M),k&&(u?(j.x=x(A),j.y=C):(j.x=C,j.y=y(A)),j.text=k.label,j.transform=r.getSuggestiveRotation(k.labelRotation,j.x,j.y),(V=this.addGraphicalElement(P,c.setAnimation({container:i[k.layer],el:V||"text",attr:j,component:this,axis:t,data:{value:e.from},label:"text",css:k.css}))).data("data",e.from)),/zoomscatter/i.test(l)||(e.toolText?h.enableToolTip(D,e.toolText):h.disableToolTip(D)),I)I.hasOwnProperty(a)&&(D.on(a,I[a].bind(t)),V.on(a,I[a].bind(t)));return k?[E,P]:[E]}createBand(e,t){var a=Math.min;let i,n,o,r,l,s,c,h=this.config.containers[e.layer],d=t.config,g=this.getFromEnv("animationManager"),u=this.getFromEnv("toolTipController"),p=this.getLinkedParent(),m=this.getFromEnv("chart").getName(),f=p.config,b=d.isVertical,v=f.canvasLeft,x=f.canvasTop,y=x+f.canvasHeight,_=v+f.canvasWidth,C=t.getScale(),O=e.from,L=e.to===je?O:e.to,w=t.getId(),k=e.attr,j=e.handlers;for(s in i="canvasStart"===O?b?x:v:C.getRangeValue(O),n="canvasEnd"===L?b?y:_:C.getRangeValue(L),c=Math.abs(i-n),b?(k.x=v,k.y=a(i,n),k.width=_-v,k.height=c):(k.x=a(i,n),k.y=x,k.width=c,k.height=y-x),r=w+"_"+(o=e.id||k.x+"_"+k.y),l=this.getGraphicalElement(r),/trend/.test(e.id)&&p.config.vtrendlines.push({x1:k.x,y1:k.y,x2:k.x+k.width,y2:k.y+k.height,tooltext:e.toolText,tolerance:5>k["stroke-width"]?2.5:k["stroke-width"]/2,isTrendZone:1}),l=this.addGraphicalElement(r,g.setAnimation({container:h,el:l||"rect",attr:k,component:this,label:"rect"})),/zoomscatter/i.test(m)||(e.toolText?u.enableToolTip(l,e.toolText):u.disableToolTip(l)),j)j.hasOwnProperty(s)&&l.on(s,j[s].bind(t));return[r]}removeExtraElements(e){let t,a,i,n,o,r,l=this.config.map;for(t in l)if(e[t])for(n=(r=f(l[t],e[t])).length,i=0;i<n;++i)(o=this.getGraphicalElement(r[i]))&&this.removeGraphicalElement(o);else for(n=(a=l[t]).length,i=0;i<n;++i)(o=this.getGraphicalElement(a[i]))&&this.removeGraphicalElement(o);this.config.map=e}setLinkedItem(e,t){super.setLinkedItem(e,t);let a=this;"axis"===t.getType()&&a.addExtEventListener("beforeremove",e=>{a.removeLinkedItem(e.sender.getId()),a.asyncDraw()},t)}addexplicitDrawItems(e,t){this.config.explicitDrawItems[e]=t}getexplicitDrawItems(){return this.config.explicitDrawItems}resetexplicitDrawItems(){this.config.explicitDrawItems={}}isCanvasChnaged(){let e,t=this.getLinkedParent().getEffectiveDimensions(),a=this.config;return e=JSON.stringify(t)!==JSON.stringify(a.canvasDim),a.canvasDim=t,e}},Se=function(e){let t,a=e._parseCanvasCosmetics&&e._parseCanvasCosmetics();if(Object(n.M)(e,Le.a,"canvas",e.config.showVolumeChart?2:1),t=e.getChildren("canvas"))for(let e=0,i=t.length;e<i;e++)t[e].configure(a),Object(n.M)(t[e],Fe,"axisRefVisualCartesian")},Te=function(e,t){return e="comp_"+e,t&&(this.config[e]=t),(t||!this.config[e])&&this||this.config[e]},Ee=function(e,t){return["T",e,",",t].join("")},Pe=function(e){return-e.getTranslation()},De=function(e){return Ee(Pe(e.h),Pe(e.v))},Ve=function(e,t){return{h:e,v:t}},Ie=["columnShadowVcanvasGroup","columnVcanvasGroup","areaShadowVcanvasGroup","areaVcanvasGroup","lineShadowVcanvasGroup","lineVcanvasGroup","defaultShadowVcanvasGroup","defaultVcanvasGroup","sumLabelsLayer","vcanvasLabelGroup"],Me=function(e,t,a){return a.getFromEnv("animationManager").setAnimation({el:"group",attr:{name:e},container:t,state:"appearing",component:a,label:"group"})},Re=e=>!/category/i.test(e.getName());const Be="visible",Ne="removed",Ge="dataset";var We=class extends r.a{getName(){return"virtualCanvas"}getType(){return"canvas"}xAxis(e){var t=Te.call(this,"xAxis",e);return e&&this.listenToAxis(e),e&&this.addToEnv("xAxis",e),t}yAxis(e){var t=Te.call(this,"yAxis",e);return e&&this.listenToAxis(e),e&&this.addToEnv("yAxis",e),t}paper(e){return Te.call(this,"paper",e)}canvas(e){return Te.call(this,"canvas",e)}configure(e={}){let t=this.getFromEnv("chartConfig"),a=this.config;Object.assign(a,e),a.transposeAxis=t.transposeAxis,this._mapChildren(e=>{e.getState(Ne)||e.getType()===Ge||e.configure&&e.configure()})}getHorizontalVerticalAxes(){var e=this.xAxis(),t=this.yAxis();return t.config.isVertical?Ve(e,t):Ve(t,e)}preDraw(){this._mapChildren(e=>{e.getState("removed")||"dataset"===e.getType()||e.setVisibility&&e.setVisibility()});let e,t=this.config.transposeAxis,a=this.getFromEnv("chart"),{left:i,right:n,top:o,bottom:r}=this.getAxisValuePadding();(e=this.getDataLimits(!t)).min!==1/0||e.max!==-1/0?(this._setYAxisLimits(e.min,e.max),a._storeIntialLimit&&a._storeIntialLimit(e.min,e.max)):(this._setYAxisLimits(Ae,Ae),a._storeIntialLimit&&a._storeIntialLimit(Ae,Ae)),this._setXAxisLimits(e.xMin,e.xMax),this._setAxisValuePadding(i,n,o,r)}childChanged(e={}){let t,a=this,i=a.config,n=i.transposeAxis;!1!==e.dataLimitChanged&&(t=a.getDataLimits(!n),n&&(t.min!==i.range.min||t.max!==i.range.max)&&(i.range.min=t.min,i.range.max=t.max,this.getFromEnv("yAxis").resetStoredLimits(),t.min!==1/0||t.max!==-1/0?a._setYAxisLimits(t.min,t.max):a._setYAxisLimits(Ae,Ae)),(t.xMin!==i.range.xMin||t.xMax!==i.range.xMax)&&(i.range.xMin=t.xMin,i.range.xMax=t.xMax,this.getFromEnv("xAxis").resetStoredLimits(),a._setXAxisLimits(t.xMin,t.xMax))),a.asyncDraw()}_setAxisValuePadding(e,t,a,i){this.getFromEnv("xAxis").setAxisPadding(e,t),a&&i&&this.getFromEnv("yAxis").setAxisPadding(e,t)}getAxisValuePadding(){var e=Math.max;let t={},a=-1/0,i=-1/0,n=-1/0,o=-1/0;return this._mapChildren(r=>{r.getState(Ne)||(t=r.getAxisValuePadding&&r.getAxisValuePadding()||{},a=e(a,t.left||-1/0),i=e(i,t.right||-1/0),n=e(n,t.top||-1/0),o=e(o,t.bottom||-1/0))}),a===-1/0&&(a=0),i===-1/0&&(i=0),n===-1/0&&(n=0),o===-1/0&&(o=0),this.config.padding||(this.config.padding={},this.config.padding.left=a,this.config.padding.right=i,this.config.padding.top=n,this.config.padding.bottom=o),{left:a,right:i,top:n,bottom:o}}_setYAxisLimits(e,t){var a=this.getFromEnv("yAxis");Re(a)&&a.setDataLimit(t,e)}_setXAxisLimits(e,t){let a=this.getFromEnv("xAxis");Re(a)&&(t!==-1/0||e!==1/0?a.setDataLimit(t,e):a.setDataLimit(Ae,Ae))}getDataLimits(e){var t,a,i,o=Math.max,r=this.getFromEnv("chart"),l=-1/0,s=l,c=1/0,h=1/0,d=l,g=function(e){var t=Math.min;a=Object(n._25)(e.xMax,l),i=Object(n._25)(e.xMin,1/0),s=o(s,e.max),c=t(c,e.min),d=o(d,a),h=t(h,i)};return this._mapChildren(a=>{a.getDataLimits&&!a.getState(Ne)&&(e||a.getState(Be))&&(t=a.getDataLimits(e),g(t))}),this.config.range||(this.config.range={},this.config.range.min=c,this.config.range.max=s,this.config.range.xMin=h,this.config.range.xMax=d),r.config.yMax=s,r.config.yMin=c,{min:c,max:s,xMin:h,xMax:d}}listenToAxis(e){var t,a=this;t=function(){a.getState("drawn")&&a.asyncDraw()},this.getState("visiblerangeset"+e.getId())||(this.setState("visiblerangeset"+e.getId(),!0),a.addExtEventListener("visiblerangeset",t,e))}createContainer(){var e=this,t=e.getLinkedParent();e.getChildContainer("columnShadowVcanvasGroup")||e.addChildContainer("columnShadowVcanvasGroup",Me("vcanvas-column-shadow",t.getChildContainer("columnShadowGroup"),e)),e.getChildContainer("columnVcanvasGroup")||e.addChildContainer("columnVcanvasGroup",Me("vcanvas-column-plot",t.getChildContainer("columnGroup"),e)),e.getChildContainer("areaShadowVcanvasGroup")||e.addChildContainer("areaShadowVcanvasGroup",Me("vcanvas-area-shadow",t.getChildContainer("areaShadowGroup"),e)),e.getChildContainer("areaVcanvasGroup")||e.addChildContainer("areaVcanvasGroup",Me("vcanvas-area-plot",t.getChildContainer("areaGroup"),e)),e.getChildContainer("lineShadowVcanvasGroup")||e.addChildContainer("lineShadowVcanvasGroup",Me("vcanvas-line-shadow",t.getChildContainer("lineShadowGroup"),e)),e.getChildContainer("lineVcanvasGroup")||e.addChildContainer("lineVcanvasGroup",Me("vcanvas-line-plot",t.getChildContainer("lineGroup"),e)),e.getChildContainer("defaultShadowVcanvasGroup")||e.addChildContainer("defaultShadowVcanvasGroup",Me("vcanvas-default-shadow",t.getChildContainer("defaultShadowGroup"),e)),e.getChildContainer("defaultVcanvasGroup")||e.addChildContainer("defaultVcanvasGroup",Me("vcanvas-default-plot",t.getChildContainer("defaultGroup"),e)),e.getChildContainer("vcanvasLabelGroup")||e.addChildContainer("vcanvasLabelGroup",Me("vcanvas-label",t.getChildContainer("datalabelsGroup"),e)),e.getChildContainer("columnTrendGroup")||e.addChildContainer("columnTrendGroup",Me("columnTrendGroup",e.getChildContainer("columnVcanvasGroup"),e)),e.getChildContainer("sumLabelsLayer")||e.addChildContainer("sumLabelsLayer",Me("vcanvas-sumLabelsLayer",t.getChildContainer("sumLabelsLayer"),e))}applyTranslation(){var e=this,t=e.getHorizontalVerticalAxes(),a=De(t),i=function(t){(t=e.getChildContainer(t)).attr({transform:a})};e.createContainer(),Ie.forEach(function(e){i(e)})}draw(){this.applyTranslation(),this.setState("drawn",!0)}getCanvasPadding(){var e,t,a={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};return this._mapChildren(i=>{if(i.getCanvasPadding&&!i.getState(Ne))for(t in e=i.getCanvasPadding()||{})e.hasOwnProperty(t)&&(a[t]=Math.max(e[t],a[t]))}),a}rtShiftAnim(e,t){var a,i=this,n=i.getFromEnv("xAxis"),o=i.getFromEnv("yAxis"),r=n.getPixel(1)-n.getPixel(0),l=o.getPixel(1)-o.getPixel(0),s=i.getFromEnv("animationManager");a=Ee(e=(e||0)*r,t=(t||0)*l),Ie.forEach(function(e){i.getChildContainer(e).attr({transform:a}),s.setAnimation({el:i.getChildContainer(e),attrs:{transform:"T0,0"}})})}},He=function(e){var t,a,i,o,r,l,s,c=e.getChildren("canvas"),h=c.length,d=[],g=[];for(o=0;o<h;o++,d=[],g=[])if(!(t=c[o]).getState("removed")){for(i=t.getFromEnv("xAxis"),l=0;l<(i&&i.length);l++)i[l].getState("removed")||d.push(i[l]);for(i=t.getFromEnv("yAxis"),l=0;l<(i&&i.length);l++)i[l].getState("removed")||g.push(i[l]);for(Object(n.M)(t,We,"vCanvas",d.length*g.length),a=t.getChildren("vCanvas"),r=0,l=0;r<(d&&d.length);r++)for(s=0;s<(g&&g.length);s++,l++)a[l].xAxis(d[r]).yAxis(g[s]).canvas(t),a[l].configure(),a[l].addToEnv("vCanvas",a[l])}},ze=a("5+ic"),Ye="mouseover",Xe="mousedown",Ze="touchstart",Ke="mouseup",Ue="touchend",qe="mousemove",Je="touchmove",$e="mouseout",Qe="click",et=window,tt=et.document,at="ontouchstart"in et;var it=class extends r.a{constructor(){var e;super(),this.pIndex=1,this.handler=(e=this,function(t){e.config.lastTouchStartEvent=t.originalEvent,t.originalEvent&&e.getFromEnv("chart")._mouseEvtHandler(t,e.config.evtData)}),this.globalHandler=function(e){return function(t){var a,i,o=e.getFromEnv("chart");(t.type===Ze||t.type===Xe)&&(a=o.getChildren("canvas")[0],i=Object(n._3)(e.getFromEnv("chart-container"),t.originalEvent,o),e.config.lastTouchStartEvent===t.originalEvent||a&&a.isWithinCanvas(i.chartX,i.chartY))||(t.originalEvent&&o._mouseEvtHandler(t,e.config.evtData),e._removeDocEvents(),e.globalHandlerAttached=!1)}}(this),this.eventsList=[Xe,Ze,Ke,Ue,qe,Je,Qe,Ye],this.config={},this.config.evtData={}}getMouseEvents(e,t,a){var i=this,o=i._lastDatasetIndex,r=i._lastPointIndex,l=e.type,s={fireOut:!1,events:[]};if(i.hasTouchEvent&&(l===Xe||l===$e))return s;switch(l){case Qe:s.events.push(Qe);break;case Je:case qe:o===t&&r===a?(clearTimeout(i.mouseoutTimer),s.events.push(qe)):(s.events.push(Ye),s.fireOut=!0);break;case Ze:i.hasTouchEvent=!0;case Xe:i.globalHandlerAttached||(i.globalHandlerAttached=!0,at?i.eventOutput=ze.a.listen(tt,Ze,i.globalHandler):n._15&&(i.eventOutput=ze.a.listen(tt,Xe,i.globalHandler))),o!==t||r!==a?(s.fireOut=!0,s.events.push(Ye)):at&&s.events.push(qe),s.events.push(Xe);break;case Ye:o===t&&r===a?clearTimeout(i.mouseoutTimer):(s.fireOut=!0,s.events.push(Ye));break;case Ue:case Ke:i.hasTouchEvent=!1,s.events.push(Ke);break;case $e:if(n._15&&!e.originalEvent.relatedTarget)return s;s.fireOut=!0}return s}addEvents(){var e,t,a,i=this,n=i.getFromEnv("chart"),o=n.getChildren("canvas"),r=i.config.evtData,l=i.eventsList;for(n.config.enableMouseOutEvent&&l.push($e),i._removeListners(),r.chart=n,r.mouseTracker=i,t=0;t<o.length;t++)for(a in e=o[t],l)e.addEventListener(l[a],i.handler)}_removeListners(){var e,t,a,i=this,n=i.getFromEnv("chart").getChildren("canvas"),o=i.eventsList;for(a=0;a<n.length;a++)for(t in e=n[a],o)e.removeEventListener(o[t],i.handler);i._removeDocEvents()}_removeDocEvents(){this.eventOutput&&this.eventOutput.unlisten(),this.eventOutput=n.D}_dispose(){this._removeListners(),super._dispose()}},nt=function(e){let t;e.config.enablemousetracking?(Object(n.M)(e,it,"mouseTracker"),t=e.getChildren("mouseTracker")[0],!e.config.mouseTrackerEventAdded&&(t.addEvents(),e.config.mouseTrackerEventAdded=!0)):((t=e.getChildren("mouseTracker")&&e.getChildren("mouseTracker")[0])&&t._removeListners(),e.config.mouseTrackerEventAdded=!1)};let ot,rt=Math.max,lt=Math.min;var st=class extends o{constructor(){super(),this.registerFactory("axis",Oe,["canvas"]),this.registerFactory("canvas",Se),this.registerFactory("vCanvas",He,["axis"]),this.registerFactory("mouseTracker",nt,["canvas"])}static getName(){return"Cartesian"}getName(){return"Cartesian"}getType(){return"chartAPI"}_allocateXAxisLabelSpace(e){var t,a=this.config,i=e.getAxisEndLabelDisplaySpace(),n=i.left,o=i.right,r=i.top,l=i.bottom,s=a.availableWidth,c=a.availableHeight,h=a.canvasLeft,d=a.canvasRight,g=a.canvasTop,u=a.canvasBottom,p=a.width,m=a.height,f=function(e,t){return e<t&&0<t?t-e:0};r+l>c&&(r=c*r/(t=r+l),l=c*l/t),n+o>s&&(n=s*n/(t=n+o),o=s*o/t),n=f(h,n),o=f(p-d,o),r=f(g,r),l=f(m-u,l),this._allocateSpace({left:n,right:o,top:r,bottom:l})}_setCategories(){var e=this.getFromEnv("dataSource"),t=this.getChildren("xAxis"),a=e.categories&&e.categories.length&&e.categories[0].category;t&&t[0].setTickValues(a)}_feedAxesRawData(){var e,t,a=this,i=a.config,o=a.getFromEnv("dataSource");return e=a.getSpecificxAxisConf(),t=a.getSpecificyAxisConf(),e.vtrendlines=Object(n.T)([],o.vtrendlines),t.trendlines=Object(n.T)([],o.trendlines),i.isstacked&&(t.isPercent=Object(n._27)(i.stack100percent,0)),{yAxisConf:[t],xAxisConf:[e]}}getSpecificxAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config,i=e.config.is3D,o=e.getBasexAxisConf();return o.isReverse=a.reverseXAxis,o.axisLineColor=Object(n._25)(t.xaxislinecolor,t.axislinecolor,"#000000"),o.showAlternateGridColor=Object(n._27)(t.showalternatevgridcolor,0),o.numDivLines=Object(n._27)(t.numvdivlines,a.numVDivLines),o.axisName=t.xaxisname,o.setAdaptiveMin=Object(n._27)(t.setadaptivexmin,a.setadaptivexmin,a.setadaptivexmin),o.showLimits=Object(n._27)(t.showvlimits,a.showvlimits),o.showDivLineValues=Object(n._27)(t.showvdivlinevalues,t.showvdivlinevalues,a.showvdivlinevalues),o.zeroPlaneThickness=Object(n._27)(t.vzeroplanethickness,t.vdivlinethickness,a.zeroplanethickness,2),o.zeroPlaneAlpha=Object(n._27)(t.vzeroplanealpha,t.vdivlinealpha,a.zeroplanealpha),o.showZeroPlaneValue=Object(n._27)(t.showvzeroplanevalue,a.showzeroplanevalue),o.showAxisLine=i?0:Object(n._27)(t.showxaxisline,t.showaxislines,t.drawAxisLines,a.showxaxisline,0),o.maxLabelHeight=t.maxlabelheight,o.showZeroPlane=Object(n._27)(t.showvzeroplane,a.showzeroplane),o}getSpecificyAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config,i=e.config.is3D,o=i?n.K.chart3D:n.K.chart2D,r=a.isInverse,l=e.getFromEnv("color-manager"),s=Object(n._27)(t.showzeroplane,a.showzeroplane,1),c=Object(n._27)(t.showzeroplanevalue,a.showzeroplanevalue);return s||c!==ot||(c=0),{isVertical:!0,isReverse:!r,isOpposit:!1,outCanfontFamily:Object(n._25)(t.outcnvbasefont,t.basefont,"Verdana,sans"),outCanfontSize:Object(n._26)(t.outcnvbasefontsize,t.basefontsize,10),outCancolor:Object(n._25)(t.outcnvbasefontcolor,t.basefontcolor,l.getColor(o.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:t.yaxisbreaks,axisNamePadding:t.yaxisnamepadding,axisValuePadding:t.yaxisvaluespadding,axisNameFont:t.yaxisnamefont,axisNameFontSize:t.yaxisnamefontsize,axisNameFontColor:t.yaxisnamefontcolor,axisNameFontBold:t.yaxisnamefontbold,axisNameFontItalic:t.yaxisnamefontitalic,axisNameBgColor:t.yaxisnamebgcolor,axisNameBorderColor:t.yaxisnamebordercolor,axisNameAlpha:t.yaxisnamealpha,axisNameFontAlpha:t.yaxisnamefontalpha,axisNameBgAlpha:t.yaxisnamebgalpha,axisNameBorderAlpha:t.yaxisnameborderalpha,axisNameBorderPadding:t.yaxisnameborderpadding,axisNameBorderRadius:t.yaxisnameborderradius,axisNameBorderThickness:t.yaxisnameborderthickness,axisNameBorderDashed:t.yaxisnameborderdashed,axisNameBorderDashLen:t.yaxisnameborderdashlen,axisNameBorderDashGap:t.yaxisnameborderdashgap,axisNameWidth:t.yaxisnamewidth,useEllipsesWhenOverflow:t.useellipseswhenoverflow,rotateAxisName:Object(n._27)(t.rotateyaxisname,1),axisName:t.yaxisname,divLineColor:Object(n._25)(t.divlinecolor,l.getColor(o.divLineColor)),divLineAlpha:Object(n._25)(t.divlinealpha,i?l.getColor("divLineAlpha3D"):l.getColor("divLineAlpha")),divLineThickness:Object(n._27)(t.divlinethickness,1),divLineIsDashed:!!Object(n._27)(t.divlinedashed,t.divlineisdashed,0),divLineDashLen:Object(n._27)(t.divlinedashlen,4),divLineDashGap:Object(n._27)(t.divlinedashgap,2),showAlternateGridColor:Object(n._27)(t.showalternatehgridcolor,1),alternateGridColor:Object(n._25)(t.alternatehgridcolor,l.getColor("altHGridColor")),alternateGridAlpha:Object(n._25)(t.alternatehgridalpha,l.getColor("altHGridAlpha")),numDivLines:Object(n._27)(t.numdivlines,a.numDivLines),axisMinValue:a.yRangeMin||t.yaxisminvalue,axisMaxValue:a.yRangeMax||t.yaxismaxvalue,setAdaptiveMin:Object(n._27)(t.setadaptivesymin,t.setadaptiveymin,a.setAdaptiveMin),adjustDiv:t.adjustdiv,labelStep:t.yaxisvaluesstep,showAxisValues:Object(n._27)(t.showyaxisvalues,t.showyaxisvalue,a.showyaxisvalues),showLimits:Object(n._27)(t.showyaxislimits,t.showlimits,e.showLimits),showDivLineValues:Object(n._27)(t.showdivlinevalues,t.showdivlinevalue,a.showdivlinevalues),showZeroPlane:s,zeroPlaneColor:t.zeroplanecolor,zeroPlaneThickness:Object(n._27)(t.zeroplanethickness,t.divlinethickness,a.zeroplanethickness,2),zeroPlaneAlpha:Object(n._27)(t.zeroplanealpha,t.divlinealpha,a.zeroplanealpha),showZeroPlaneValue:c,showZeroPlaneOnTop:a.showzeroplaneontop,trendlineColor:t.trendlinecolor,trendlineToolText:t.trendlinetooltext,trendlineThickness:t.trendlinethickness,trendlineAlpha:t.trendlinealpha,showTrendlinesOnTop:t.showtrendlinesontop,showAxisLine:i?0:Object(n._27)(t.showyaxisline,t.showaxislines,t.drawAxisLines,a.showyaxisline,0),axisLineThickness:Object(n._27)(t.yaxislinethickness,t.axislinethickness,1),axisLineAlpha:Object(n._27)(t.yaxislinealpha,t.axislinealpha,100),axisLineColor:Object(n._25)(t.yaxislinecolor,t.axislinecolor,"#000000"),forceTrendBelow:!!a.is3D}}getBasexAxisConf(){var e=this,t=e.getFromEnv("chart-attrib"),a=e.config.is3D,i=a?n.K.chart3D:n.K.chart2D,o=e.getFromEnv("color-manager");return{isVertical:!1,isOpposit:!1,outCanfontFamily:Object(n._25)(t.outcnvbasefont,t.basefont,"Verdana,sans"),outCanfontSize:Object(n._26)(t.outcnvbasefontsize,t.basefontsize,10),outCancolor:Object(n._25)(t.outcnvbasefontcolor,t.basefontcolor,o.getColor(i.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:t.xaxisnamepadding,axisValuePadding:t.labelpadding,axisNameFont:t.xaxisnamefont,axisNameFontSize:t.xaxisnamefontsize,axisNameFontColor:t.xaxisnamefontcolor,axisNameFontBold:t.xaxisnamefontbold,axisNameFontItalic:t.xaxisnamefontitalic,axisNameBgColor:t.xaxisnamebgcolor,axisNameBorderColor:t.xaxisnamebordercolor,axisNameAlpha:t.xaxisnamealpha,axisNameFontAlpha:t.xaxisnamefontalpha,axisNameBgAlpha:t.xaxisnamebgalpha,axisNameBorderAlpha:t.xaxisnameborderalpha,axisNameBorderPadding:t.xaxisnameborderpadding,axisNameBorderRadius:t.xaxisnameborderradius,axisNameBorderThickness:t.xaxisnameborderthickness,axisNameBorderDashed:t.xaxisnameborderdashed,axisNameBorderDashLen:t.xaxisnameborderdashlen,axisNameBorderDashGap:t.xaxisnameborderdashgap,useEllipsesWhenOverflow:t.useellipseswhenoverflow,divLineColor:Object(n._25)(t.vdivlinecolor,t.divlinecolor,o.getColor(i.divLineColor)),divLineAlpha:Object(n._25)(t.vdivlinealpha,t.divlinealpha,a?o.getColor("divLineAlpha3D"):o.getColor("divLineAlpha")),divLineThickness:Object(n._27)(t.vdivlinethickness,t.divlinethickness,1),divLineIsDashed:!!Object(n._27)(t.vdivlinedashed,t.vdivlineisdashed,t.divlinedashed,t.divlineisdashed,0),divLineDashLen:Object(n._27)(t.vdivlinedashlen,t.divlinedashlen,4),divLineDashGap:Object(n._27)(t.vdivlinedashgap,t.divlinedashgap,2),alternateGridColor:Object(n._25)(t.alternatevgridcolor,o.getColor("altVGridColor")),alternateGridAlpha:Object(n._25)(t.alternatevgridalpha,o.getColor("altVGridAlpha")),labelFont:t.labelfont,labelFontSize:t.labelfontsize,labelFontColor:t.labelfontcolor,labelFontAlpha:t.labelalpha,labelFontBold:t.labelfontbold,labelFontItalic:t.labelfontitalic,axisMinValue:t.xaxisminvalue,axisMaxValue:t.xaxismaxvalue,adjustDiv:t.adjustvdiv,labelDisplay:t.labeldisplay,showLabels:t.showlabels,rotateLabels:t.rotatelabels,slantLabel:Object(n._27)(t.slantlabels,t.slantlabel),labelStep:Object(n._27)(t.labelstep,t.xaxisvaluesstep),showAxisValues:Object(n._27)(t.showxaxisvalues,t.showxaxisvalue),zeroPlaneColor:t.vzeroplanecolor,trendlineColor:t.trendlinecolor,trendlineToolText:t.trendlinetooltext,trendlineThickness:t.trendlinethickness,trendlineAlpha:t.trendlinealpha,showTrendlinesOnTop:t.showtrendlinesontop,axisLineThickness:Object(n._27)(t.xaxislinethickness,t.axislinethickness,1),axisLineAlpha:Object(n._27)(t.xaxislinealpha,t.axislinealpha,100)}}getConfig(e){return e?this.config[e]:this.config}_getSumValueSpace(e){var t,a=Math.max,i=this,o={},r=i.isBar,l=i.getFromEnv("dataSource").chart,s=0===i.showsum?0:Object(n._27)(l.showsum,i.showsum,0),c=Object(n._27)(i.config.stack100percent),h=i.config.isstacked,d=0,g=[],u=0;if(i.iterateComponents(e=>{("cartesianStackGroup"===e.getName()||"marimekkoStackgroup"===e.getName())&&g.push(e)}),s&&c&&h&&g.length){for(t=g.length-1;0<=t;t--)o=g[t].getMaxSumValueSpace(),r?d=a(d,o.maxWidth):u=a(u,o.maxHeight);u>e&&(u=e),d>e&&(d=e)}return{top:u,right:d}}setAxisDimention(){var e=Math.max;let t=this,a=t.getChildren("xAxis")&&t.getChildren("xAxis")[0],i=t.getChildren("yAxis")&&t.getChildren("yAxis")[0],n=t.getFromEnv("chartConfig"),o=n.xDepth,r=t.getChildren("canvas")&&t.getChildren("canvas")[0].config,l=r&&r.canvasBorderWidth,s=r&&r.canvasPadding,c=r.canvasLeft,h=r&&r.canvasPaddingLeft,d=r&&r.canvasPaddingRight,g=r.canvasTop,u=r&&r.canvasPaddingTop;a&&a.setAxisConfig({canvasPaddingLeft:e(h,s),canvasPaddingRight:e(d,s)}),a&&a.setAxisDimention({x:c+(o||0)+e(h,s),y:n.canvasBottom+(n.shift||0)+l,opposite:g-l,axisLength:r.canvasWidth-(o||0)-e(h,s)-e(d,s)}),i&&i.setAxisDimention({x:c-l,y:g+u,opposite:n.canvasRight+l,axisLength:n.canvasHeight-u-r.canvasPaddingBottom})}_getTrendLineMinMax(e,t){var a,i,n,o,r,l="v"===e?this.getFromEnv("dataSource").vtrendlines:this.getFromEnv("dataSource").trendlines,s={max:-1/0,min:1/0};if(t=t||"p",l)for(i=0,o=l.length;i<o;i+=1)for(n=0,r=l[i].line?l[i].line.length:0;n<r;n+=1)a=l[i].line[n],!("s"===t&&"s"!==a.parentyaxis||"s"!==t&&"s"===a.parentyaxis)&&(s.max=rt(a.startvalue||-1/0,a.endvalue||-1/0,s.max),s.min=lt(a.startvalue||1/0,a.endvalue||1/0,s.min));return s}},ct=a("wh0Y"),ht=function(e){let t,a,i,o,r=e.getFromEnv("dataSource").dataset,l=t=e.getChildren().canvas[0].getChildren("vCanvas")[0],s=e.config.defaultDatasetType||"";return r?((i=e.getDSGroupdef())&&(Object(n.M)(t,i,"datasetGroup_"+s,1,[r]),o=t.getChildren("datasetGroup_"+s)),o&&(l=o[0]),a=e.getDSdef(),void Object(n.Q)(l,a,"dataset",r.length,r)):void e.setChartMessage()},dt=a("lz/p");var gt=class extends st{constructor(){super(),this.registerFactory("dataset",ht,["vCanvas"]),this.registerFactory("legend",dt.a)}static getName(){return"MSCartesian"}getName(){return"MSCartesian"}getType(){return"chartAPI"}_createLayers(){super._createLayers();let e=this.getFromEnv("animationManager");this.getChildContainer("legendGroup")||this.addChildContainer("legendGroup",e.setAnimation({el:"group",attr:{name:"legend"},component:this,container:this.getContainer("parentgroup"),label:"group"}))}_manageLegendSpace(){ct.a.call(this)}manageGradientLegendSpace(e){return ct.b.call(this,e)}},ut=a("KPS7"),pt=a("PHJt"),mt=a("nsl9"),ft=a("epdh"),bt=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}],vt={"initial.dataset.entities":function(){return{"path.appearing":()=>(bt[0].slot="plot",bt),"path.updating":e=>[{finalAttr:function(){return e.finalAttr}}],"labelConnectors.appearing":()=>(bt[0].slot="final",bt),"labelConnectors.updating":null,"entityLabel.appearing":()=>[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":()=>(bt[0].slot="final",bt),"markerItem.updating":e=>[{finalAttr:function(){return e.finalAttr}}]}},"initial.group.mapGroup":function(){return{"group.appearing":e=>[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}],"group.updating":e=>[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}],"*":null}}},xt=a("8E66"),yt=a("lHIo");let _t,Ct=Object(x.b)("redraphael","plugin"),Ot=window.navigator.userAgent,Lt=/msie/i.test(Ot)&&!window.opera,wt=",",kt="",jt="top",At="bottom",Ft="right",St="left",Tt="middle",Et="center",Pt="crisp",Dt=window.Math,Vt=Dt.min,It=Dt.max,Mt=/stroke/gi,Rt=/AppleWebKit/.test(Ot),Bt=Dt.ceil,Nt=function(e,t){let a=t?Object(n.T)(e.FCcolor,t,!1,!0):{FCcolor:e};return a.toString=n._38,a},Gt=function(e,t){let a,i={};if(t=t||1,!e||"object"!=typeof e)return i;for(a in e)Mt.test(a)||("stroke-width"===a?(i[a]=+e[a]/t,Rt&&(i[a]=i[a]&&Bt(i[a])||0)):i[a]=e[a]);return i},Wt={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*Vt(t,e-t)}},Ht={top:function(){return arguments[1]},middle:function(e,t){return 2*Vt(t,e-t)},bottom:function(e,t){return e-t}},zt=function(e){let t,a=e&&e.length||0,i={};for(;a--;)(t=e[a]).id!==_t&&(i[t.id.toLowerCase()]=t);return i};Object(x.a)({name:"mapsAnimation",type:"animationRule",extension:vt}),Object(yt.a)(Ct);class Yt extends r.a{constructor(){super(),this.components={}}getName(){return"entities"}getType(){return"dataset"}configureAttributes(e){if(!e)return;this.JSONData={data:e};let t,a,i,o,r,l,s,c,h=this,d=h.getFromEnv("chart").jsonData,g=h.config,u=d.map||d.chart,p=[],m=h.getFromEnv("colorManager"),f=d.entitydef||[];for(r in!g.attachEvent&&m&&(h.addExtEventListener("legendUpdate",function(){if("legend"===(c=arguments[1]).component)h.legendInteractivity(c.legendItem,c.colorObj);else for(p=c.maxMinArray,l=p.length,s=0;s<l;s++)h.updateEntityColors(p[s].min,p[s].max)},m),g.attachEvent=!0),t=d.data&&d.data[0]&&d.data[0].data?h.JSONData=d.data[0].data||[]:h.JSONData=d.data||[],g.useSNameAsId=Object(n._27)(u.usesnameasid,0),this._redefineEntities(f),a=h.components.data,g.showTooltip=Object(n._27)(u.showtooltip,1),g.showHoverEffect=Object(n._27)(u.showhovereffect,0),t=zt(t),h.calculateDataLimits(),d.colorrange||h.detachChild(h.getChildren("colorRange")&&h.getChildren("colorRange")[0].getId()),a)i=t[r],o=a[r],i?this._configureEntity(r,o,Object(n._12)(Yt._sanitizeEntityOptions(Object(n.T)({},i)),o.config)):this._configureEntity(r,o,o.config)}updateEntityColors(e,t){let a,i,n,o,r,l,s=this.components.data,c=this.getFromEnv("chart"),h={"fill-opacity":0};for(o in s)n=(i=(a=s[o]).config).cleanValue,l={"fill-opacity":(r=i.alphaArr||[])[0]/100||1},n<e||n>t?(Yt.setCustomAttrs(a,h,c),a.hidden=!0):(a.hidden=!1,Yt.setCustomAttrs(a,l,c))}legendInteractivity(e,t){let a,i,n,o,r,l,s=this,c=s.getFromEnv("chart"),h=s.components.data,d=e.config,g=e.hasState("hidden"),u=s.getFromEnv("colorManager"),p={},m={"fill-opacity":0};for(a in c.getFromEnv("animationManager").setAnimationState("legendInteraction"),h)h.hasOwnProperty(a)&&(n=(d=(i=h[a]).config).cleanValue,l=u.getColorObj(n),o=d.visibleEntityAttr,p["fill-opacity"]=o["fill-opacity"],r=g?p:m,t.code===(!l.outOfRange&&l.code)&&(i.hidden=!g,Yt.setCustomAttrs(i,r,c),g?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))}static setCustomAttrs(e,t){let a,i;e&&(i=(a=e.graphics).outlines).attr(t)}calculateDataLimits(){let e,t,a,i,n=this.getFromEnv("chart"),o=this.config,r=n.jsonData.data||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(i=0,a=r.length;i<a;i++)t=r[i].value,e=l.getCleanValue(t),s=Vt(s,e),c=It(c,e);o.max=c,o.min=s}_configureEntity(e,t,a){let i,o,r,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C,O,L,w,k,j=this,A=j.getFromEnv("chart"),F=j.config,S=this.getFromEnv("number-formatter"),T=A.config.entityOpts,E=t.config,P=t.labelConfig,D=a.value,V=E.cleanValue=S.getCleanValue(D),I=E.formattedValue=V===_t?_t:S.dataLabels(V),M=Object(n._27)(a.showtooltip,T.showTooltip),R=this._getDefaultTooltip(t,a,j),B={formattedValue:I,sName:a.shortLabel,lName:a.label},N=T.dataLabels.style,G=E.toolText=M?Object(n._23)(Object(n._25)(Object(n._22)(Object(n._25)(a.tooltext,T.tooltext,R),[1,2,7,38,39],B,a))):kt,W=E.borderColor=Object(n._25)(a.bordercolor,T.borderColor),H=E.borderAlpha=Object(n._25)(a.borderalpha,T.borderAlpha),z=E.borderThickness=Object(n._27)(a.borderthickness,T.borderThickness),Y=T.hoverOnNull,X=E.useHoverColor=Object(n._27)(a.showhovereffect,a.usehovercolor,Y?T.showHoverEffect:isNaN(D)?0:T.showHoverEffect),Z=E.labelAlignment,K=j.getFromEnv("colorManager");if(t.hidden=!1,E.showLabel=Object(n._27)(a.showlabel,T.showLabels),E.labelPadding=Object(n._27)(a.labelpadding,T.labelPadding),E.fontFamily=Object(n._25)(a.font,N.fontFamily),E.fontSize=Object(n._27)(parseInt(a.fontsize,10),parseInt(N.fontSize,10)),E.fontBold=Object(n._27)(a.fontbold,0),E.fontColor=Object(n._25)(a.fontcolor,N.color),E.connectorColor=Object(n._25)(a.labelconnectorcolor,T.connectorColor),E.connectorAlpha=Object(n._25)(a.labelconnectoralpha,T.connectorAlpha),E.hoverBorderThickness=Object(n._27)(a.borderhoverthickness,a.hoverborderthickness,T.hoverBorderThickness),E.hoverBorderColor=Object(n._25)(a.borderhovercolor,a.hoverbordercolor,T.hoverBorderColor,E.borderColor),E.hoverBorderAlpha=Object(n._25)(a.borderhoveralpha,a.hoverborderalpha,T.hoverBorderAlpha,E.borderAlpha),E.connectorThickness=Object(n._27)(a.labelconnectorthickness,T.connectorThickness),E.origConnectorThickness=E.connectorThickness,E.borderThickness=z,E.link=a.link,E.isVisible=!0,E.id=e,E.originalId=a.origId,null!==V&&((i=K&&K.getColor(V))&&!i.outOfRange&&(y=i.code,i.oriAlpha!==_t&&(_=i.oriAlpha+""))),Object(n._25)(a.color,a.alpha,a.angle,a.ratio)===_t?(v=Nt({color:Object(n._25)(y,T.fillColor),alpha:Object(n._25)(_,T.fillAlpha),angle:Object(n._25)(T.fillAngle),ratio:Object(n._25)(T.fillRatio)}),b=Nt({color:Object(n._25)(T.nullEntityColor),alpha:Object(n._25)(T.nullEntityAlpha),angle:Object(n._25)(T.nullEntityAngle),ratio:Object(n._25)(T.nullEntityRatio)}),c=(u=null===V?b:v).FCcolor.color,h=u.FCcolor.alpha,d=u.FCcolor.angle,g=u.FCcolor.ratio):(c=Object(n._25)(a.color,y,T.fillColor),h=Object(n._25)(a.alpha,_,T.fillAlpha),d=Object(n._25)(a.angle,T.fillAngle),g=Object(n._25)(a.ratio,T.fillRatio),u=Nt({color:c,alpha:h,angle:d,ratio:g})),G===kt&&(F.showTooltip=0),E.visibleEntityAttr={stroke:Object(l.c)(W,H),fill:(E.fillColor=u).toString(),"fill-opacity":h/100},k=h.split(wt),E.alphaArr=k,X&&(Object(n._25)(a.fillhovercolor,a.fillhoveralpha,a.fillhoverangle,a.fillhoverratio,a.hoverfillcolor,a.hoverfillalpha,a.hoverfillratio,a.hoverfillangle)===_t?(!T.hoverColorObject&&(T.hoverColorObject=Nt({color:T.hoverFillColor,alpha:T.hoverFillAlpha,angle:T.hoverFillAngle,ratio:T.hoverFillRatio})),x=T.hoverColorObject):(c=Object(n._25)(a.fillhovercolor,a.hoverfillcolor,T.hoverFillColor),h=Object(n._25)(a.fillhoveralpha,a.hoverfillalpha,T.hoverFillAlpha),d=Object(n._25)(a.fillhoverangle,a.hoverfillangle,T.hoverFillAngle),g=Object(n._25)(a.fillhoverratio,a.hoverfillratio,T.hoverFillRatio),x=Nt({color:c,alpha:h,angle:d,ratio:g})),E.hoverColor=x),P||(P=t.labelConfig={}),p=E.fontColor,m=E.fontFamily,f=E.fontBold,G=E.toolText,o=E.link,Z?(r=Z[0],s=Z[1]):(r=Et,s=Tt),P.align=r,P.vAlign=s,P.bgColor=kt,P.borderColor=kt,P.fontColor=p,P.fontFamily=m,P.fontBold=f,P.toolText=G,P.link=o,"object"==typeof E.options)for(C=E.entityLabels=E.entityLabels||[],w=(L=E.labels||[]).length;w--;)C[w]||(C[w]={config:{}}),P=C[w].config,(Z=L[w].labelAlignment)?(r=Z[0],s=Z[1]):(r=Et,s=Tt),P.align=r,P.vAlign=s,P.displayValue=j.getDisplayValue(t,L[w],E.options.isDataEnabled,!w,a),P.bgColor=kt,P.borderColor=kt,P.toolText=G,P.align=r,P.vAlign=s,P.bgColor=kt,P.borderColor=kt,P.fontColor=p,P.fontFamily=m,P.fontBold=f,P.toolText=G;else O={shortText:E.shortLabel,text:E.label},P.displayValue=j.getDisplayValue(t,O,!0,!0,a)}getDisplayValue(e,t,a,i,o){let r,l=this.getFromEnv("chart").config.entityOpts,s=e.config,c=s.cleanValue,h=s.formattedValue,d=l.labelSepChar;return a?i&&void 0!==o.displayvalue?r=o.displayvalue:(r=Object(n._25)(l.includeNameInLabels?l.useShortName?t.shortText:t.text:""),l.includeValueInLabels&&null!==c&&(r=r===_t?h:r+d+h)):r=s.label,r}static _sanitizeEntityOptions(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e}_redefineEntities(e){let t,a,i,o,r,l,s,c,h,d,g,u,p=this,m=p.config,f={},b={},v=p.getFromEnv("chart").config.entities,x=m.useSNameAsId,y=0;for(t=e.length;t--;)if(i=(a=e[t]).internalid,o=a.newid?a.newid:i,r=a.sname,l=a.lname,u=v[i],i=Object(n._40)(i),o=(o=Object(n._40)(o))&&o.toLowerCase(),u){for(g in f[o]=c={origId:i},b[i]=!0,u)c[g]=u[g];c.shortLabel=r||u.shortLabel,c.label=l||u.label,c.showhovereffect=a.showhovereffect,c.fillhovercolor=a.fillhovercolor,c.fillhoveralpha=a.fillhoveralpha,c.fillhoverangle=a.fillhoverangle,c.fillhoverratio=a.fillhoverratio,c.borderhoverthickness=a.borderhoverthickness}for(s in(d=p.components.data)||(d=p.components.data={}),f)d[s=s.toLowerCase()]||(d[s]={config:{}}),d[s].config=f[s],y+=1;for(s in h=d,v)if(c=v[s],!b[s=Object(n._40)(s)]){for(g in x?(!(u=h[c.shortLabel.toLowerCase()])&&(u=h[c.shortLabel.toLowerCase()]={}),u.config={},u.origId=c.shortLabel):(!(u=h[s.toLowerCase()])&&(u=h[s.toLowerCase()]={}),u.config={},u.config.origId=s),c)u.config[g]=c[g];y+=1}m.entityCount=y}draw(){let e,t=this.config,a=this.getFromEnv("chart"),i=n._8?200:10;this.config.ready=!1,t.BATCH_SIZE=i,t.labelBatchSize=n._8?200:20,(e=this._batchRender())(0),a.config.entityFlag=!0,a.checkComplete()}_batchRender(){let e,t,a,i,n,o=this,r=o.config,l=o.getFromEnv("chart").config.entities.firstEntity,s=o.components.data,c=r.BATCH_SIZE,h=r.entityKeys=l?o._getKeys(l,s):Object.keys(s),d=r.entityLength=h.length,g=function(r){for(e=r,a=0;h[e]!==_t;)if(t=s[h[e]],n=o.drawEntity(t,c),a+=n,t.config.drawn&&((i=e===d-1?t:s[h[e-1]])&&(i.config.drawn=!1,i.config.outlineStartIndex=_t),e++),a>=c){o.addJob("entityDraw",g.bind(this,e),xt.b.entitydraw);break}e===d&&(o._addEventListenersToEntities(0),o.initComplete())};return g}_addEventListenersToEntities(e){let t,a,i,n,o=this,r=o.components.data,l=o.config,s=l.BATCH_SIZE,c=l.entityKeys,h=l.entityLength,d=0;for(t=e;t<h;t++)if((i=(n=(a=r[c[t]]).config).options)&&!1===i.isDataEnabled||o.addMouseGestures(a),++d===s){o.addJob("_addEventListenersToEntities",o._addEventListenersToEntities.bind(this,t),xt.b.entitydraw);break}}static _getKeys(e,t){let a=[e],i=e;for(;t[i];)i=t[i].nextId,a.push(i);return a}_getDefaultTooltip(e,t){let a,i,n=e.config.cleanValue,o=e.config.formattedValue,r=this.getFromEnv("chart").config.entityOpts;if("object"==typeof e.config.options){if(!(i=t.labels&&t.labels[0]))return _t;a=(r.useSNameInTooltip?i.shortText:i.text)+(null===n?kt:r.tooltipSepChar+o)}else a=(r.useSNameInTooltip?t.shortLabel:t.label)+(null===n?kt:r.tooltipSepChar+o);return a}drawEntity(e,t){let a,i,o,r,l,s,c,h,d,g=this,u=g.getFromEnv("chart"),p=u.getFromEnv("animationManager"),m=e.config,f=n._8||!Lt?"litepath":"path",b=u.config.entityOpts,v=m.outlines,x=g.getFromEnv("toolTipController"),y=this.getLinkedParent().getChildContainer("plot"),_=this.getLinkedParent().getChildContainer("plotShadow"),C=m.toolText,O=b.shadow,L=[],w={};if(g._configureEntityDrawingParams(e),o=(m=e.config).visibleEntityAttr,d=m.shadowOptions,a=m.outlineStartIndex===_t?v.length:m.outlineStartIndex,e.graphics||(e.graphics={}),c=0,L=m.outlinePath||(m.outlinePath=[]),h=m.customStrokeWidthModifier,"object"==typeof m.options){for(;a--;)if(L=v[a].outline,r=!0===m.options.isDataEnabled?o:Object(n.T)(Object(n.T)({},o),Gt(v[a].style,h)),(l=e.graphics.outlines)||(l=e.graphics.outlines=[]),l[a]||(l[a]={}),s=l[a].outline,r[f]=L,(s=l[a].outline=p.setAnimation({el:f,container:y,attr:r,component:g,label:"path"})).shadow(!!O&&d,_),x.enableToolTip(s,C),c++,m.outlineStartIndex=a,c===t)return c;return m.drawn=!0,c}for(;a--;)if(L=(i=v[a]).concat(L),c++,m.outlineStartIndex=a,c===t)return m.outlinePath=L,c;return e.graphics.outlines||(o[f]=L),Object.assign(w,o,e.hidden&&{"fill-opacity":0}||{}),e.graphics.outlines=p.setAnimation({el:e.graphics.outlines||f,container:y,attr:w,component:g,label:"path"}),m.drawn=!0,m.outlineStartIndex=0,m.outlinePath=[],e.graphics.outlines.shadow(!!O&&d,_),x.enableToolTip(e.graphics.outlines,C),c}_configureEntityDrawingParams(e){let t,a=this.getFromEnv("chart"),i=e.config,o=a.config.entityOpts,r=a.config.scalingParams,l=!Lt||n._8,s=r.scaleFactor,c=r.strokeWidth,h=(l?a.baseScaleFactor:1)*c,d=1===o.scaleBorder,g=i.borderThickness,u=i.alphaArr,p=i.origConnectorThickness,m=i.hoverBorderThickness,f=i.visibleEntityAttr,b=f["fill-opacity"];i.shadowOptions={scalefactor:[s,s*a.config.baseScaleFactor],opacity:It.apply(Dt,u)/100,useFilter:0},i.fillOpacity=e.hidden?0:b,l?(g=i.entityBorderThickness=d?g*h:g/s,p/=s,t=d?s:r.sFactor,m&&(m=i.hoverBorderThickness=d?m*h:m/s)):(g=d?g*c:g,t=d?r.scaleFactor:a.baseScaleFactor),i.entityBorderThickness=g,i.connectorThickness=p,i.customStrokeWidthModifier=t,f["stroke-width"]=g,f.transform=n._8||!Lt?"":r.transformStr}drawLabels(e){let t,a,i,n,o=this,r=e,l=o.getFromEnv("chart"),s=o.config,c=s.labelBatchSize,h=s.entityLength,d=[],g=0,u=l.getChildren("mapLabelAnnotations")&&l.getChildren("mapLabelAnnotations")[g],p=0,m=0,f=l.getFromEnv("toolTipController"),b=l.config.annotationConfig;for(t in u||(n=new mt.a,l.attachChild(n,"mapLabelAnnotations"),u=l.getChildren("mapLabelAnnotations")[g]),u.clear(),u._renderer&&(u._renderer=null),b.showbelow=0,r){if(o.drawLabel(r[t],d),++p===c){for(u.annotation.injectDependency("paper",l.getFromEnv("paper")),u.annotation.injectDependency("toolTipController",f),a=0;a<d.length;a++)d[a].animationLabel="entityLabel";for(i=u.addGroup(Object.assign(b,{id:"entityLabels"+g,items:d,animationLabel:"entityLabelGroup"}),o),l.config.labelsOnTop&&i.store.element.toFront(),a=0;a<i.items.length;a++)i.items[a].addEventListener("mouseover",d[a].onmouseover),i.items[a].addEventListener("mouseout",d[a].onmouseout),i.items[a].addEventListener("click",d[a].onclick);g++,(u=l.getChildren("mapLabelAnnotations")&&l.getChildren("mapLabelAnnotations")[g])||(n=new mt.a,l.attachChild(n,"mapLabelAnnotations"),u=l.getChildren("mapLabelAnnotations")[g]),u.clear(),u._renderer&&(u._renderer=null),p=0,d=[]}else if(m==h-1){for(u.annotation.injectDependency("paper",l.getFromEnv("paper")),u.annotation.injectDependency("toolTipController",f),a=0;a<d.length;a++)d[a].animationLabel="entityLabel";for(i=u.addGroup(Object.assign(b,{id:"entityLabels"+g,items:d,animationLabel:"entityLabelGroup"}),o),l.config.labelsOnTop&&i.store.element.toFront(),a=0;a<i.items.length;a++)i.items[a].addEventListener("mouseover",d[a].onmouseover),i.items[a].addEventListener("mouseout",d[a].onmouseout),i.items[a].addEventListener("click",d[a].onclick)}m++}o.drawLabelConnFn(0)}drawLabelConnFn(e){let t,a,i,n,o,r=this,l=r.config,s=r.components.data,c=l.BATCH_SIZE,h=l.entityKeys,d=h.length,g=0;for(a=e;a<d;a++){if("object"==typeof(n=(o=s[h[a]]).config).options)for(t=(i=n.labels)&&i.length||0;t--;)i[t].labelConnectors&&(r.drawLabelConnectors(o,i[t].labelConnectors,r),g++);else n.labelConnectors&&(r.drawLabelConnectors(o,n.labelConnectors,r),g++);if(g===c){r.addJob("drawLabelConnectors",r.drawLabelConnFn.bind(this,a),xt.b.entitydraw);break}}}_getLabelObject(e,t,a){let i,n,o,r,l,s,c,h,d,g,u,p,m=this,f=m.getFromEnv("chart"),b=e.config,v=f.config.scalingParams,x=e.graphics&&e.graphics.outlines,y=b.fontSize,_=b.labelPadding,C=b.labels||[],O=b.entityLabels||[];return t===_t?(i=e.labelConfig,n=b.labelPosition,o=b.labelAlignment):(u=C[t],r=(i=(p=O[t]).config).style=u.style,n=u.labelPosition,o=u.labelAlignment),n?(l=n[0],s=n[1]):(l=(c=x.getBBox()).x+c.width/2,s=c.y+c.height/2),o?(h=o[0],d=o[1],h===Ft?l-=_:h===St&&(l+=_),d===jt?s-=_:d===At&&(s+=_)):(h=Et,d=Tt),g=parseFloat(y)/v.sFactor,!a&&r&&(r.color&&(i.fontColor=r.color),r["font-size"]&&(g=parseFloat(r["font-size"])/v.sFactor),r["font-family"]&&(i.fontFamily=r["font-family"]),r["font-weight"]!==_t&&(i.fontBold="bold"===r["font-weight"])),i.x=l.toString(),i.y=s.toString(),i.wrap=1,i.type="text",i.fontSize=g,{x:l.toString(),y:s.toString(),wrapwidth:Wt[h](void 0,l+void 0)-_,wrapheight:Ht[d](void 0,s+void 0)-_,wrap:1,type:"text",align:i.align,valign:i.vAlign,text:i.displayValue,tooltext:i.toolText,css:i.link!==_t&&{cursor:"pointer",_cursor:"hand"},bgcolor:i.bgColor,bordercolor:i.borderColor,fillcolor:i.fontColor,fontsize:i.fontSize,font:i.fontFamily,bold:i.fontBold,onclick:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityClick(n[a].outline,t);else m.entityClick(n,t)},onmouseover:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityRollOver(n[a].outline,t);else m.entityRollOver(n,t)},onmouseout:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityRollOut(n[a].outline,t);else m.entityRollOut(n,t)},ontouchstart:function(t){let a,i,n=e.graphics.outlines;if(n instanceof Array)for(a=0,i=n.length;a<i;a++)m.entityRollOver(n[a].outline,t);else m.entityRollOver(n,t);m.entityRollOver(n,t)}}}drawLabel(e,t){let a,i,n,o=this,r=e.config;if(r.showLabel)if("object"==typeof r.options)for(i=(n=r.labels)&&n.length||0,a=r.options.isDataEnabled;i--;)t.push(o._getLabelObject(e,i,a,!i));else t.push(o._getLabelObject(e,_t,!0,!0))}drawLabelConnectors(e,t,a){let i,o,r=e.config,s=this,c=s.getFromEnv("chart"),h=c.getFromEnv("animationManager"),d=c.config.scalingParams,g=a.getLinkedParent().getChildContainer("plot"),u=t&&t.length||0,p=r.showLabel;for(;u--;)o=t[u],i=e.graphics.connectorElem,p?e.graphics.connectorElem=i=h.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:o,opacity:1,transform:n._8||!Lt?"":d.transformStr,stroke:Object(l.c)(r.connectorColor,r.connectorAlpha),"shape-rendering":Pt,"stroke-width":r.connectorThickness},container:g,component:s,label:"labelConnectors"}):i&&i.hide()}entityClick(e,t){let a=e.node.__entity,i=this.getFromEnv("chart"),n=i.config.scalingParams,o=a.graphics.outlines.getBBox(),r=i.getFromEnv("linkClickFN"),l=a.config,s=l.link;o.width*=n.scaleFactor,o.height*=n.scaleFactor,o.x=o.x*n.scaleFactor+n.translateX,o.y=o.y*n.scaleFactor+n.translateY,o.x2=o.x+o.width,o.y2=o.y+o.height,i.fireChartInstanceEvent("entityclick",l.eventArgs,t),s!==_t&&r.call({link:s,entity:a,entityBox:o},!0)}entityRollOver(e,t){let a=e.node.__entity,i=a.config,n=this.getFromEnv("chart"),o=n.getFromEnv("animationManager"),r=i.hoverAttr;n.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(a.config.timer):i.useHoverColor&&i.isVisible&&!a.hidden&&r&&(n.config.hoverEntity=e,o.setAnimation({el:e,attr:r,component:this,state:"updating",label:"path"}),e.data("hovered",!0))}entityRollOut(e,t){let a,i=e.node.__entity,n=this,o=n.getFromEnv("chart"),r=o.getFromEnv("animationManager"),l=i.config.revertAttr;o.plotEventHandler(e,t,"entityRollOut"),i.config.timer=setTimeout(function(){!0!==(a=i.hidden)&&l&&(r.setAnimation({el:e,attr:l,component:n,state:"updating",label:"path"}),e.data("hovered",!1))},100)}addMouseGestures(e){let t,a,i,o,r,s=e.config,c=s.originalId,h=this,d=e.graphics,g=s.useHoverColor,u=s.hoverBorderThickness,p=s.hoverBorderColor,m=s.hoverBorderAlpha,f=s.entityBorderThickness,b=s.borderColor,v=s.borderAlpha,x=s.link,y=s.visibleEntityAttr,_=function(t){x!==_t&&t.css({cursor:"pointer",_cursor:"hand"}),t.data("eventArgs",s.eventArgs),t.data("groupId","groupId"+c),t.node.__entity=e,e._listenersBinded||t.click(h.entityClick.bind(h,t)).hover(h.entityRollOver.bind(h,t),h.entityRollOut.bind(h,t))};for(t in s.eventArgs={value:s.cleanValue,label:s.label,shortLabel:s.shortLabel,originalId:s.origId,id:s.id||s.origId},s.legacyEventArgs={value:s.value,lName:s.label,sName:s.shortLabel,id:s.originalId||s.id},g&&(s.hoverAttr={fill:Object(n._38)(s.hoverColor)},s.revertAttr={fill:Object(n._38)(s.fillColor),stroke:Object(n._38)(s.borderColor,s.borderAlpha)},s.revertAttr["fill-opacity"]=y["fill-opacity"],u!==f&&(s.hoverAttr["stroke-width"]=Object(n._27)(u,f),s.revertAttr["stroke-width"]=f),(p!==b||m!==v)&&(s.hoverAttr.stroke=Object(l.c)(p,m),s.revertAttr.stroke=Object(l.c)(b,v))),d)if(d.hasOwnProperty(t))if(d[t]instanceof Array){for(a=0,o=(r=d[t]).length;a<o;a++)_(i=r[a].outline);e._listenersBinded=!0}else _(i=d[t]),e._listenersBinded=!0}getDataLimits(){let e=this.config;return{max:e.max,min:e.min}}initComplete(){let e=this.getFromEnv("chart"),t=this.components.data;this.drawLabels(t),e.config.entitiesReady=!0,e.checkComplete()}}var Xt,Zt=Yt,Kt=function(e,t,a,i,n){var o=Math.pow;return o(a-e,2)+o(i-t,2)<=o(n,2)},Ut=Math.PI,qt=Math.cos,Jt=Math.sin,$t=Math.max,Qt=Math.min,ea=Ut/180,ta=function(e,t,a,i,n,o){var r,l,s;return r=(i-t)*(n-a),l=(a-e)*(o-i),isNaN(r)&&(r=0),isNaN(l)&&(l=0),0===(s=r-l)?0:0<s?1:2},aa=function(e,t,a,i,n,o){return!!(a<=$t(e,n)&&a>=Qt(e,n)&&i<=$t(t,o)&&i>=Qt(t,o))},ia=function(e,t,a,i,n,o,r,l){var s=ta(e,t,a,i,n,o),c=ta(e,t,a,i,r,l),h=ta(n,o,r,l,e,t),d=ta(n,o,r,l,a,i);return!!(s!==c&&h!==d||0===s&&aa(e,t,n,o,a,i)||0===c&&aa(e,t,r,l,a,i)||0===h&&aa(n,o,e,t,r,l)||0===d&&aa(n,o,a,i,r,l))},na=function(e,t,a,i,n,o,r){var l,s,c,h,d,g,u,p=0,m=!1;if(Kt(e,t,a,i,n)&&3<=o){for(s=r===Xt?.5*Ut:function(e){return e%360*ea}(r),u=2*Ut/o,c=a+n*qt(-s),g=i+n*Jt(-s),l=0;l<o;l++){if(h=a+n*qt(-(s+=u)),d=i+n*Jt(-s),ia(c,g,h,d,e,t,1/0,t)){if(0===ta(c,g,e,t,h,d))return aa(c,g,e,t,h,d);p++}c=h,g=d}m=0!=p%2}return m},oa=(e,t)=>!e||e&&t&&t.i>e.i?t:e;class ra{constructor(e){this.configure(e)}configure(e){var t=this;t.validatorFn=e?t.shapeValidator():t.defaultValidator()}defaultValidator(){var e=Math.pow,t=this;return function(a){var i=t.mousePoint;return!!(a&&1>=e((a.x-i.x)/t.xLimit,2)+e((a.y-i.y)/t.yLimit,2))}}shapeValidator(){var e=this;return function(t){var a,i,n,o,r,l,s,c,h,d=e.mousePoint,g=t&&t.shapeInfo,u=!1,p=d.x,m=d.y;return"circle"===(a=g&&g.type)?(n=g.radius,u=Kt(p,m,t.x,t.y,n)):"arc"===a?(i=g.innerradius,n=g.radius,u=!Kt(p,m,t.x,t.y,i)&&Kt(p,m,t.x,t.y,n)):"polygon"===a?(n=g.radius,r=g.startAngle,o=g.sides,u=na(p,m,t.x,t.y,n,o,r)):"rect"===a||"rectangle"===a?(l=t.x,c=t.y,s=l+(g.width||0),h=c+(g.height||0),u=p>=l&&p<=s&&m>=c&&m<=h):"default"===a&&(u=!1),u}}buildKdTree(e){return this.kdTree=function(e){function t(e,t,a){var i=e[t];e[t]=e[a],e[a]=i}var a,i,n,o=e&&e[0]&&e[0].r||5,r=Math.max,l=Math.floor,s=Math.sqrt,c=Math.min,h=Math.log,d=Math.exp,g=Math.pow;for(i=function(e,a,n,o){for(var g,u,p,m,f,b,v,x,y,_;o>n;){for(600<o-n&&(u=a-n+1,p=h(g=o-n+1),m=.5*d(2*p/3),f=.5*s(p*m*(g-m)/g)*(0>u-g/2?-1:1),b=r(n,l(a-u*m/g+f)),v=c(o,l(a+(g-u)*m/g+f)),i(e,a,b,v)),x=e[a],y=n,_=o,t(e,n,a),e[o].x>x.x&&t(e,n,o);y<_;){for(t(e,y,_),y++,_--;e[y].x<x.x;)y++;for(;e[_].x>x.x;)_--}e[n].x===x.x?t(e,n,_):t(e,++_,o),_<=a&&(n=_+1),a<=_&&(o=_-1)}},n=function(e,a,i,o){for(var g,u,p,m,f,b,v,x,y,_;o>i;){for(600<o-i&&(u=a-i+1,p=h(g=o-i+1),m=.5*d(2*p/3),f=.5*s(p*m*(g-m)/g)*(0>u-g/2?-1:1),b=r(i,l(a-u*m/g+f)),v=c(o,l(a+(g-u)*m/g+f)),n(e,a,b,v)),x=e[a],y=i,_=o,t(e,i,a),e[o].y>x.y&&t(e,i,o);y<_;){for(t(e,y,_),y++,_--;e[y].y<x.y;)y++;for(;e[_].y>x.y;)_--}e[i].y===x.y?t(e,i,_):t(e,++_,o),_<=a&&(i=_+1),a<=_&&(o=_-1)}},a=(e=e||[]).length;a--;)e[a].r>o&&(o=e[a].r),e[a].i=a,e[a].x=+e[a].x,e[a].y=+e[a].y;return{tree:0===e.length?{}:function e(t,a,o,r){var l,s={},c=r?"y":"x";return a===o?(s.point=t[a],s):1==o-a?(t[a][c]>t[o][c]?(s.point=t[a],s.left={point:t[o]}):(s.point=t[o],s.left={point:t[a]}),s):(l=a+o>>1,r?n(t,l,a,o):i(t,l,a,o),s.point=t[l],s.left=e(t,a,l-1,!r),s.right=e(t,l+1,o,!r),s)}(e,0,e.length-1,!1),search:function(e,t,a,i){function n(e,t,a,i){return s(g(e-a,2)+g(t-i,2))}function r(i,o){return"circle"===a?n(i,o,e,t)<=f:i>=f&&i<=b&&o>=v&&o<=x}function l(e,t,a){return e>=t&&e<=a}function c(a){var i=l(e,a.x1,a.x2)&&l(t,a.y1,a.y2),o=n(e,t,a.point.x,a.point.y);return d?void(i?y?a.point.i>d.point.i&&(d=a,y=i,_=o):(d=a,y=i,_=o):!y&&o<_&&(d=a,y=i,_=o)):(d=a,y=i,void(_=o))}function h(i,n){"circle"===a?f=i:(f=e-i||0,b=e+i||0,v=t-n||0,x=t+n||0)}var d,u,p,m=this.tree,f=e-o,b=e+o,v=t-o,x=t+o,y=!1,_=0;return i=i||{},p=function(e){e&&e.point&&(h(i.rx||e.point.r,i.ry||e.point.r),r(e.point.x,e.point.y)&&c(e),v<=e.point.y&&u(e.left),x>=e.point.y&&u(e.right))},(u=function(e){e&&e.point&&(h(i.rx||e.point.r,i.ry||e.point.r),r(e.point.x,e.point.y)&&c(e),f<=e.point.x&&p(e.left),b>=e.point.x&&p(e.right))})(m),d&&d.point||d}}}(e),this.tree=this.kdTree.tree,this}getNeighbour(e,t,a){var i=this,n=i.tree,o={x1:e.x-i.xLimit,x2:e.x+i.xLimit,y1:e.y-i.yLimit,y2:e.y+i.yLimit},r=i.validatorFn;return i.mousePoint=e,t?this.kdTree&&this.kdTree.search(e.x,e.y,a,e.options):n?i._searchBtwnLimit(o,n,!0,r):void 0}_searchBtwnLimit(e,t,a,i){var n,o,r=a?"x":"y",l=a?e.x1:e.y1,s=a?e.x2:e.y2;if((n=t&&t.point&&t.point[r])!==Xt)return i(t.point)&&(o=t.point),n>=l&&t.left&&(o=oa(o,this._searchBtwnLimit(e,t.left,!a,i))),n<=s&&t.right&&(o=oa(o,this._searchBtwnLimit(e,t.right,!a,i))),o}_setSearchLimit(e,t){this.xLimit=e,this.yLimit=t}}ra.prototype.constructor=ra;var la=ra;let sa,ca=window.navigator.userAgent,ha=/msie/i.test(ca)&&!window.opera,da="",ga="top",ua="bottom",pa="right",ma="left",fa="middle",ba="center",va=.6,xa=window.Math,ya=xa.min,_a=xa.max,Ca="items",Oa=Math.PI/180,La="rgba(192,192,192,"+(ha?.002:1e-6)+")",wa=function(e,t){let a=t?Object(n.T)(e.FCcolor,t,!1,!0):{FCcolor:e};return a.toString=n._38,a},ka=function(e,t){let a,i=e&&e.length||!1,n=t||"id",o={};if(!e)return e;for(;i--;)(a=e[i])[n]!==sa&&(o[a[n].toLowerCase()]=a);return o};Object(x.a)({name:"mapsAnimation",type:"animationRule",extension:vt});class ja extends Zt{constructor(){super(),this.components={},this.getLabelAlignment={top:function(e,t,a){return{x:e.toString(),y:(t-a).toString(),align:ba,valign:ga}},left:function(e,t,a){return{x:(e-a).toString(),y:t.toString(),align:pa,valign:fa}},right:function(e,t,a){return{x:(e+a).toString(),y:t.toString(),align:ma,valign:fa}},bottom:function(e,t,a){return{x:e.toString(),y:(t+a).toString(),align:ba,valign:ua}},center:function(e,t){return{x:e.toString(),y:t.toString(),align:ba,valign:fa}}},this.getWrapWidth={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*ya(t,e-t)}},this.getWrapHeight={top:function(){return arguments[1]},middle:function(e,t){return 2*ya(t,e-t)},bottom:function(e,t){return e-t}}}getName(){return"markers"}getType(){return"dataset"}configureAttributes(e){if(e){this.JSONData=e;let t=this,a=t.getFromEnv("chart").config.markerOpts;t.calculateDataLimits(),a.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors()}}calculateMarkerRadiusLimits(){if(this.JSONData){let e=this,t=e.JSONData,a=e.config,i=e.getFromEnv("chart"),n=i.config.width,o=i.config.height,r=t.markermaxradius,l=t.markerminradius,s=ja.getMarkerRadiusLimits(n,o,r,l);a.minRadius=s.min,a.maxRadius=s.max}}calculateDataLimits(){let e,t,a,i,n,o=this.getFromEnv("chart"),r=this.config,l=(o.jsonData.markers||{})[Ca]||[],s=this.getFromEnv("number-formatter"),c=1/0,h=-1/0;for(n=0,a=l.length;n<a;n++)i=(e=l[n]).value,null!==(t=s.getCleanValue(i))&&(c=ya(t,c),h=_a(t,h));r.min=c,r.max=h}_parseMarkers(){let e,t,a,i,o,r,l,s,c=this,h=c.getFromEnv("chart"),d=h.jsonData.markers,g=d[Ca],u=d.shapes,p=h.config.markerOpts,m=this.getFromEnv("number-formatter"),f=c.components.shapeObjs={},b=c.components.markerObjs={};if(g&&g.length){if(u&&u.length)for(t=u.length;t;t-=1)(s=(i=u[t-1]).id.toLowerCase())&&(f[s]=i);for(t=g.length;t--;)(s=(i=g[t]).id&&i.id.toLowerCase())&&((e=i.value)!==sa&&""!==e&&(e=parseFloat(e)),(o=(a=ja._initializeMarkerItem(s,i,null,h)).config.options.shapeid)&&"string"==typeof o&&(o=o.toLowerCase()),l=(r=a.config).options,r.cleanValue=m.getCleanValue(e),r.formattedValue=null===r.cleanValue?sa:m.dataLabels(e),r.fillColor=Object(n._25)(l.fillcolor,l.color,p.fillColor),r.fillAlpha=Object(n._25)(l.fillalpha,l.alpha,p.fillAlpha),r.fillRatio=Object(n._25)(l.fillratio,p.fillRatio),r.fillAngle=Object(n._25)(l.fillangle,p.fillAngle),r.borderThickness=Object(n._27)(l.borderthickness,p.borderThickness),r.borderColor=Object(n._25)(l.bordercolor,p.borderColor),r.borderAlpha=Object(n._25)(l.borderalpha,p.borderAlpha),r.labelPadding=l.labelpadding||p.labelPadding,a.dataset=c,i.__hideMarker&&(a._isHidden=!0),o&&(a.shapeObj=f[o]),b[s]=a)}}defineMarkersNShapes(){let e,t,a,i,o,r,l,s,c=this,h=c.getFromEnv("chart"),d=h.jsonData.markers,g=d.definition,u=this.getFromEnv("number-formatter"),p=h.config.markerOpts,m=ka(g)||{},f=ka(d.application)||{},b=d.shapes,v=c.components.shapeObjs=c.components.shapeObjs||(c.components.shapeObjs={}),x=c.components.markerObjs=c.components.markerObjs||(c.components.markerObjs={});if(g&&g.length){if(b&&b.length)for(i=b.length;i;i-=1)(s=(r=b[i-1]).id.toLowerCase())&&(v[s]=r);for(s in m)r=m[s],(o=x[s]=ja._initializeMarkerItem(s,r,f[s],h)).dataset=c,l=o.config.options.shapeid,t=o.config,a=r.value,t.cleanValue=u.getCleanValue(a),e=t.options,t.formattedValue=null===t.cleanValue?sa:u.dataLabels(a),t.fillColor=Object(n._25)(e.fillcolor,e.color,p.fillColor),t.fillAlpha=Object(n._25)(e.fillalpha,e.alpha,p.fillAlpha),t.fillRatio=Object(n._25)(e.fillratio,p.fillRatio),t.fillAngle=Object(n._25)(e.fillangle,p.fillAngle),t.borderThickness=Object(n._27)(e.borderthickness,p.borderThickness),t.borderColor=Object(n._25)(e.bordercolor,p.borderColor),t.borderAlpha=Object(n._25)(e.borderalpha,p.borderAlpha),t.labelPadding=e.labelpadding||p.labelPadding,t.options.tooltext=Object(n._25)(e.tooltext,p.tooltext),t.link=e.link,l&&(o.shapeObj=v[l.toLowerCase()])}}static getMarkerRadiusLimits(e,t,a,i){let n=ya(e,t);return i=parseFloat(i),a=parseFloat(a),isNaN(i)||isNaN(a)?isNaN(i)?isNaN(a)?{min:.02*n,max:.07*n}:{min:parseInt(a/10,10),max:a}:{min:i,max:10*i}:i<a?{min:i,max:a}:{min:a,max:i}}getDataLimits(){let e=this.config;return{min:e.min,max:e.max}}static _initializeMarkerItem(e,t,a){let i,o={},r=o.config;return r||(r=o.config={}),r.id=e,r.definition=t,r.application=a,r.hasValue=null,r.value=null,r.options=null,r.label=null,r.markerShape=null,r.markerLabel=null,r.drawOptions={shape:null,label:null},r.drawComplete=!1,i=o.config.options=Object(n.T)({},r.definition),r.dataEnabled?!isNaN(i.value)&&""!==i.value&&(o.value=parseFloat(i.value),o.hasValue=!0):r.applyAll?r.options=Object(n.T)(i,r.application):a&&(r.options=Object(n.T)(i,r.application)),o}configureConnectors(){let e,t,a,i,o,r,l,s,c,h,d,g,u,p,m=this,f=m.getFromEnv("chart"),b=f.jsonData,v=m.components,x=b.markers||{},y=x.connector||x.connectors||[],_=v.markerObjs,C=y.length,O=m.components.connectors,L=function(e){return function(t){let a=this,i=a.getElement();i&&a.unfilteredConfig.hoverEffect&&i.attr(a.unfilteredConfig._hoverAttrs),f.fireChartInstanceEvent("connectorrollover",e,t)}},w=function(e){return function(t){let a=this,i=a.getElement();i&&a.unfilteredConfig.hoverEffect&&i.attr(a.unfilteredConfig._defaultAttrs),f.fireChartInstanceEvent("connectorrollout",e,t)}},k=function(e){return function(t){f.fireChartInstanceEvent("connectorClick",e,t)}},j=f.config.connectorOpts,A={};for(O=m.components.connectors=[],p=0;p<C;p++)((u=y[p]).from||u.to)&&(t=_[u.from.toLowerCase()],a=_[u.to.toLowerCase()],t&&a)&&(i=y[p].label,(A=O[p])||(A=O[p]={}),A.config||(e=A.config={}),A.graphics||(A.graphics={}),(e=A.config=Object(n.T)({},u)).fromMarker=t,e.toMarker=a,e.link=u.link,e.showTooltip=Object(n._27)(u.showtooltip,j.showTooltip),o=e.tooltext=e.showTooltip?Object(n._25)(u.tooltext,j.tooltext):da,r=e.thickness=Object(n._25)(u.thickness,j.thickness),l=e.color=Object(n._25)(u.color,j.color),s=e.alpha=Object(n._25)(u.alpha,j.alpha),e.hoverEffect=Object(n._27)(u.showhovereffect,j.showHoverEffect),c=Object(n._25)(u.hovercolor,j.hoverColor,l),h=Object(n._25)(u.hoveralpha,j.hoverAlpha,s),d=Object(n._25)(u.hoverthickness,j.hoverThickness,r),e.dashed=Object(n._25)(u.dashed,j.dashed),e.dashLen=Object(n._27)(u.dashlen,j.dashlen),e.dashGap=Object(n._27)(u.dashgap,j.dashgap),o&&(e.tooltext=o=Object(n._23)(Object(n._22)(o,[3,40,41,42,43],{label:i,fromId:t.config.definition.id,toId:a.config.definition.id,fromLabel:t.config.definition.label,toLabel:a.config.definition.label},void 0))),e.eventArgs={fromMarkerId:t.config.id,toMarkerId:a.config.id,label:i},e._hoverAttrs={stroke:wa({color:c,alpha:h}).toString(),"stroke-width":d},e._defaultAttrs={stroke:wa({color:l,alpha:s}).toString(),"stroke-width":r},e.type="line",e.onclick=k(e.eventArgs),e.onmouseover=L(e.eventArgs),e.onmouseout=w(e.eventArgs),i&&(!(g=A.labelConfig)&&(g=A.labelConfig={}),g.type="text",g.text=i,g.align=ba,g.valign=fa,g.font=j.font,g.fillcolor=j.fontColor,g.bgcolor=j.labelBgColor,g.bordercolor=j.labelBorderColor,g.tooltext=e.tooltext))}draw(){let e,t,a,i,n,o,r,l=this,s=l.getFromEnv("chart"),c=l.config,h=s.getChildren("mapAnnotations")[0],d=l.components.markerObjs,g=s.config,u=g.markerOpts,p=g.scalingParams,m=s.config.annotationConfig,f=l.getFromEnv("toolTipController"),b=[],v=[],x={};for(i in this._drawConnectors(),l.imageLoadCount=0,l.imageCount=0,r=h.addGroup(Object.assign(m,{id:"markers",fillalpha:"100",items:b,scaleimages:1}),l),o=h.addGroup(Object.assign(m,{id:"markerLabels",items:v,scaleimages:1}),l),g.labelsOnTop&&s.getChildren("mapLabelAnnotations")&&s.getChildren("mapLabelAnnotations")[0].annotation.groups[0].store.element.toFront(),l.components.markerGroup=r,l.components.markerLabelGroup=o,c.autoScale=u.autoScale?p.sFactor:1,d)e=null,(a=(t=d[i]).config).conIsHidden||(e=this._drawMarkerItem.call(t)),e&&(a._annotationIndex=b.length,x[i]=t,t.markerShape=e.markerShape&&h.addItem(r.getId(),Object.assign({align:"center",valign:"middle",animationLabel:"markerItem"},e.markerShape),!0,l),(n=t.markerShape&&t.markerShape.getElement())&&f.enableToolTip(n,t.config.tooltext),b.push(t.markerShape),t.markerLabel=e.markerLabel&&h.addItem(o.getId(),Object.assign({animationLabel:"markerItem"},e.markerLabel),!0,l),v.push(t.markerLabel));l.addJob("buildKdtree",l._buildKdTree.bind(l),xt.b.kdTree)}_buildKdTree(){let e,t,a=this,i=a.components.kdArrayMap,n=a.components.markerGroup,o=[],r=n&&n.items,l=r&&r.length||0;for(t=0;t<l;t++)i[e=r[t].config.id]&&o.push(i[e]);a.components.kDTree||(a.components.kDTree=new la(!0)),a.components.kDTree._setSearchLimit(1/0,1/0),a.components.kDTree.buildKdTree(o)}_drawMarkerItem(){let e,t,a,i,o,r,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C=this,O=C.dataset,L=O.getFromEnv("chart"),w=L.config,k=O.config,j=w.scalingParams,A=C.config,F=A.options,S=A.definition,T=w.markerOpts,E=T.dataLabels.style,P=F.shapeid,D=F.scale||1,V=F.label||da,I=L.config.scalingParams.scaleFactor*L.config.baseScaleFactor,M=(F.labelpos||ga).toLowerCase(),R=A.formattedValue===sa?sa:A.formattedValue,B=F.tooltext||T.tooltext,N=Object(n._27)(S.radius,A.radius,T.radius)*D*k.autoScale||1e-4,G=A.fillColor,W=A.fillAlpha,H=A.fillRatio,z=A.fillAngle,Y=A.borderThickness,X=A.borderColor,Z=A.borderAlpha,K=O.components.kdArrayMap||(O.components.kdArrayMap={}),U=C.config.id;if(A.autoScale=T.autoScale?I:1,P)return B=B?Object(n._23)(Object(n._22)(B,[1,2,3],{formattedValue:R,label:V},F)):R?V+T.tooltipSepChar+R:V,R!==sa&&null!==R?V=V+T.labelSepChar+R:isNaN(D)?D=1:0>D?D=0:5<D&&(D=5),Object(n.T)(F,{x:F.x&&F.x.toString(),y:F.y&&F.y.toString(),fillcolor:G,fillalpha:W,fillratio:H,fillangle:z,borderthickness:Y,bordercolor:X,borderalpha:Z,hovereffect:Object(n._25)(T.showHoverEffect),radius:N&&N.toString(),link:F.link,showshadow:Object(n._27)(F.showshadow,A.shadow),_markerLabel:V,_markerId:F.id,id:(F.id+da).toLowerCase()}),delete F.tooltext,A.tooltext=!!T.showTooltip&&B,f=+F.x*j.sFactor+j.translateX,b=+F.y*j.sFactor+j.translateY,N=F.radius,"triangle"===P?(Object(n.T)(F,{type:"polygon",sides:3,startangle:T.startAngle}),_="polygon",y=3):"diamond"===P?(Object(n.T)(F,{type:"polygon",sides:4,startangle:T.startAngle}),_="polygon",y=4):"arc"===P?(x=N*va,Object(n.T)(F,{type:"arc",startangle:0,endangle:360,innerradius:x}),_="arc"):"circle"===P?(F.type="circle",_="circle"):(g=O.getShapeArgs.call(C),T.dataEnabled&&T.valueToRadius&&F.radius!==sa?delete g.radius:(!g.radius&&(g.radius=T.radius),g.radius*=D*A.autoScale),Object(n.T)(F,g),F.id=F._markerId&&F._markerId.toLowerCase(),x=g.innerradius,g.radius&&(N=g.radius),_=g.type&&g.type.toLowerCase(),y=g.sides||5,(N=+N)&&x&&N<x&&(m=N,F.radius=N=x,F.innerradius=x=m)),F.type=F.type&&F.type.toLowerCase(),Object(n.T)(F,{hoverfillcolor:Object(n._25)(F.fillhovercolor,T.hoverFillColor,F.fillcolor),hoverfillalpha:Object(n._25)(F.fillhoveralpha,T.hoverFillAlpha,F.fillalpha),hoverfillratio:Object(n._25)(F.fillhoverratio,T.hoverFillRatio,F.fillratio),hoverfillangle:Object(n._25)(F.fillhoverangle,T.hoverFillAngle,F.fillangle),hoverborderthickness:Object(n._27)(F.borderhoverthickness,T.hoverBorderThickness,F.borderthickness),hoverbordercolor:Object(n._25)(F.borderhovercolor,T.hoverBorderColor,F.bordercolor),hoverborderalpha:Object(n._25)(F.borderhoveralpha,T.hoverBorderAlpha,F.borderalpha)}),u={alpha:F.fillalpha,color:F.fillcolor,angle:360-F.fillangle,ratio:F.fillratio},p={alpha:F.hoverfillalpha,color:F.hoverfillcolor,angle:360-F.hoverfillangle,ratio:F.hoverfillratio},F._defaultattrs={fill:Object(n._38)(u),"stroke-width":"0"===F.showborder?0:F.borderthickness,stroke:Object(l.c)(F.bordercolor,F.borderalpha)},F._hoverattrs={fill:Object(n._38)(p),"stroke-width":"0"===F.showborder?0:F.hoverborderthickness,stroke:Object(l.c)(F.hoverbordercolor,F.hoverborderalpha)},"image"===F.type?(F.borderthickness=F.borderthickness||0,F.onload=function(e){let t=this.config,a=e.width,i=e.height,n={},o=(+t.x-a/(2*j.sFactor))*j.sFactor,r=(+t.y-i/(2*j.sFactor))*j.sFactor;(n=K[U]||(K[U]={})).x=o+j.translateX,n.y=r+j.translateY,n.element=C,n.shapeInfo={type:"rect",width:a,height:i},a&&i&&this.getElement().attr({x:o,y:r,width:a,height:i}),O.imageLoadCount++,O.imageLoadCount===O.imageCount&&O._buildKdTree()},F.onerror=function(){O.imageLoadCount++,O.imageLoadCount===O.imageCount&&O._buildKdTree()},O.imageCount++):((v=K[U]||(K[U]={})).x=f,v.y=b,v.element=C,v.shapeInfo={type:_,sides:y,radius:+N+F.borderthickness/2,innerradius:x}),A.drawOptions.shape=F,T.showLabels?(d=F.labelpadding||T.labelPadding,t=(e=O._getLabelOptions(M,d,F)).align,a=e.valign,i=A._labelBaseWidth,o=A._labelBaseHeight,r=A._labelXOffset,s=A._labelYOffset,c=T.labelWrapWidth?T.labelWrapWidth:O.getWrapWidth[t](i,+e.x+r),h=T.labelWrapHeight?T.labelWrapHeight:O.getWrapHeight[a](o,+e.y+s),c>d&&(c-=d),h>d&&(h-=d),A.drawOptions.label=Object(n.T)({type:"text"},{text:V,tooltext:F.tooltext,x:e.x,y:e.y,align:t,valign:e.valign,wrap:1,wrapwidth:c,wrapheight:h,fontsize:E.fontSize/j.sFactor,font:E.fontFamily,fillcolor:E.fontColor}),{markerShape:F,markerLabel:A.drawOptions.label}):{markerShape:F}}getHoverFn(){let e=this.getFromEnv("chart");return function(){let t,a,i=this.data("marker"),o=i.markerShape,r=o.unfilteredConfig,l=r._markerEventArgs,s=o.getElement(),c=s.getBBox(),h=i.config;s&&r.hovereffect&&("circle"===o.config.type&&(a={color:r.hoverfillcolor,alpha:r.hoverfillalpha,angle:360-r.hoverfillangle,ratio:r.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===o.config.rawFillPattern},r._hoverattrs.fill=Object(n._38)(a)),t=Object(n.T)({},r._hoverattrs),"image"===s.type&&(delete t.fill,delete t.stroke,delete t["stroke-width"]),s.attr(t)),l||(l=r._markerEventArgs={x:c.x,y:c.y,scaledX:c.x/o.groupConfig.scaleX,scaledY:c.y/o.groupConfig.scaleY,chartX:c.x+c.width/2,chartY:c.y+c.height/2,id:r.id,label:r.label}),Object(pt.e)(h.options.id,"markerRollOver",l,e.getFromEnv("chartInstance"),h,sa,sa,sa)}}getHoverOutFn(){let e=this.getFromEnv("chart");return function(){let t,a=this.data("marker"),i=a.markerShape,o=i.getElement(),r=a.config,l=i.unfilteredConfig;o&&i.unfilteredConfig.hovereffect&&("circle"===i.config.type&&(l._defaultattrs.fill=Object(n._38)({alpha:i.config.rawAlpha,color:i.config.rawColor,angle:360-i.config.rawAngle,ratio:i.config.rawRatio,radialGradient:"radial"===i.config.rawFillPattern})),t=Object(n.T)({},i.unfilteredConfig._defaultattrs),"image"===o.type&&(delete t.fill,delete t.stroke,delete t["stroke-width"]),o.attr(t)),Object(pt.e)(r.id,"markerRollOut",i.unfilteredConfig._markerEventArgs,e.getFromEnv("chartInstance"),sa,sa,sa)}}getClickFn(){let e=this;return function(t){let a=this.data("marker"),i=a.config.options,n=e.getFromEnv("chart"),o=a.markerShape,r=o.config,l=this.getBBox(),s=r._markerEventArgs;s||(s=r._markerEventArgs={x:l.x,y:l.y,scaledX:l.x/o.groupConfig.scaleX,scaledY:l.y/o.groupConfig.scaleY,chartX:l.x+l.width/2,chartY:l.y+l.height/2,id:i.id,label:i.label}),n.fireChartInstanceEvent("markerClick",s,t)}}highlightPoint(e){let t,a,i,n,o,r,l,s,c,h,d=e.element,g=this,u=g.getFromEnv("chart"),p=u.graphics,m=g.getFromEnv("animationManager"),f=p.trackerElems||(p.trackerElems={}),b=e.shapeInfo,v=g.getFromEnv("toolTipController"),x=e.x,y=e.y,_=u.config.lastHoveredPoint,C=!1;return!1===e?((a=f[t=_&&_.shapeInfo.type])&&a.hide(),void(u.config.lastHoveredPoint=null)):(i={fill:La,stroke:La},"circle"===(t=b.type)&&(t="polygon"),a=f[t],"polygon"===t?(n=b.sides||1,o=b.startAngle,l=b.radius,!a&&(C=!0),a=p.trackerElems[t]=m.setAnimation({el:p.trackerElems[t]||"polypath",container:a,attr:Object.assign({polypath:[n,x,y,l,o]},i),component:g,label:"markers"})):"rect"===t?(r=b.width,c=b.height,!a&&(C=!0),a=p.trackerElems[t]=m.setAnimation({el:p.trackerElems[t]||"rect",container:a,attr:Object.assign({x:x,y:y,width:r,height:c},i),component:g,label:"markers"})):"arc"===t&&(s=d.markerShape.config.innerRadius,o=(360-d.markerShape.config.startAngle)*Oa,h=(360-d.markerShape.config.endAngle)*Oa,l=b.radius,!a&&(C=!0),a=p.trackerElems[t]=m.setAnimation({el:p.trackerElems[t]||"ringpath",container:a,attr:Object.assign({ringpath:[x,y,l,s,h,o]},i),component:g,label:"markers"})),u.config.lastHoveredPoint=e,C&&a.click(g.getClickFn()).hover(g.getHoverFn(),g.getHoverOutFn()),a.show().data("marker",d),void v.enableToolTip(a,d.config.tooltext))}_drawConnectors(){let e,t,a,i,n,o,r,l,s=this,c=s.getFromEnv("chart"),h=c.config.annotationConfig,d=s.components.connectors||(s.components.connectors=[]),g=d.length,u=c.config.scalingParams,p=c.config.connectorOpts,m=p.showLabels,f=c.getChildren("mapAnnotations")[0],b=[],v=[],x=[];for(x.push({id:"connectorLabels",fillalpha:"100",items:v}),x.push({id:"connectors",fillalpha:"100",items:b}),f.addGroup(Object.assign(h,x[1]),s),f.addGroup(Object.assign(h,x[0]),s),t=0;t<g;t++)d[t]&&(r=d[t].config.fromMarker.config,l=d[t].config.toMarker.config,a=r.options.x,i=r.options.y,n=l.options.x,o=l.options.y,d[t].config.x=a,d[t].config.y=i,d[t].config.tox=n,d[t].config.toy=o,b.push(d[t].config),(e=f.addItem("connectors",Object.assign({animationLabel:"markerItem"},d[t].config),!0,s)).addEventListener("mouseover",d[t].config.onmouseover),e.addEventListener("mouseout",d[t].config.onmouseout),e.addEventListener("click",d[t].config.onclick),d[t].labelConfig&&m&&(d[t].labelConfig.x=((+a+ +n)/2).toString(),d[t].labelConfig.y=((+i+ +o)/2).toString(),d[t].labelConfig.fontsize=p.fontSize/(u.scaleFactor*c.config.baseScaleFactor),v.push(d[t].labelConfig),f.addItem("connectorLabels",Object.assign({animationLabel:"markerItem"},d[t].labelConfig),!0,s)))}getShapeArgs(){let e,t=this.config,a=Object(n.T)({},this.shapeObj);return t.autoScale=1,a?("polygon"===a.type?3>a.sides?a.type="circle":a.startangle=t.startAngle:"arc"===a.type&&(e=(a.radius||t.markerRadius)*t.autoScale,a.radius=e,a.innerradius=a.innerradius&&a.innerradius*t.autoScale||e*va),a):null}_getLabelOptions(e,t,a,i,n){let o,r,l,s=e&&e.toLowerCase();return this.getLabelAlignment[s]||(s="center"),r=+a.x,l=+a.y,o=+(o=i===sa||n===sa?a.radius||0:/^(top|bottom)$/gi.test(s)&&.5*n||/^(left|right)$/gi.test(s)&&.5*i||0)+ +t,this.getLabelAlignment[s](r,l,o)}addMarkerItem(e){let t,a,i,o,r,l,s=this,c=s.getFromEnv("chart"),h=e,d=s.components.markerObjs,g=s.components.shapeObjs,u=s.components.markerGroup,p=s.components.markerLabelGroup,m=c.getChildren("mapAnnotations")[0],f=s.getFromEnv("number-formatter"),b=c.config.markerOpts;if(l=h.id.toLowerCase()){if(d[l])return;delete h.value,s.imageLoadCount=0,(t=ja._initializeMarkerItem(l,h,null)).dataset=s,r=t.config.options.shapeid,i=t.config,o=h.value,i.cleanValue=f.getCleanValue(o),e=i.options,i.formattedValue=null===i.cleanValue?sa:f.dataLabels(o),i.fillColor=Object(n._25)(e.fillcolor,e.color,b.fillColor),i.fillAlpha=Object(n._25)(e.fillalpha,e.alpha,b.fillAlpha),i.fillRatio=Object(n._25)(e.fillratio,b.fillRatio),i.fillAngle=Object(n._25)(e.fillangle,b.fillAngle),i.borderThickness=Object(n._27)(e.borderthickness,b.borderThickness),i.borderColor=Object(n._25)(e.bordercolor,b.borderColor),i.borderAlpha=Object(n._25)(e.borderalpha,b.borderAlpha),i.labelPadding=e.labelpadding||b.labelPadding,i.options.tooltext=Object(n._25)(e.tooltext,b.tooltext),i.link=e.link,r&&(t.shapeObj=g[r&&r.toLowerCase()]),d[l]=t,a=s._drawMarkerItem.call(t),u&&p&&(t.markerShape=a.markerShape&&m.addItem(u.getId(),Object.assign({align:"center",valign:"middle",animationLabel:"markerItem"},a.markerShape),!0,s),t.markerLabel=a.markerLabel&&m.addItem(p.getId(),Object.assign({animationLabel:"markerItem"},a.markerLabel),!0,s)),s._buildKdTree()}}updateMarkerItem(e,t){let a,i,o,r,l=this,s=l.getFromEnv("chart"),c=s.getChildren("mapAnnotations")[0],h=l.components.markerObjs,d=s.config.markerOpts,g={},u=h[e];if(u){for(i in a=u.config.options,Object(n.T)(a,t),l.imageLoadCount=0,o=u.config,t)g[i.toLowerCase()]=t[i]&&t[i].toString();o.fillColor=Object(n._25)(g.fillcolor,g.color,d.fillColor),o.fillAlpha=Object(n._25)(g.fillalpha,g.alpha,d.fillAlpha),o.fillRatio=Object(n._25)(g.fillratio,d.fillRatio),o.fillAngle=Object(n._25)(g.fillangle,d.fillAngle),o.borderThickness=Object(n._27)(g.borderthickness,d.borderThickness),o.borderColor=Object(n._25)(g.bordercolor,d.borderColor),o.borderAlpha=Object(n._25)(g.borderalpha,d.borderAlpha),o.labelPadding=g.labelpadding||d.labelPadding,o.options.tooltext=Object(n._25)(g.tooltext,d.tooltext),o.link=g.link,r=l._drawMarkerItem.call(u).markerShape,l._buildKdTree(),c.update(e,r)}}_removeMarkerItem(e){let t,a,i=this.components,n=i.markerObjs,o=n[e],r=i.kdArrayMap;o&&(t=o.markerShape,a=o.markerLabel,t&&t.dispose(),a&&a.dispose(),delete r[e],this._buildKdTree()),delete n[e]}getElement(e){if(this.components.kDTree)return this.components.kDTree.getNeighbour(e)}}var Aa=ja;Object(x.a)({name:"mapsAnimation",type:"animationRule",extension:vt});var Fa=class extends r.a{getType(){return"group"}getName(){return"mapGroup"}configure(){this._mapChildren(e=>{e.configure&&e.configure()})}createContainer(){let e,t=this,a=t.getLinkedParent(),i=t.getFromEnv("animationManager");e=a.getChildContainer().plotGroup,t.getChildContainer("plotShadow")||t.addChildContainer("plotShadow",i.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:e,component:t,label:"group"})),t.getChildContainer("plot")||t.addChildContainer("plot",i.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:e,component:t,label:"group"}))}_transformGroup(){let e=this,t=this.getFromEnv("chart"),a=t.getFromEnv("chartInstance"),i=e.getFromEnv("animationManager"),o=t.jsonData,r=e.getChildContainer("plot"),l=e.getChildContainer("plotShadow"),s=t.config.scalingParams;r.hide(),l.hide(),t.config.entitiesReady=!1,a.addEventListener("internal.mapdrawingcomplete",function(t){t.detachHandler(),n._8&&(a.args.link&&a.args.clickedEntityBox&&o.chart.linkedcharttransition,r&&i.setAnimation({el:r,attr:{transform:s.transformStr},component:e,label:"group"}),l&&i.setAnimation({el:l,attr:{transform:s.transformStr},component:e,label:"group"})),r.show(),l.show()}),t.checkComplete()}draw(){this.createContainer(),this._transformGroup()}getDataLimits(e){let t,a=this,i=1/0,n=-1/0,o=0,r=function(e){n=Math.max(n,e.max),i=Math.min(i,e.min)};return a._mapChildren(a=>a.getState("removed")||!1===a.getState("visible")?void(e&&(t=a.getDataLimits(e),r(t))):(o++,t=a.getDataLimits(e),void r(t))),o?a.setState("visible",!0):a.setState("visible",!1),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:n,min:i}}},Sa=function(e){var t,a=e.getFromEnv("dataSource"),i=a.data||{},o=a.markers;Object(n.M)(e,Fa,"mapGroup"),t=e.getChildren("mapGroup")[0],Object(n.Q)(t,Zt,"entities",1,[i]),o?Object(n.Q)(t,Aa,"markers",1,[o]):e.getDatasets()[1]&&e.getDatasets()[1].remove()},Ta=a("pNBE");let Ea,Pa=function(e,t,a){let i=e[0],n=e[1],o=e[2],r=i+(t[0]-i)*a,l=n+(t[1]-n)*a,s=o+(t[2]-o)*a;return{hex:("#000000"+(r<<16|l<<8|s).toString(16)).slice(-6),rgb:[r,l,s]}};var Da=class extends r.a{constructor(){super();let e=this;e.mapByCategory=!1,e.colorArr=[],e.noValidRange=!0,e.sortLegend=!1}__setDefaultConfig(){super.__setDefaultConfig(),this.config.defaultObj={code:"CCCCCC",alpha:"100"}}getType(){return"colorComponent"}getName(){return"colorBucket"}configure(e){if(!e)return;let t,a,i,o,r,l,s,c,h,d,g,u=this,p=u.mapByCategory,m=e.numberFormatter,f=e.colorRange||{},b=Object(n.T)([],f.color),v=this.getLinkedParent(),x=u.getFromEnv("dataSource"),y=Math.min(Math.max(Object(n._27)(x.chart.palette,0)-1,0),4),_=v.defaultPaletteOptions&&v.defaultPaletteOptions.paletteColors[y],C=Object(n._27)(m.getCleanValue(f.maxvalue),1/0),O=Object(n._27)(m.getCleanValue(f.minvalue),-1/0),L=u.colorArr;if(e.mapByCategory!==Ea&&(p=u.mapByCategory=!!+e.mapByCategory),(b=p?b.filter(e=>e.code||e.color):b.filter(e=>e.minvalue||e.maxvalue)).forEach(e=>{e.minvalue&&e.maxvalue&&+e.maxvalue<+e.minvalue&&(c=e.maxvalue,e.maxvalue=e.minvalue,e.minvalue=c),e.minvalue?e.maxvalue?(d=m.getCleanValue(e.minvalue),h=m.getCleanValue(e.maxvalue),e.rangeLabel=m.dataLabels(d)+"-"+m.dataLabels(h)):(d=m.getCleanValue(e.minvalue),e.maxvalue=h=C,e.rangeLabel=h===1/0?">"+m.dataLabels(d):m.dataLabels(d)+"-"+m.dataLabels(h)):(e.minvalue=d=O,h=m.getCleanValue(e.maxvalue),e.rangeLabel=d===-1/0?"<"+m.dataLabels(h):m.dataLabels(d)+"-"+m.dataLabels(h))}),b.sort((e,t)=>+e.minvalue==+t.minvalue?e.maxvalue-t.maxvalue:e.minvalue-t.minvalue),b&&(t=b.length)){for(L.length=0,a=0;a<t;a+=1)s=b[a],i=Object(n._25)(s.color,s.code,_&&_[a]),o=Object(n._25)(s.alpha),l=Object(n._25)(s.bordercolor),r=Object(n._25)(s.borderalpha,100),h=Object(n._27)(s.maxvalue),d=Object(n._27)(s.minvalue),g=Object(n._25)(s.label,s.displayvalue,s.rangeLabel),(i&&h>=d||p&&g)&&L.push({code:i,alpha:o||"100",oriAlpha:o,maxvalue:h,minvalue:d,label:Object(n._23)(g),labelId:g.toLowerCase(),bordercolor:l,borderAlpha:r,name:s.name});u.sortedColorArr=u.colorArr.slice(0)}else u.noValidRange=!0,u.colorArr=[],u.sortedColorArr=[]}getColorObj(e){if(e===Ea)return{outOfRange:!0};let t,a=this,i=a.sortedColorArr,o=a.gradient?1:0,r=i[o];if(a.mapByCategory){for(e=Object(n._23)(e).toLowerCase()||e.toString().toLowerCase();r;){if(r.labelId===e||r.maxvalue>=e&&r.minvalue<=e)return{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,legendItemId:r.legendItemId};r=i[o+=1]}return{outOfRange:!0}}if(a.gradient){if(a.scaleMin<=e&&a.scaleMax>=e){for(;r&&r.maxvalue<e;)r=i[o+=1];return t=(e-r.minvalue)/r.range,{code:Pa(i[o-1].codeRGB,r.codeRGB,t).hex}}return{outOfRange:!0}}for(;r;){if(e<r.minvalue)return 0==o?{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,name:r.name,label:r.label,outOfRange:!0,bordercolor:r.bordercolor,borderalpha:r.borderAlpha}:{code:i[o-1].code,alpha:i[o-1].alpha||"100",oriAlpha:i[o-1].oriAlpha,seriesIndex:o,name:i[o-1].name,label:i[o-1].label,outOfRange:!0,bordercolor:i[o-1].bordercolor,borderalpha:i[o-1].borderAlpha};if(e>r.maxvalue&&o==i.length-1)return{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,name:r.name,label:r.label,outOfRange:!0,bordercolor:r.bordercolor,borderalpha:r.borderAlpha};if(r.maxvalue>=e&&r.minvalue<=e)return{code:r.code,alpha:r.alpha||"100",oriAlpha:r.oriAlpha,seriesIndex:o,name:r.name,label:r.label,bordercolor:r.bordercolor,borderalpha:r.borderAlpha};r=i[o+=1]}return i.length?void 0:{outOfRange:!0}}getColorRangeArr(e,t){var a,i,o,r,l,s,c,h,d=this.colorArr,g=[];if(!this.defaultAsigned&&(e>t&&(a=e,e=t,t=a),e<t&&(r=this.getColorObj(e),s=this.getColorObj(t),r&&s))){for(l=e,i=r.seriesIndex,o=s.seriesIndex;i<=o;i+=1)(c=Object(n.T)({},d[i])).minvalue!==l&&(c.minvalue=l),g.push(c),h=c,l=c.maxvalue;h&&(h.maxvalue=t)}return g}};let Va,Ia=",",Ma=(e,t,a)=>{var i,n,o=Math.round,r=e.value,s=e.code,c=Object(l.a)(s),h=t.value,d=t.code,g=Object(l.a)(d);return i=h-r,n=[o(c[0]+(g[0]-c[0])/i*(a-r)),o(c[1]+(g[1]-c[1])/i*(a-r)),o(c[2]+(g[2]-c[2])/i*(a-r))],Object(l.b)(n)};var Ra=class extends r.a{constructor(){super(),this.colorRange={},this.valueRatio={},this.data={},this.mapByPercent=void 0}getType(){return"colorComponent"}getName(){return"gradientColorRange"}configure(e){if(!e)return;let t,a,i,n=this;for(n.data=e,n.appender="",i=n.colorRange=e.colorRange.sort(function(e,t){return e.value-t.value}),n.valueRatio=Va,n.values=[],t=0,a=i.length;t<a;t++)n.values.push(i[t].value)}getValueRatio(){var e,t,a=this.colorRange,i=a.length,n=this.valueRatio,o=a[i-1].value,r=a[0].value,l=0;if(n)return n;for(n=this.valueRatio=[],e=0;e<i;e++)t=(a[e].value-r)/(o-r),n.push(100*(t-l)),l=t;return n}getCumulativeValueRatio(){var e,t,a=this.colorRange,i=a.length,n=a[0].value,o=a[i-1].value,r=[];for(t=0;t<i;t++)e=a[t],r.push((e.value-n)/(o-n)*100);return r}getBoxFill(e){var t,a,i,o,r=this.colorRange,l=r.length,s=[];for(o=e?90:0,a=0;a<l;a++)t=r[a],s.push(t.code);return i={FCcolor:{alpha:"100,100,100",angle:o,color:s.join(Ia),ratio:this.getValueRatio().join(Ia)}},Object(n._38)(i)}getColorByValue(e){var t,a,i,n,o=this.values,r=this.colorRange;if(e!==Va&&null!==e){for(a=0,t=o.length;a<t;a++){if(e===o[a]){n=r[a].code;break}if(!a&&e<o[a]){i=!0;break}if(a===t-1&&e>o[a]){i=!0;break}if(e>o[a]&&e<o[a+1]){n=Ma(r[a],r[a+1],e);break}}return i?void 0:n}}};function Ba(e){return Object(l.j)(e||Ga)||Ga}let Na="rgba(192,192,192,"+(n._14?.002:1e-6)+")",Ga="#000000",Wa=function(){var e,t={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return t.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(n._38)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},t.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:Na,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:Na,stroke:"#FFFFFF"}}},t.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(t){e=t.chart},legacyDataParser:function(t,a){var i,o,r,s,c,h,d,g,u,p,m,f,b=Math.max,v=Math.min,x={},y=e.getFromEnv("number-formatter"),_=e.getFromEnv("dataSource"),C=_.dataset,O=_.data;if(a=a||{},!t)return!1;for("maps"!==e.defaultDatasetType||void 0!==a.min&&void 0!==a.max?"HeatMap"===e.getName()&&(void 0===a.min||void 0===a.max)&&(a={min:1/0,max:-1/0},C.forEach(e=>{e.data&&e.data.forEach(e=>{a.min=v(a.min,Object(n._27)(e.value,a.min)),a.max=b(a.max,Object(n._27)(e.value,a.max))})})):(a={min:1/0,max:-1/0},O&&O.forEach(e=>{a.min=v(a.min,Object(n._27)(e.value,a.min)),a.max=b(a.max,Object(n._27)(e.value,a.min))})),x.mapByPercent=m=!!Object(n._27)(t.mapbypercent,0),i=t.color||[],void 0===t.minvalue&&(t.minvalue=void 0===a.min?0:m?0:a.min),void 0===t.maxvalue&&(t.maxvalue=void 0===a.max?100:m?100:a.max),(t.maxvalue===t.minvalue||a.min===1/0||a.max===-1/0)&&(t.minvalue=0,t.maxvalue=100),f=!1,c=0,d=i.length;c<d;c++)if(i[c].maxvalue){f=!0;break}for(f||(i=[]),r=t.code,g=x.colorRange=[],x.gradient=!!Object(n._27)(t.gradient,1),i.length?r=Ba(r):(r?(s=Ba(r),r=Ba()):s=function(e){return Object(l.h)(e,1)}(r=Ba()),i.push({code:s,maxvalue:t.maxvalue,label:void 0})),function(t){var a,i,n,o=e.getFromEnv("number-formatter");for(a=0,i=t.length;a<i;a++)(n=t[a].maxvalue)&&(t[a].maxvalue=o.getCleanValue(n))}(i),i=i.sort(function(e,t){return e.maxvalue-t.maxvalue}),u=p=t.minvalue&&y.getCleanValue(t.minvalue),p=(void 0!==u||null!==u)&&(m?u+"%":y.legendValue(u)),g.push({code:Object(n.R)(r),value:u,displayValue:p,label:t.startlabel}),c=0,d=i.length;c<d;c++)h=Ba((o=i[c]).code||o.color),u=p=o.maxvalue,!isNaN(parseInt(u,10))&&(p=(void 0!==u||null!==u)&&(m?u+"%":y.legendValue(u)),g.push({code:Object(n.R)(h),value:u,displayValue:p,label:o.label||o.displayvalue}));return g[g.length-1].label=t.endlabel||o.label,x},getDefaultConf:function(e){return t[e]}}}();var Ha=class extends r.a{constructor(){super(),this.datasource={},this.config.legendItemIds=[]}configure(){let e,t,a,i=this,o=this.getFromEnv("chart"),r="maps"===o.defaultDatasetType,l="TreeMap"===o.getName(),s=this.getFromEnv("dataSource").chart.mapbycategory,c=o.getFromEnv("number-formatter"),h=o.config.showLegend,d=o.getChildren("colorRange")&&o.getChildren("colorRange")[0];o.addToEnv("colorManager",i),i.datasource=o.getFromEnv("dataSource"),e=i.datasource.colorrange,d&&d.remove({instant:!0}),h||(i.config.legendItemIds=[]),"gradient"==(t=r?e.gradient&&+e.gradient?"gradient":e.color?"icon":"none":l?"gradient":e.gradient&&"0"!=e.gradient&&!+s?"gradient":"icon")?(Wa.init({chart:o}),a=Wa.legacyDataParser(e),Object(n.M)(o,Ra,"colorRange",1,[a]),d=o.getChildren("colorRange")[0],o.addToEnv("colorRange",d),a||(d._dontPlot=!0),i.config.legendItemIds=[],i._configureGradientLegend(d)):"icon"===t?(Object(n.M)(o,Da,"colorRange",1,[{colorRange:e,sortLegend:0,mapByCategory:Object(n._27)(s,0),defaultColor:"cccccc",numberFormatter:c}]),o.addToEnv("colorRange",o.getChildren("colorRange")[0]),h&&i._addLegendItems()):"none"===t&&(o.deleteFromEnv("colorManager"),i.config.legendItemIds=[])}_configureGradientLegend(e){let t=this,a=t.getFromEnv("chart").getFromEnv("gLegend");a&&(a.setColorRange(e),t.addExtEventListener("rangeUpdated",function(e,a){t.fireEvent("legendUpdate",{"original-event":e,maxMinArray:a,component:"gradientlegend"})},a))}_addLegendItems(){let e,t,a,i,o,r=this,s=r.config,c=r.getFromEnv("chart"),h=c.getChildren("legend")[0],d=c.getFromEnv("colorRange").colorArr,g=d.length;for(i=0;i<g;i++)o={label:Object(n._25)(d[i].label,d[i].displayvalue),datasetObj:d[i],index:i},t=Object(l.h)(d[i].code,40),e={FCcolor:{color:d[i].code+","+d[i].code+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}},(a=h.getItem(s.legendItemIds[i]))||(s.legendItemIds.push(h.createItem(r)),(a=h.getItem(s.legendItemIds[i])).addEventListener("click",a.itemClickFn)),a.removeLegendState("hidden"),d[i].legendItemId=a&&a.getId(),a.configure(o),a.setStateCosmetics("default",{symbol:{fill:Object(n._38)(e),rawFillColor:d[i].code}});for(i=g;i<s.legendItemIds.length;i++)h.disposeItem(s.legendItemIds[i]);s.legendItemIds.splice(g)}legendInteractivity(e){let t=this.getFromEnv("colorRange").colorArr[e.config.index];this.fireEvent("legendUpdate",{legendItem:e,colorObj:t,component:"legend"})}getColor(e){let t=this,a=t.datasource.colorrange;return!+t.datasource.chart.mapbycategory&&+a.gradient?{code:t.getColorByValue(e)}:t.getColorObj(e)}getValueRatio(){return this.getFromEnv("colorRange").getValueRatio()}getCumulativeValueRatio(){return this.getFromEnv("colorRange").getCumulativeValueRatio()}getBoxFill(e){return this.getFromEnv("colorRange").getBoxFill(e)}getColorByValue(e){return this.getFromEnv("colorRange").getColorByValue(e)}getColorObj(e){return this.getFromEnv("colorRange").getColorObj(e)}};var za=function(e){!function(e){let t=e.getChildren("colorManager");e.getFromEnv("dataSource").colorrange?t?(e.addToEnv("colorManager",t[0]),t[0].configure()):(t=new Ha,e.attachChild(t,"colorManager"),e.addToEnv("colorManager",t),t.configure()):(t&&(t[0].config.legendItemIds=[]),e.deleteFromEnv("colorManager"))}(e)};let Ya,Xa,Za,Ka,Ua={},qa="rgba(192,192,192,"+(n._14?.002:1e-6)+")",Ja=!1,$a=!0,Qa="%",ei=",",ti="#000000",ai={}.hasOwnProperty,ii="M",ni="L";function oi(e,t){return function e(t,a){var i,n;for(n in t)ai.call(t,n)&&(i=t[n],a[n]===Ya?a[n]=i:"object"==typeof i&&null!==i&&e(i,a[n]))}(e,t),t}function ri(e){return Object(l.j)(e||ti)||ti}function li(e){var t,a=e.fontSize+"";return a?(t=a.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function si(e){return!(e!==Ya&&void 0!==e&&null!==e&&!isNaN(e))}Ua.CAPTION="CAPTION",Ua.LEGEND_BODY="LEGEND_BODY",Ua.AXIS_LABEL="LEGEND_LABEL",Ua.LEGEND_AXIS="LEGEND_AXIS",Ua.RANGE="RANGE",Ua.AXIS_VALUE="AXIS_VALUE",Xa=function(){var e,t={legendCarpetConf:{spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},legendCaptionConf:{spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},legendBodyConf:{spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}}};return t.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:Object(n._38)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},t.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:qa,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:qa,stroke:"#FFFFFF"}}},t.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(t){e=t.chart},legacyDataParser:function(t,a){var i,o,r,s,c,h,d,g,u,p,m,f,b={},v=e.getFromEnv("number-formatter");if(!t)return!1;for(b.mapByPercent=m=!!Object(n._27)(t.mapbypercent,0),i=t.color||[],t.minvalue===Ya&&(t.minvalue=a.min===Ya?0:m?0:a.min),t.maxvalue===Ya&&(t.maxvalue=a.max===Ya?100:m?100:a.max),f=!1,c=0,d=i.length;c<d;c++)if(i[c].maxvalue){f=!0;break}for(f||(i=[]),r=t.code,g=b.colorRange=[],b.gradient=!!Object(n._27)(t.gradient,1),i.length?r=ri(r):(r?(s=ri(r),r=ri()):s=function(e){return Object(l.h)(e,1)}(r=ri()),i.push({code:s,maxvalue:t.maxvalue,label:Ya})),function(t){var a,i,n,o=e.getFromEnv("number-formatter");for(a=0,i=t.length;a<i;a++)(n=t[a].maxvalue)&&(t[a].maxvalue=o.getCleanValue(n))}(i),i=i.sort(function(e,t){return e.maxvalue-t.maxvalue}),u=p=t.minvalue&&v.getCleanValue(t.minvalue),p=(u!==Ya||null!==u)&&(m?u+Qa:v.legendValue(u)),g.push({code:Object(n.R)(r),value:u,displayValue:p,label:t.startlabel}),c=0,d=i.length;c<d;c++)h=ri((o=i[c]).code||o.color),u=p=o.maxvalue,!isNaN(parseInt(u,10))&&(p=(u!==Ya||null!==u)&&(m?u+Qa:v.legendValue(u)),g.push({code:Object(n.R)(h),value:u,displayValue:p,label:o.label||o.displayvalue}));return g[g.length-1].label=t.endlabel||o.label,b},getDefaultConf:function(e){return t[e]}}}();class ci{constructor(e){this.carpet=e}draw(e){return this.carpet.draw(e)}getLogicalSpace(e,t){return this.carpet.getLogicalSpace(e,t)}dispose(){this.carpet&&this.carpet.group&&this.carpet.group.remove()}}class hi{constructor(e){this.conf=e,this._id="GL_CARPET",this.compositionsByCategory={},this.node=Ya,this.group=Ya,this._lSpace=Ya,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}configure(e){this.conf=e}getName(){return"LegendCarpet"}getType(){return"legend"}addCompositions(e,t){this.compositionsByCategory[t]=e}removeCompositions(e){delete this.compositionsByCategory[e]}getBoundingBox(e){var t,a,i=this.conf,n=i.spreadFactor,o=e.refSide,r=e.alignment,l=e.refOffset,s=e.x,c=e.y;return"bottom"===this.conf.legendPosition?(t=i.width=o*n,a=e.maxOtherSide,r&&(s===Ya||null===s)&&(s=(l+o)/2-t/2)):(a=i.height=o*n,t=e.maxOtherSide,r&&(c===Ya||null===c)&&(c=(l+o)/2-a/2)),{width:t,height:a,x:s,y:c}}getPostCalcDecisionsH(e,t){var a,i=this.conf.padding,n=0;for(a in this.moveInstructions={},t)n+=t[a].height||0;e.height=n+2*i.v}getLogicalSpace(e,t){var a,i,n,o,r,l=this._lSpace,s=["CAPTION","LEGEND_BODY"],c=this.conf.padding,h=this.compositionsByCategory,d=0,g={},u=0;if(l&&!t)return l.isImpure=!0,l;(si((l=this._lSpace=i=this.getBoundingBox(e)).x)||si(l.y)||si(l.height)||si(l.width))&&(this.autoRecalculate=!0),(n=oi(i,{})).height-=2*c.v,n.width-=2*c.h,n.x+=c.h,n.y+=c.v;for(let i=0;i<s.length;i++)(a=h[s[i]])&&((r=oi(n,{})).y+=d,d=n.height*a.conf.spreadFactor,r.height=d+u,o=a.getLogicalSpace(oi(r,{}),e,t),u=r.height-o.height,g[s[i]]=o,d=o.height);return this.getPostCalcDecisions(i,g),this._lSpace=i,i}setupDragging(){var e=this.group,t=0,a=0,i=0,o=0;e.css({cursor:"move"}),e.drag(function(n,r){t=n,a=r,e.attr({transform:"t"+(i+t)+","+(o+a)})},function(){i+=t,o+=a},n._36)}draw(e){var t,a,i,n=this.conf,o=["CAPTION","LEGEND_BODY"],r=this.compositionsByCategory,l=e.animationManager,s=e.parentGroup;this.getLogicalSpace(e,this.autoRecalculate),i=this._lSpace,this.group=t=l.setAnimation({el:this.group||"group",attr:{name:this.groupName},component:Ka,container:s,label:"carpetGroup"}),this.node=l.setAnimation({el:this.node||"rect",attr:i,css:n.style,component:Ka,container:t,label:"rect"});for(let s=0;s<o.length;s++)(a=r[o[s]])&&a.draw(n.captionAlignment,i,{animationManager:l,colorRange:e.colorRange,numberFormatter:e.numberFormatter,parentLayer:t,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[void 0],gLegend:e.gLegend});return n.allowDrag&&this.setupDragging(),this.node}getPostCalcDecisions(e,t){return"bottom"===this.conf.legendPosition?this.getPostCalcDecisionsH(e,t):this.getPostCalcDecisionsV(e,t)}getPostCalcDecisionsV(e,t){var a,i,n,o=this.conf.padding,r=Number.NEGATIVE_INFINITY,l=this.moveInstructions;for(i in this.getPostCalcDecisionsH(e,t),t)r=r<(a=t[i].width)?a:r;for(i in e.width=r+2*o.h,t)(n=r-(a=t[i].width))&&(l[i]="t"+n/2+",0")}}class di{constructor(e,t){this.rawText=e,this.conf=t,this._id="GL_CAPTION",this.node=Ya,this.bound=Ya,this._lSpace=Ya,this.LegendCaption={},this.LegendCaption.LEFT={x:function(e,t){return t.x+e.width/2+2}},this.LegendCaption.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},this.LegendCaption.CENTER={x:function(){let e=arguments[1];return e.x+e.width/2}}}configure(e,t){this.rawText=e,this.conf=t}getName(){return"LegendCaption"}getType(){return"caption"}getLogicalSpace(e,t,a){var i,n,o,r,l=this.conf.padding,s=this._lSpace,c=this.rawText,h=t.gLegend.getFromEnv("chartConfig");return s&&!a?(s.isImpure=!0,s):(s=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ya,smartText:Ya}},i=t.smartLabel,c?((n=oi(e,{})).height-=2*l.v,n.width-=2*l.h,n.x+=l.h,n.y+=l.v,i.useEllipsesOnOverflow(h.useEllipsesWhenOverflow),li(r=oi(this.conf.style,{})),i.setStyle(this._metaStyle=r),o=i.getSmartText(c,n.width,n.height),n.height=o.height,n.width=o.width,e.height=o.height+2*l.v,e.width=o.width+2*l.h,s.node.smartText=o,s.node.logicArea=n,s.bound=e,e):s.bound)}draw(){var e,t,a,i,n,o,r,l,s,c,h,d=this.conf,g=d.bound||{};return 3<=arguments.length?(r=arguments[0],l=arguments[1],s=arguments[2]):2<=arguments.length&&(r=arguments[0],s=arguments[1]),e=s.parentLayer,h=s.animationManager,this.group=t=h.setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:d.style,component:Ka,container:e}),this.getLogicalSpace(l,s),c=(n=this._lSpace).node,i=n.bound,this.bound=a=h.setAnimation({el:this.bound||"rect",attr:i,css:g.style,container:t,component:Ka}),o="string"==typeof r?this.LegendCaption[r.toUpperCase()].x(c.smartText,l||c.logicArea):r,this.node=h.setAnimation({el:this.node||"text",attr:{text:c.smartText.text,x:o,y:c.logicArea.y+c.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:d.style.fill},container:t,component:Ka}),{group:t,bound:a,node:this.node}}dispose(){this.group.remove(),this.bound.remove(),this.node.remove()}}class gi{constructor(e,t,a){this.colorRange=e,this.conf=t,this.childTextConf=a,this._id="GL_BODY",this.bound=Ya,this.group=Ya,this.compositionsByCategory={},this._lSpace=Ya,this.SC_STACK=[Ua.AXIS_LABEL,Ua.LEGEND_AXIS,Ua.AXIS_VALUE],this.DARW_STACK=[Ua.AXIS_VALUE,Ua.LEGEND_AXIS,Ua.AXIS_LABEL]}configure(e,t,a){this.colorRange=e,this.conf=t,this.childTextConf=a,this.compositionsByCategory={}}getName(){return"LegendBody"}getType(){return"legend"}addCompositions(e,t){this.compositionsByCategory[t]=e}getSpaceTaken(e){return"bottom"===this.conf.legendPosition?e.height:e.width}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,h=this._lSpace,d=this.conf.padding,g=this.compositionsByCategory,u=0;if(h&&!a)return h.isImpure=!0,h;for(h=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ya}},(r=oi(e,{})).height-=2*d.v,r.width-=2*d.h,r.x+=d.h,r.y+=d.v,l=this.getCompositionPlotAreaFor(r),t.colorRange=this.colorRange,s=0,c=this.SC_STACK.length;s<c;s++)(i=g[this.SC_STACK[s]])&&(n=l(o,i.conf.spreadFactor),o=i.getLogicalSpace(oi(n,{}),t,a),u+=this.getSpaceTaken(o));return this.updateEffectivePlotArea(e,r,u),h.node.logicArea=r,h.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,h=this.childTextConf,d=this.conf.bound.style||{},g=this.compositionsByCategory;for(3<=arguments.length?(o=arguments[1],l=arguments[2]):2<=arguments.length&&(l=arguments[1]),t=l.parentLayer,e=l.animationManager,this.getLogicalSpace(o,l),r=this._lSpace,this.group=n=e.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:h.style,container:t,component:Ka}),this.bound=a=e.setAnimation({el:this.bound||"rect",attr:r.bound,css:d,container:n,component:Ka}),l.colorRange=this.colorRange,l.parentLayer=n,s=0,c=this.DARW_STACK.length;s<c;s++)(i=g[this.DARW_STACK[s]])&&i.draw(l);return l.moveInstructions&&n.attr({transform:l.moveInstructions}),{bound:a,group:n}}getCompositionPlotAreaFor(e){var t,a="bottom"===this.conf.legendPosition;return t=oi(e,{}),function(i,n){return i=i||{},a?(t.y+=i.height||0,t.height=e.height*n):(t.x+=i.width||0,t.width=e.width*n),t}}updateEffectivePlotArea(e,t,a){var i=this.conf.padding;"bottom"===this.conf.legendPosition?(t.height=a,e.height=a+2*i.v):(t.width=a,e.width=a+2*i.h)}}class ui{constructor(e){this.conf=e,this.node=[],this._id="GL_LABELS"}configure(e){this.conf=e}getType(){return"label"}getName(){return"LegendLabel"}getEffectivePlotArea(e){var t=this.conf.padding;return e.height-=2*t.v,e.width-=2*t.h,e.x+=t.h,e.y+=t.v,e}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C,O,L,w,k=Math.max,j="bottom"===this.conf.legendPosition,A=this._lSpace,F=this.conf,S=F.padding,T=[],E=t.gLegend.getFromEnv("chartConfig"),P=[];if(A&&!a)return A.isImpure=!0,A;for(i=t.colorRange,n=t.smartLabel,g=i.getCumulativeValueRatio(),o=i.colorRange,m=(A=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ya,smartTexts:[]}}).node.smartTexts,h=oi(e,{}),b=this.getEffectivePlotArea(h),w=j?b.width:b.height,n.useEllipsesOnOverflow(E.useEllipsesWhenOverflow),L=oi(F.style,{}),li(this._metaStyle=L),n.setStyle(L),v=n.getSmartText("W"),r=0,l=o.length;r<l;r++)(d=o[r].label)?P.push({oriIndex:r,label:d}):m[r]=Ya;if(0===(l=P.length))return{height:0,width:0};for(p=u=1<l?(g[P[l-1].oriIndex]-g[P[0].oriIndex])/2*w/100:k(g[P[0].oriIndex],100-g[P[0].oriIndex])/2*w/100,j?((C=n.getSmartText(P[0].label,p,b.height)).x=g[P[0].oriIndex]*b.width/100,s=C.x+C.width):((C=n.getSmartText(P[0].label,p,b.width)).y=g[P[0].oriIndex]*b.height/100,s=C.y+C.width),T.push(C.height),m[P[0].oriIndex]=C,j?((C=n.getSmartText(P[l-1].label,p,b.height)).x=g[P[l-1].oriIndex]*b.width/100,c=C.x-C.width):((C=n.getSmartText(P[l-1].label,p,b.width)).y=g[P[l-1].oriIndex]*b.height/100,c=C.y-C.width),T.push(C.height),m[P[l-1].oriIndex]=C,_=s,r=1;r<l-1;r++)d=P[r].label,O=P[r].oriIndex,C=Ya,x=r+1===l-1?c:g[P[r+1].oriIndex]*w/100,y=g[P[r].oriIndex]*w/100,(u=Math.min(y-_,x-y))>2*v.width&&(j?(C=n.getSmartText(d,u,b.height)).x=g[O]*b.width/100:(C=n.getSmartText(d,u,b.width)).y=g[O]*b.height/100,_=u,T.push(C.height)),m[P[r].oriIndex]=C;return f=k.apply(Math,T),j?(b.height=f,e.height=f+2*S.v):(b.width=f,e.width=f+2*S.v),A.node.logicArea=b,A.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,h,d,g="bottom"===this.conf.legendPosition,u=this.conf,p=u.bound&&u.bound.style||{stroke:"none"},m={};2<=arguments.length&&arguments[1]?(i=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),d=r.animationManager,e=r.parentLayer,this.getLogicalSpace(i,r),s=(o=this._lSpace).node.logicArea,c=o.node.smartTexts,this.group=a=d.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:e,component:Ka}),this.bound=t=d.setAnimation({el:this.bound||"rect",attr:o.bound,css:p,container:a,component:Ka});for(let e=0;e<this.node.length;e++)this.node[e].remove();for(this.node=[],l=0,h=c.length;l<h;l++)(n=c[l])&&(g?(m.y=s.y+n.height/2,m.x=l===h-1?s.x+n.x-n.width/2:l?s.x+n.x:s.x+n.x+n.width/2):(m.x=s.x+n.height/2,m.y=l===h-1?s.y+n.y-n.width/2:l?s.y+n.y:s.y+n.y+n.width/2),this.node.push(d.setAnimation({el:"text",attr:{text:n.text,x:m.x,y:m.y,lineHeight:this._metaStyle.lineHeight,fill:u.style.fill,transform:g?"R0":"R270,"+m.x+","+m.y},container:a,component:Ka})));return{group:a,bound:t,node:this.node}}}class pi{constructor(e){this.conf=e,this._id="FL_AXIS",this.node=Ya,this.group=Ya,this.shadow=Ya,this.markerLine=Ya,this.compositionsByCategory={}}configure(e){this.conf=e}getName(){return"LegendAxis"}getType(){return"axis"}addCompositions(e,t){this.compositionsByCategory[t]=e}getLogicalSpace(){var e,t,a,i,n,o,r="bottom"===this.conf.legendPosition,l=arguments[0],s=arguments[2],c=this._lSpace,h=this.conf,d=h.padding,g=h.legendAxisHeight,u=this.compositionsByCategory,p=0;return c&&!s?(c.isImpure=!0,c):(c=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ya}},(n=oi(l,{})).height-=2*d.v,n.width-=2*d.h,n.x+=d.h,n.y+=d.v,e=g/2+h.line.offset,t=g/2,(i=u[Ua.RANGE])&&(o=i.sliders.false.conf.outerCircle.rFactor*g,t+=p=Math.max(o/2-g/2,0)),r?(n.y+=p,n.height=a=t+e+p,l.height=a+2*d.v):(n.x+=p,n.width=a=t+e+p,l.width=a+2*d.v),c.node.logicArea=n,c.bound=l,l)}getDrawableAxisArea(e){var t=this.conf,a="bottom"===this.conf.legendPosition;return{x:e.x,y:e.y,width:a?e.width:t.legendAxisHeight,height:a?t.legendAxisHeight:e.height,r:t.legendAxisHeight/2}}preDrawingRangeParamV(e){return{x:e.x+e.width/2,calculationBase:e.width,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}}preDrawingRangeParamH(e){return{y:e.y+e.height/2,calculationBase:e.height,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}}preDrawingRangeParam(e){return"bottom"===this.conf.legendPosition?this.preDrawingRangeParamH(e):this.preDrawingRangeParamV(e)}getScaleMarkerPathStrH(e,t){var a,i,n,o,r,l=oi(e,{}),s=this.conf.line,c="",h="";for(l.x+=l.r,l.width-=2*l.r,r=l.y+l.height,a=0,i=t.length;a<i;a++)n=t[a],o=l.x+n*l.width/100,c+=ii+o+ei+(r-s.grooveLength)+ni+o+ei+(r+s.offset);return c+(h+=ii+l.x+ei+(r+s.offset)+ni+(l.x+l.width)+ei+(r+s.offset))}getColorGradientH(e){return{axis:e.getBoxFill(),shadow:Object(n._38)({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}draw(){var e,t,a,i,n,o,r,l,s,c,h,d,g,u,p=this.conf,m=p.bound||{},f=p.line,b=m.style||{},v=this.compositionsByCategory;for(a in 2<=arguments.length?(t=arguments[0],d=arguments[1]):1<=arguments.length&&(d=arguments[0]),g=d.animationManager,e=d.parentLayer,n=(i=d.colorRange).getCumulativeValueRatio(),this.getLogicalSpace(t,d),h=this._lSpace,this.group=r=g.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:e,component:Ka}),this.bound=g.setAnimation({el:this.bound||"rect",attr:h.bound,css:b,component:Ka,container:r}),c=this.getDrawableAxisArea(h.node.logicArea),s=this.getColorGradient(i),p.style.fill=s.axis,p.shadow.style.fill=s.shadow,this.node=g.setAnimation({el:this.node||"rect",attr:c,css:p.style,container:r,component:Ka}),this.shadow=g.setAnimation({el:this.shadow||"rect",attr:c,css:p.shadow.style,container:r,component:Ka}),u=this.getScaleMarkerPathStr(c,n),this.path=g.setAnimation({el:this.path||"path",attr:{path:u},css:f.style,container:r,component:Ka}),v)o=v[a],a===Ua.RANGE&&(d[(l=this.preDrawingRangeParam(c)).prop]=l[l.prop],d.key=l.prop,d.rCalcBase=l.calculationBase,d.parentLayer=r,o.draw(l.rangeStart,l.rangeEnd,d))}getScaleMarkerPathStr(e,t){return"bottom"===this.conf.legendPosition?this.getScaleMarkerPathStrH(e,t):this.getScaleMarkerPathStrV(e,t)}getColorGradient(e){return"bottom"===this.conf.legendPosition?this.getColorGradientH(e):this.getColorGradientV(e)}getScaleMarkerPathStrV(e,t){var a,i,n,o,r,l=oi(e,{}),s=this.conf.line,c="",h="";for(l.y+=l.r,l.height-=2*l.r,o=l.x+l.width,a=0,n=t.length;a<n;a++)i=t[a],r=l.y+i*l.height/100,c+=ii+(o-s.grooveLength)+ei+r+ni+(o+s.offset)+ei+r;return c+(h+=ii+(o+s.offset)+ei+l.y+ni+(o+s.offset)+ei+(l.y+l.height))}getColorGradientV(e){return{axis:e.getBoxFill(!0),shadow:Object(n._38)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}}}class mi{constructor(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.node=Ya,this.tracker=Ya,this.currPos=0,this.swing=[]}configure(e,t,a){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=a,this.currPos=0,this.swing=[]}getType(){return"slider"}getName(){return"Slider"}updateSwingRange(e,t){this.swing[+e]=t}draw(e,t,a,i){var n,o,r,l,s,c,h=Math.ceil,d=i.parentLayer,g=i.animationManager,u=this.conf,p=u.outerCircle,m=u.innerCircle,f=h(p.rFactor*i.rCalcBase/2),b=h(m.rFactor*i.rCalcBase/2),v=f-b,x=this.sliderIndex;return u.outerRadius=f,u.innerRadius=b,this._scaleVal=t,m.style["stroke-width"]=v,b+=r=h(p.style["stroke-width"]/2),n=this.node=g.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:d,component:Ka}),"x"===i.key?(l=a,s=e,s+=x?-b:+b):(l=e,s=a,l+=x?-b:+b),this.oCircle=g.setAnimation({el:this.oCircle||"circle",attr:{cx:l,cy:s,r:f},css:p.style,container:n,component:Ka}),this.iCircle=g.setAnimation({el:this.iCircle||"circle",attr:{cx:l,cy:s,r:b},css:m.style,container:n,component:Ka}),c=this.tracker=g.setAnimation({el:this.tracker||"circle",attr:{cx:l,cy:s,r:f+5,fill:qa,stroke:qa,cursor:"pointer"},container:n,component:Ka}),n.attr({transform:"x"===i.key?"t0,"+this.currPos:"t"+this.currPos+",0"}),Za.enableToolTip(c,t),this._dragAPI=o=this.getDragAPI("x"===i.key),c.undrag(),c.drag(o.dragging,o.dragStart,o.dragEnd),{translateAscending:f+r}}getDragAPI(e){var t,a,i,n,o=this,r=o.node,l=o.sliderIndex,s=o.rangeGroup,c=o.conf.innerRadius;return{dragging:function(h){var d,g,u,p,m;return h.stopPropagation(),h.preventDefault(),u=e?h.data[1]:h.data[0],l?(d=t[0]-t[1]+c,g=0):(d=0,g=t[1]-t[0]-c),(m=o.currPos+u)<d?u+=d-m:m>g&&(u-=m-g),r.attr({transform:e?"t0,"+(o.currPos+u):"t"+(o.currPos+u)+",0"}),a=u,i&&clearTimeout(i),i=setTimeout(function(){s.updateWhenInRest(o,o.currPos+u)},100),p=s.updateWhenInMove(o,o.currPos+u),o.tracker.data("__FC_tooltipText",p),n=!0,!0},dragStart:function(e){e.stopPropagation(),e.preventDefault(),t=o.swing,n=!1,s.dragStarted(o)},dragEnd:function(){var e;s.dragCompleted(o,n,o.currPos+a),n&&(i&&clearTimeout(i),i=setTimeout(function(){s.updateWhenInRest(o,o.currPos)},100),o.currPos+=a,e=t[+l]+o.currPos,s.updateRange(o,e))}}}dispose(){this.node.remove(),this.oCircle.remove(),this.iCircle.remove(),this.tracker.remove()}}class fi{constructor(e){var t={};this._id="GL_SG1",this.conf=e,t.conf=e,this.extremes=[],this.sliders={},this.min=void 0,this.max=void 0,t.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[Ja]=new mi(Ja,t,this._id+"_0"),this.sliders[$a]=new mi($a,t,this._id+"_1")}configure(e){var t={};this.min=void 0,this.max=void 0,this.conf=e,t.conf=e,t.sliderGroup=this,this.sliders[Ja].configure(Ja,t,this._id+"_0"),this.sliders[$a].configure($a,t,this._id+"_1")}getType(){return"slider"}getName(){return"SliderGroup"}initRange(e,t){var a=e.sliderIndex;this.extremes[+a]=t}updateRange(e,t){var a=e.sliderIndex;this.sliders[!a].updateSwingRange(a,t)}reset(){var e={};e.conf=this.conf,e.sliderGroup=this,this.min=void 0,this.max=void 0,this.sliders[Ja].configure(Ja,e,this._id+"_0"),this.sliders[$a].configure($a,e,this._id+"_1"),this.draw.apply(this,this._drawParams)}draw(e,t,a){var i,n,o,r,l,s=Math.ceil,c=this.sliders,h=c[!1],d=c[!0],g=a.colorRange,u=g.colorRange,p=g.data.mapByPercent,m=a.gLegend.getFromEnv("number-formatter");return this._fcChart=a.gLegend.getFromEnv("chart"),this.getValueFormPixel=function(e,t,a,i){this.getValueFormPixel=function(n){return e+(t-e)/(i-a)*n}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(a,i){var n,o,r=this.extremes;return n=a.sliderIndex?r[1]-r[0]+i:i,o=this.getValueFormPixel(n),o=t?parseFloat(o).toFixed(2)+Qa:e.legendValue(o)}},this._drawParams=[e,t,a],this.updateWhenInMove(m,p),n=h.conf.outerCircle,o=s(h.conf.innerCircle.rFactor*a.rCalcBase/2),o+=s(n.style["stroke-width"]/2),this.extremes[0]=e+o,this.extremes[1]=t-o,r=this.extremes[1]-this.extremes[0],this.min=this.min?this.min:u[0].value,this.max=this.max?this.max:u[u.length-1].value,l=u[u.length-1].value-u[0].value,h.currPos=r*(this.min-u[0].value)/l,d.currPos=r*(this.max-u[0].value)/l-r,h.draw(e,p?m.legendPercentValue(this.min):m.legendValue(this.min),a[a.key],a),i=d.draw(t,p?m.legendPercentValue(this.max):m.legendValue(this.max),a[a.key],a),h.swing=this.extremes.slice(0),d.swing=this.extremes.slice(0),h.swing[1]+=d.currPos,d.swing[0]+=h.currPos,this.getValueFormPixel(u[0].value,u[u.length-1].value,this.extremes[0],this.extremes[1]),i}updateWhenInRest(e,t){var a,i,n=this.sliders,o=this.extremes,r=e.sliderIndex;r?(a=n[!r].currPos,i=o[1]-o[0]+t):(a=t,i=o[1]-o[0]+n[!r].currPos),this.min=+this.getValueFormPixel(a).toFixed(2),this.max=+this.getValueFormPixel(i).toFixed(2),this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])}dragStarted(e){var t=this.sliders,a=this.extremes,i=e.conf,n=this._fcChart;n.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t.false.currPos)},{value:this.getValueFormPixel(a[1]-a[0]+t.true.currPos)}],legendPointerHeight:i.outerRadius,legendPointerWidth:i.innerRadius,outerRadius:i.outerRadius,innerRadius:i.innerRadius},[n.id])}dragCompleted(e,t,a){var i,n,o=this.sliders,r=this.extremes,l=e.conf,s=this.getValueFormPixel(o.false.currPos),c=this.getValueFormPixel(r[1]-r[0]+o.true.currPos),h=this._fcChart;e.sliderIndex?(i=s,n=this.getValueFormPixel(r[1]-r[0]+a)):(i=this.getValueFormPixel(a),n=c),t&&h.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:c,minValue:i,maxValue:n},[h.id]),h.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:i},{value:n}],legendPointerHeight:l.outerRadius,legendPointerWidth:l.innerRadius,outerRadius:l.outerRadius,innerRadius:l.innerRadius},[h.id])}dispose(){this.sliders[Ja].dispose(),this.sliders[$a].dispose()}}class bi extends ui{constructor(){super(arguments[0]),this._id="GL_VALUES",this.node=[]}configure(e){this.conf=e}getName(){return"LegendValues"}getType(){return"legend"}getLogicalSpace(e,t,a){var i,n,o,r,l,s,c,h,d,g,u,p,m,f,b,v,x,y,_,C,O,L,w,k,j,A=Math.min,F=Math.max,S="bottom"===this.conf.legendPosition,T=this._lSpace,E=this.conf,P=E.padding,D=t.gLegend.getFromEnv("chartConfig"),V=[],I=[];if(T&&!a)return T.isImpure=!0,T;for(i=t.colorRange,n=t.smartLabel,o=i.colorRange,c=i.getCumulativeValueRatio(),j=(T=this._lSpace={bound:{height:0,width:0},node:{logicArea:Ya,smartTexts:[]}}).node.smartTexts,(C=oi(e,{})).height-=2*P.v,C.width-=2*P.h,C.x+=P.h,C.y+=P.v,n.useEllipsesOnOverflow(D.useEllipsesWhenOverflow),k=oi(E.style,{}),li(this._metaStyle=k),n.setStyle(k),w=n.getSmartText("W"),s=o.length,S?(u=h=(c[s-1]-c[0])/2*C.width/100,L=o[0].displayValue,(r=n.getSmartText("string"!=typeof L&&L!==Ya&&L.toString()||L,u,C.height)).x=c[0]*C.width/100,p=r.x+r.width,V.push(r.height)):(u=h=(c[s-1]-c[0])/2*C.height/100,(r=n.getSmartText(o[0].displayValue,C.width,u)).y=c[0]*C.height/100,b=r.y+r.width,I.push(r.width)),j[0]=r,S?((r=n.getSmartText(o[s-1].displayValue,u,C.height)).x=c[s-1]*C.width/100,f=r.x-r.width,V.push(r.height),m=p):((r=n.getSmartText(o[s-1].displayValue,C.width,u)).y=c[s-1]*C.height/100,x=r.y-r.height,I.push(r.width),v=b),j[s-1]=r,l=1;l<s-1;l++)r=Ya,O=o[l].displayValue,S?(d=l+1===s-1?f:c[l+1]*C.width/100,(h=A((g=c[l]*C.width/100)-m,d-g))>1.5*w.width&&((r=n.getSmartText(O,2*h,C.height)).x=c[l]*C.width/100,m=h,V.push(r.height))):(d=l+1===s-1?x:c[l+1]*C.height/100,(h=A((g=c[l]*C.height/100)-v,d-g))>2*w.height&&((r=n.getSmartText(O,C.width,2*h)).y=c[l]*C.height/100,v=h,I.push(r.width))),j[l]=r;return S?(y=F.apply(Math,V),C.height=y,e.height=y+2*P.v):(_=F.apply(Math,I),C.width=_,e.width=_+2*P.h),T.node.logicArea=C,T.bound=e,e}draw(){var e,t,a,i,n,o,r,l,s,c,h,d,g,u=this.conf,p="bottom"===u.legendPosition,m=u.bound&&u.bound.style||{stroke:"none"},f={};2<=arguments.length&&arguments[1]?(i=arguments[0],r=arguments[1]):1<=arguments.length&&(r=arguments[0]),g=r.animationManager,e=r.parentLayer,l=r.colorRange.getCumulativeValueRatio(),this.getLogicalSpace(i,r),o=(n=this._lSpace).node.logicArea,h=n.node.smartTexts,this.group=a=g.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:e,component:Ka}),this.bound=t=g.setAnimation({el:this.bound||"rect",attr:n.bound,css:m,container:a,component:Ka});for(let e=0;e<this.node.length;e++)this.node[e].remove();for(this.node=[],s=0,c=l.length;s<c;s++)(d=h[s])&&(p?(f.y=o.y+d.height/2,f.x=s===c-1?o.x+d.x-d.width/2:s?o.x+d.x:o.x+d.x+d.width/2):(f.x=o.x+d.width/2,f.y=s===c-1?o.y+d.y-d.height/2:s?o.y+d.y:o.y+d.y+d.height/2),this.node.push(g.setAnimation({el:"text",attr:{text:d.text,x:f.x,y:f.y,lineHeight:this._metaStyle.lineHeight,fill:u.style.fill},container:a,component:Ka})));return{group:a,bound:t}}}var vi=class extends r.a{getType(){return"gradientLegend"}getName(){return"gLegend"}constructor(){super(),Ka=this,this.enabled=!1,this.drawOptions={},this.components={}}setColorRange(e){let t=this.drawOptions.colorRange=e;t&&t._preparationGoneWrong&&(this._dontPlot=!0)}configureAttributes(){var e,t,a,i,o,r,s,c,h,d,g=this,u=g.getFromEnv("chart"),p=g.getFromEnv("dataSource").chart,m=g.conf={},f=p.outcnvbasefont,b=p.outcnvbasefontsize,v=p.outcnvbasefontcolor,x=u.config.dataLabelStyle;Xa.init({chart:u}),g.data=g.getFromEnv("dataSource").colorrange,g._dontPlot||(g.drawOptions={smartLabel:g.getFromEnv("smartLabel"),gLegend:g},g._dontPlot=!1,g._recalculateLogicalSpace=!0,Za=g.getFromEnv("toolTipController"),m.caption=Object(n._25)(p.legendcaption),m.legendPosition=Object(n._25)(p.legendposition,"bottom").toLowerCase(),m.showLegend=Object(n._27)(p.showlegend,1),m.interactiveLegend=Object(n._27)(p.interactivelegend,1),m.showLegendLabels=Object(n._27)(p.showlegendlabels,1),e=p.legenditemfontcolor||v,t=p.legenditemfont||f,a=p.legenditemfontsize||b,i=Object(n._27)(p.legenditemfontbold,0),o=p.legendcaptionfontcolor||v,r=p.legendcaptionfont||f,s=p.legendcaptionfontsize||b,c=Object(n._27)(p.legendcaptionfontbold,1),d=(h=p.legendaxisbordercolor?Object(n._10)(Object(n.R)(p.legendaxisbordercolor)):Ya)?Object(n._27)(p.legendaxisborderalpha,100)/100:Ya,m.axisTextItemConf={style:{fill:e?Object(l.c)(Object(n._25)(e)):x.color,fontFamily:t?Object(n._25)(t):x.fontFamily,fontSize:a?Object(n._27)(a):x.fontSize.match(/\d+/)[0],fontWeight:i?"bold":x.fontWeight}},m.legendCaptionConf={style:{fill:o?Object(l.c)(Object(n._25)(o)):x.color,fontFamily:r?Object(n._25)(r):x.fontFamily,fontSize:s?Object(n._27)(s):x.fontSize.match(/\d+/)[0],fontWeight:c?"bold":x.fontWeight,fontStyle:"normal"}},m.legendAxisConf={legendAxisHeight:11,style:{stroke:h,"stroke-opacity":d},line:{style:{stroke:Object(l.c)(Object(n._25)(p.legendscalelinecolor,"FFF8E9"),Object(n._27)(p.legendscalelinealpha,100)),"stroke-width":Object(n._27)(p.legendscalelinethickness)}}},m.sliderGroupConf={showTooltip:Object(n._27)(p.showtooltip,1),outerCircle:{rFactor:Object(n._27)(p.sliderdiameterfactor),style:{stroke:Object(l.c)(Object(n._25)(p.legendpointerbordercolor,"757575"),Object(n._27)(p.legendpointerborderalpha,100))}},innerCircle:{rFactor:Object(n._27)(p.sliderholediameterfactor),style:{stroke:Object(l.c)(Object(n._25)(p.legendpointercolor,"FFFFFF"),Object(n._27)(p.legendpointeralpha,100))}}},m.legendCarpetConf={spreadFactor:Object(n._27)(p.legendspreadfactor),allowDrag:!!Object(n._27)(p.legendallowdrag,0),captionAlignment:Object(n._25)(p.legendcaptionalignment,"center"),style:{fill:Object(l.c)(Object(n._25)(p.legendbgcolor,"e4d9c1"),Object(n._27)(p.legendbgalpha,100)),stroke:Object(l.c)(Object(n._25)(p.legendbordercolor,"c4b89d"),Object(n._27)(p.legendborderalpha,100)),"stroke-width":Object(n._27)(p.legendborderthickness,1)}})}postConfigureInit(){var e,t,a,i,n,o,r,l,s,c,h,d=this,g=d.conf;d.elem={},g.interactiveLegend?(i=oi(Xa.getDefaultConf("sliderGroupConf"),g.sliderGroupConf),this.sGroup?((a=d.elem.sGroup=this.sGroup).configure(i),d.elem.sGroup.gLegend=d):(this.sGroup=d.elem.sGroup=a=new fi(i),a.configure(i),d.elem.sGroup.gLegend=d)):(this.sGroup&&this.sGroup.dispose(),this.sGroup&&delete this.sGroup),(i=oi(Xa.getDefaultConf("legendCarpetConf"),g.legendCarpetConf)).legendPosition=g.legendPosition,h=Xa.getDefaultConf("legendBodyConf"),"bottom"===g.legendPosition?(d.drawOptions.refSideKey="canvasWidth",d.drawOptions.refOffsetKey="canvasLeft",n=oi(Xa.getDefaultConf("axisTextItemConf"),g.axisTextItemConf),h.legendPosition="bottom",(c=oi(Xa.getDefaultConf("legendAxisConf"),g.legendAxisConf)).legendPosition="bottom",n.legendPosition="bottom"):(d.drawOptions.refSideKey="canvasHeight",d.drawOptions.refOffsetKey="canvasTop",n=oi(Xa.getDefaultConf("axisTextItemConf"),g.axisTextItemConf),h.legendPosition="right",(c=oi(Xa.getDefaultConf("legendAxisConf"),g.legendAxisConf)).legendPosition="right",n.legendPosition="right"),Object.keys(this.components).length||(this.components.LegendCarpet=new hi,this.components.LegendBody=new gi,this.components.LegendAxis=new pi,this.components.LegendValues=new bi,g.showLegendLabels&&(this.components.LegendLabels=new ui)),t=this.components.LegendAxis,l=this.components.LegendValues,e=this.components.LegendCarpet,o=this.components.LegendBody,g.showLegendLabels&&(r=this.components.LegendLabels),this.components.LegendCarpet.configure(i),this.components.LegendValues.configure(n),this.components.LegendAxis.configure(c),this.components.LegendBody.configure(d.drawOptions.colorRange,h,n),g.showLegendLabels&&r.configure(n),g.caption?(s=oi(Xa.getDefaultConf("legendCaptionConf"),g.legendCaptionConf),this.componentCaption&&Object.keys(this.componentCaption).length?this.componentCaption.configure(g.caption,s):(this.componentCaption=new di).configure(g.caption,s),e.addCompositions(this.componentCaption,Ua.CAPTION)):(e.removeCompositions(Ua.CAPTION),this.componentCaption&&this.componentCaption.dispose(),delete this.componentCaption),a&&t.addCompositions(a,Ua.RANGE),r&&o.addCompositions(r,Ua.AXIS_LABEL),o.addCompositions(t,Ua.LEGEND_AXIS),o.addCompositions(l,Ua.AXIS_VALUE),e.addCompositions(o,Ua.LEGEND_BODY),d.elem.gl=new ci(e)}getValueRange(){var e,t,a=this.elem&&this.elem.sGroup,i=a.sliders,n=a.extremes;return e=i.false.currPos,t=n[1]-n[0]+i.true.currPos,[{min:a.getValueFormPixel(e),max:a.getValueFormPixel(t)}]}_dispose(){var e=this;e.elem&&e.elem.gl&&e.elem.gl.dispose(),e.elem={},super._dispose()}getCalculatedLogicalSpace(){return this._logicalArea}setCalculatedLogicalSpace(e){this._logicalArea=e}getLogicalSpace(e){var t,a,i,n=this,o=n.conf,r={height:0,width:0},l=n.drawOptions,s=n.getFromEnv("chartConfig");return n._recalculateLogicalSpace?n._dontPlot?r:(n._recalculateLogicalSpace=!1,n.postConfigureInit(),o.showLegend?(a=l.refSideKey,i=l.refOffsetKey,n.drawOptions.refSide=s[a],n.drawOptions.refOffset=s[i],n.drawOptions.maxOtherSide=e||n.drawOptions.maxOtherSide,n.elem.gl&&(t=n.elem.gl.getLogicalSpace(n.drawOptions,!0),n.elem.gl&&n.setCalculatedLogicalSpace(t)),n.getCalculatedLogicalSpace()):r):(a=l.refSideKey,i=l.refOffsetKey,n.drawOptions.refSide=s[a],n.drawOptions.refOffset=s[i],n.drawOptions.maxOtherSide=e||n.drawOptions.maxOtherSide,t=n.elem.gl.getLogicalSpace(n.drawOptions,!0),n.setCalculatedLogicalSpace(t),n.getCalculatedLogicalSpace()||r)}resetLegend(){var e;(e=this.elem&&this.elem.sGroup)&&e.reset()}allocatePosition(){var e,t,a,i,n,o,r=this.getFromEnv("chart"),l=r.config,s=this.conf||{},c=s.legendPosition,h=l.canvasLeft,d=l.canvasTop,g=l.canvasWidth,u=l.canvasHeight,p=l.marginBottom,m=l.marginRight;r.config.gLegendEnabled&&(e=this.getCalculatedLogicalSpace(),a=s.width=e.width,i=s.height=e.height,"bottom"===c?(n=h+(0>(t=g-a)?0:t/2),o=l.height-e.height-p-(l.actionBarHeight||0)):(o=d+(0>(t=u-i)?0:t/2),n=l.width-e.width-m),s.xPos=n,s.yPos=o)}draw(){var e=this.getFromEnv("chart"),t=e.getFromEnv("dataSource").colorrange,a=this.conf||{},i=e.hasGradientLegend;!e.config.gLegendEnabled||t&&i&&this.drawLegendComponent(a.xPos,a.yPos,{parentGroup:e.getContainer("parentgroup"),animationManager:e.getFromEnv("animationManager")})}drawLegendComponent(e,t,a){var i,n=this,o=n.conf;return n._dontPlot?void 0:o.showLegend?(n.drawOptions.animationManager=a.animationManager,n.drawOptions.parentGroup=a.parentGroup,n.drawOptions.x=e,n.drawOptions.y=t,n.drawOptions.maxOtherSide=n.drawOptions.maxOtherSide||a.maxOtherSide,i=n.elem.gl.draw(n.drawOptions).getBBox(),o.xPos=i.x,o.yPos=i.y,o.height=i.height,o.width=i.width,void(n.enabled=!0)):void(n.enabled=!1)}},xi=a("WYIM");var yi=function(e){!function(e){let t,a=e.getFromEnv("dataSource").colorrange,i=e.getFromEnv("dataSource").chart.mapbycategory,o="maps"===e.defaultDatasetType,r="TreeMap"===e.getName(),l=e.getFromEnv("legend"),s=e.getFromEnv("gLegend");"gradient"==(t=a&&e.config.showLegend?o?a.gradient&&+a.gradient?"gradient":a.color?"icon":"none":r?a.gradient&&"0"!=a.gradient?"gradient":"none":a.gradient&&"0"!=a.gradient&&!+i?"gradient":"icon":"none")?(e.deleteFromEnv("legend"),l&&l.remove(),Object(n.M)(e,vi,"gLegend",1),(s=e.getChildren("gLegend")[0]).configure(),e.addToEnv("gLegend",s)):"icon"===t?(e.deleteFromEnv("gLegend"),s&&s.remove(),Object(n.M)(e,xi.a,"legend",1,{showLegend:!0}),(l=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",l)):"none"===t&&(e.deleteFromEnv("gLegend"),e.deleteFromEnv("legend"),s&&s.remove(),l&&l.remove())}(e)};let _i,Ci=Object(ft.c)({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},ut),Oi="0,100",Li={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},wi={getMapName:function(){return this.jsVars.instanceAPI.getName().toLowerCase()},getEntityList:function(){let e,t,a,i,n,o,r,l=this.jsVars.instanceAPI.getDatasets()||[],s=l.length,c=[];for(e=0;e<s;e++)if("entities"===(r=(a=l[e]||[]).getName())){t=a;break}for(e in s=(i=t.components.data).length,i)i.hasOwnProperty(e)&&(o=(n=i[e]||{}).config||{},c.push({id:o.id,originalId:o.originalId||o.id,label:o.label,shortlabel:o.shortLabel,value:o.value,formattedValue:o.formattedValue,toolText:o.toolText}));return c},getMapAttribute:function(){return Object(pt.f)(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),this.getChartAttribute.apply(this,arguments)},exportMap:function(){let e=this;return Object(pt.f)(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){let t,a,i,n,o=this.jsVars.instanceAPI.getDatasets()||[],r=o.length;for(t=0;t<r;t++)if("markers"===(n=(a=o[t]||[]).getName())){i=a;break}i&&!i.addMarkerItem(e)&&Object(pt.f)(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){let a,i,n,o,r=this.jsVars.instanceAPI.getDatasets()||[],l=r.length;for(a=0;a<l;a++)if("markers"===(o=(i=r[a]||[]).getName())){n=i;break}n&&e&&(e=(e+Ai).toLowerCase(),n.updateMarkerItem(e,t))},removeMarker:function(e){let t,a,i,n,o=this.jsVars.instanceAPI.getDatasets()||[],r=o.length;for(t=0;t<r;t++)if("markers"===(n=(a=o[t]||[]).getName())){i=a;break}e&&(e=(e+Ai).toLowerCase(),i._removeMarkerItem(e))}},ki="none",ji=", ",Ai="",Fi="bottom",Si="circle",Ti=window.Math,Ei=Ti.min,Pi=Ti.max,Di=function(e,t){let a=Object(n._3)(t.getFromEnv("chart-container"),e),i=a.chartX,o=a.chartY,r=t.config,l=r.canvasLeft,s=r.canvasTop,c=r.canvasLeft+r.canvasWidth,h=r.canvasHeight+r.canvasTop;return a.insideCanvas=!1,a.originalEvent=e,i>l&&i<c&&o>s&&o<h&&(a.insideCanvas=!0),a};class Vi extends r.a{constructor(e,t){for(var a in super(),this.subpalette="",this.key="",this.index=t,e)this.subpalette=Ci[e[a]],this[a]=this.subpalette instanceof Array?this.subpalette[t]:this.subpalette,this.key=a}}class Ii extends gt{constructor(){super(),this.friendlyName="Map",this.revision=1,this.hasCanvas=!0,this.standaloneInit=!1,this.defaultDatasetType="maps",this.defaultSeriesType="geo",this.fireGroupEvent=!0,this.legendposition="right",this.hasGradientLegend=!0,this.isMap=!0,this.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:[Oi,Oi,Oi,Oi,Oi],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},this.colorPaletteMap=Li,this.eiMethods=wi,this.registerFactory("legend",yi,["canvas"]),this.registerFactory("axis",()=>{},["canvas"]),this.registerFactory("colormanager-decider",za,["legend"]),this.registerFactory("dataset",Sa,["colormanager-decider"]),this.registerFactory("canvas",Ta.a)}_checkInvalidSpecificData(){return this.config.invalid=!1,!1}__setDefaultConfig(){var e=this.config;e.baseWidth||(e.baseWidth=400),e.baseHeight||(e.baseHeight=300),e.baseScaleFactor||(e.baseScaleFactor=1)}static getName(){return"maps"}static getType(){return"chartAPI"}getName(){return this.config.name||"GEO"}getType(){return"chartAPI"}configureAttributes(e){let t,a=this,i=a.getChildren("colorPalette")&&a.getChildren("colorPalette")[0];t=e.chart=e.chart||e.graph||e.map||{},a.jsonData=e,Object(n.M)(a,mt.a,"mapAnnotations"),i||(i=new Vi(this.colorPaletteMap,(0<t.palette&&6>t.palette?t.palette:Object(n._27)(a.paletteIndex,1))-1),a.attachChild(i,"colorPalette")),a.config.skipCanvasDrawing=!0,super.configureAttributes(e),a._parseBackgroundCosmetics()}parseChartAttr(e){let t,a,i,o,r,l=this,s=l.jsonData,c=s.chart||s.map,h=s.markers,d=new Vi(this.colorPaletteMap,(0<c.palette&&6>c.palette?c.palette:Object(n._27)(l.paletteIndex,1))-1),g=Object(n._25)(c.entitybordercolor,c.bordercolor,d.plotbordercolor),u=Object(n._25)(c.entityfillcolor,c.fillcolor,d.plotfillcolor),p=Object(n._25)(c.entityfillalpha,c.fillalpha,d.plotfillalpha),m=Object(n._25)(c.entityfillratio,c.fillratio,d.plotfillratio),f=Object(n._25)(c.entityfillangle,c.fillangle,d.plotfillangle),b=Object(n._25)(c.nullentityfillcolor,c.nullentitycolor,u),v=Object(n._27)(c.usevaluesformarkers,s.markers&&s.markers.items&&s.markers.items.length,!(s.markers&&s.markers.application&&s.markers.application.length&&s.markers.definition&&s.markers.definition.length));super.parseChartAttr(e),(t=l.config).origMarginTop=Object(n._27)(c.charttopmargin,c.maptopmargin,11),t.origMarginLeft=Object(n._27)(c.chartleftmargin,c.mapleftmargin,11),t.origMarginBottom=Object(n._27)(c.chartbottommargin,c.mapbottommargin,11),t.origMarginRight=Object(n._27)(c.chartrightmargin,c.maprightmargin,11),t.labelsOnTop=Object(n._27)(c.entitylabelsontop,1),a=(r=t.style).inCancolor,i=r.inCanfontFamily,o=r.inCanfontSize,t.entityOpts={baseScaleFactor:t.baseScaleFactor,dataLabels:{style:{fontFamily:i,fontSize:o,lineHeight:r.inCanLineHeight,color:r.inCancolor}},fillColor:u,fillAlpha:p,fillRatio:m,fillAngle:f,borderColor:g,borderAlpha:Object(n._25)(c.entityborderalpha,c.borderalpha,l.borderAlpha,"100"),borderThickness:Object(n._27)(c.showentityborder,c.showborder,1)?Object(n._27)(c.entityborderthickness,c.borderthickness,1):0,scaleBorder:Object(n._27)(c.scaleentityborder,c.scaleborder,0),hoverFillColor:Object(n._25)(c.entityfillhovercolor,c.hoverfillcolor,c.hovercolor,d.plothoverfillcolor),hoverFillAlpha:Object(n._25)(c.entityfillhoveralpha,c.hoverfillalpha,c.hoveralpha,d.plothoverfillalpha),hoverFillRatio:Object(n._25)(c.entityfillhoverratio,c.hoverfillratio,c.hoverratio,d.plothoverfillratio),hoverFillAngle:Object(n._25)(c.entityfillhoverangle,c.hoverfillangle,c.hoverangle,d.plothoverfillangle),hoverBorderThickness:Object(n._25)(c.entityborderhoverthickness,c.hoverborderthickness),hoverBorderColor:Object(n._25)(c.entityborderhovercolor,g,d.plotbordercolor),hoverBorderAlpha:Object(n._25)(c.entityborderhoveralpha,d.plotborderalpha),nullEntityColor:b,nullEntityAlpha:Object(n._25)(c.nullentityfillalpha,c.nullentityalpha,p),nullEntityRatio:Object(n._25)(c.nullentityfillratio,c.nullentityratio,m),nullEntityAngle:Object(n._25)(c.nullentityfillangle,c.nullentityangle,f),connectorColor:Object(n._25)(c.labelconnectorcolor,c.connectorcolor,a),connectorAlpha:Object(n._25)(c.labelconnectoralpha,c.connectoralpha,"100"),connectorThickness:Object(n._27)(c.labelconnectorthickness,c.borderthickness,1),showHoverEffect:Object(n._27)(c.showentityhovereffect,c.usehovercolor,c.showhovereffect,1),hoverOnNull:Object(n._27)(c.hoveronnull,c.entityhoveronnull,1),labelPadding:Object(n._27)(c.labelpadding,5),showLabels:Object(n._27)(c.showlabels,1),labelsOnTop:Object(n._27)(c.entitylabelsontop,1),includeNameInLabels:Object(n._27)(c.includenameinlabels,1),includeValueInLabels:Object(n._27)(c.includevalueinlabels,0),useSNameInTooltip:Object(n._27)(c.usesnameintooltip,0),useShortName:Object(n._27)(c.usesnameinlabels,1),labelSepChar:Object(n._25)(c.labelsepchar,ji),showTooltip:Object(n._27)(c.showentitytooltip,c.showtooltip,1),tooltipSepChar:Object(n._25)(c.tooltipsepchar,", "),tooltext:c.entitytooltext,hideNullEntities:Object(n._27)(c.hidenullentities,0),showHiddenEntityBorder:Object(n._27)(c.showhiddenentityborder,1),showNullEntityBorder:Object(n._27)(c.shownullentityborder,1),hiddenEntityColor:Object(n._25)(c.hiddenentitycolor,c.hiddenentityfillcolor,c.hiddenentityalpha||c.hiddenentityfillalpha?b:"ffffff"),hiddenEntityAlpha:Object(n._25)(c.hiddenentityalpha,c.hiddenentityfillalpha,.001),shadow:Object(n._27)(c.showshadow,l.defaultPlotShadow,d.shadow)},t.markerOpts={dataLabels:{style:{fontFamily:Object(n._25)(c.markerfont,i),fontSize:Object(n._27)(c.markerfontsize,parseInt(o,10)),fontColor:Object(n._25)(c.markerfontcolor,a)}},showTooltip:Object(n._27)(c.showmarkertooltip,c.showtooltip,1),showLabels:Object(n._27)(c.showmarkerlabels,c.showlabels,1),showHoverEffect:Object(n._27)(c.showmarkerhovereffect,1),labelPadding:Object(n._25)(c.markerlabelpadding,"5"),labelWrapWidth:Object(n._27)(c.markerlabelwrapwidth,0),labelWrapHeight:Object(n._27)(c.markerlabelwrapheight,0),fillColor:Object(n._25)(c.markerfillcolor,c.markerbgcolor,d.markerfillcolor),fillAlpha:Object(n._25)(c.markerfillalpha,d.markerfillalpha),fillAngle:Object(n._25)(c.markerfillangle,d.markerfillangle),fillRatio:Object(n._25)(c.markerfillratio,d.markerfillratio),fillPattern:Object(n._25)(c.markerfillpattern,d.markerbgpattern),hoverFillColor:c.markerfillhovercolor,hoverFillAlpha:c.markerfillhoveralpha,hoverFillRatio:c.markerfillhoverratio,hoverFillAngle:c.markerfillhoverangle,borderThickness:Object(n._25)(c.markerborderthickness,1),borderColor:Object(n._25)(c.markerbordercolor,d.markerbordercolor),borderAlpha:Object(n._27)(c.markerborderalpha,d.markerborderalpha),hoverBorderThickness:c.markerborderhoverthickness,hoverBorderColor:c.markerborderhovercolor,hoverBorderAlpha:c.markerborderhoveralpha,radius:Object(n._27)(c.markerradius&&Object(n._40)(c.markerradius),7),shapeId:Object(n._25)(c.defaultmarkershape,Si),labelSepChar:Object(n._25)(c.labelsepchar,ji),tooltipSepChar:Object(n._25)(c.tooltipsepchar,", "),autoScale:Object(n._27)(c.autoscalemarkers,0),tooltext:Object(n._25)(h&&h.tooltext,c.markertooltext),dataEnabled:v,valueToRadius:Object(n._27)(c.markerradiusfromvalue,1),valueMarkerAlpha:Object(n._25)(c.valuemarkeralpha,"75"),hideNull:Object(n._27)(c.hidenullmarkers,0),nullRadius:Object(n._27)(c.nullmarkerradius,c.markerradius,7),adjustViewPort:Object(n._27)(c.adjustviewportformarkers,0),startAngle:Object(n._27)(c.markerstartangle,90),maxRadius:Object(n._27)(c.maxmarkerradius,0),minRadius:Object(n._27)(c.minmarkerradius,0),applyAll:Object(n._27)(c.applyallmarkers,0),shadow:Object(n._27)(c.showmarkershadow,c.showshadow,0)},t.connectorOpts={showHoverEffect:Object(n._27)(c.showconnectorhovereffect,1),thickness:Object(n._27)(c.connectorthickness,c.markerconnthickness,"2"),color:Object(n._25)(c.connectorcolor,c.markerconncolor,d.markerbordercolor),alpha:Object(n._25)(c.connectoralpha,c.markerconnalpha,"100"),hoverThickness:Object(n._27)(c.connectorhoverthickness,c.connectorthickness,c.markerconnthickness,"2"),hoverColor:Object(n._25)(c.connectorhovercolor,c.connectorcolor,c.markerconncolor,d.markerbordercolor),hoverAlpha:Object(n._25)(c.connectorhoveralpha,c.connectoralpha,c.markerconnalpha,"100"),dashed:Object(n._27)(c.connectordashed,c.markerconndashed,0),dashLen:Object(n._27)(c.connectordashlen,c.markerconndashlen,3),dashGap:Object(n._27)(c.connectordashgap,c.markerconndashgap,2),font:Object(n._25)(c.connectorfont,c.markerconnfont,i),fontColor:Object(n._25)(c.connectorfontcolor,c.markerconnfontcolor,a),fontSize:Object(n._27)(c.connectorfontsize,c.markerconnfontsize,parseInt(o,10)),showLabels:Object(n._27)(c.showconnectorlabels,c.showmarkerlabels,c.showlabels,1),labelBgColor:Object(n._25)(c.connectorlabelbgcolor,c.markerconnlabelbgcolor,d.plotfillcolor),labelBorderColor:Object(n._25)(c.connectorlabelbordercolor,c.markerconnlabelbordercolor,d.markerbordercolor),shadow:Object(n._27)(c.showconnectorshadow,c.showmarkershadow,c.showshadow,0),showTooltip:Object(n._27)(c.showconnectortooltip,c.showmarkertooltip,c.showtooltip,1),tooltext:Object(n._25)(h&&h.connectortooltext,c.connectortooltext),hideOpen:Object(n._27)(c.hideopenconnectors,1)},t.adjustViewPortForMarkers=Object(n._27)(c.adjustviewportformarkers,v)}_attachMouseEvents(){let e=this,t=e.getFromEnv("eventListeners"),a=e.getFromEnv("chart-container");ze.a.unlisten(a,n._9?"touchstart":"mousemove",Ii.searchMouseMove),t.push(ze.a.listen(a,"touchstart mousemove",Ii.searchMouseMove,e))}static searchMouseMove(e){let t,a=e.data,i=a.config,n={};!a.getFromEnv("chart-container")||(t=Di(e,a))&&t.insideCanvas&&(i.lastMouseEvent=e,n={x:t.chartX,y:t.chartY},a._searchNearestNeighbour(n))}_searchNearestNeighbour(e){let t,a=this,i=a.getDatasets()[1];if(i){if(!i.components.kDTree)return;(t=i.getElement(e))?a.config.lastHoveredPoint!==t&&i.highlightPoint(t):i.highlightPoint(!1)}}_createLayers(){super._createLayers(),this._attachMouseEvents()}_parseBackgroundCosmetics(){let e,t=this,a=t.getChildren("background")[0].config,i=t.getChildren("colorPalette")[0],o=t.getFromEnv("chart-attrib");e=a.showBorder=Object(n._27)(o.showcanvasborder,1),a.borderWidth=e?Object(n._27)(o.canvasborderthickness,1):0,a.borderRadius=a.borderRadius=Object(n._27)(o.canvasborderradius,0),a.borderDashStyle=a.borderDashStyle=Object(n._27)(o.borderdashed,0)?Object(n.Y)(Object(n._27)(o.borderdashlen,4),Object(n._27)(o.borderdashgap,2)):ki,a.borderAlpha=Object(n._25)(o.canvasborderalpha,i.borderAlpha),a.borderColor=a.borderColor=Object(l.c)(Object(n._25)(o.canvasbordercolor,i&&i.borderColor),a.borderAlpha)}_getBackgroundCosmetics(){let e=this,t=e.getFromEnv("chart-attrib")||e.jsonData.map,a=e.getChildren("colorPalette")[0];return{FCcolor:{color:Object(n._25)(t.bgcolor,t.canvasbgcolor,a.bgcolor),alpha:Object(n._25)(t.bgalpha,t.canvasbgalpha,a.bgalpha),angle:Object(n._25)(t.bgangle,t.canvasbgangle,a.bgangle),ratio:Object(n._25)(t.bgratio,t.canvasbgratio,a.bgratio)}}}_parseCanvasCosmetics(){super._parseCanvasCosmetics();let e=this,t=e.config,a=e.getFromEnv("chart-attrib")||e.jsonData.map,i=e.getChildren("canvas")[0].config;t.origMarginTop=Object(n._27)(a.maptopmargin,11),t.origMarginLeft=Object(n._27)(a.mapleftmargin,11),t.origMarginBottom=Object(n._27)(a.mapbottommargin,11),t.origMarginRight=Object(n._27)(a.maprightmargin,11),t.origCanvasLeftMargin=Object(n._27)(a.canvasleftmargin,0),t.origCanvasRightMargin=Object(n._27)(a.canvasrightmargin,0),t.origCanvasTopMargin=Object(n._27)(a.canvastopmargin,0),t.origCanvasBottomMargin=Object(n._27)(a.canvasbottommargin,0),i.canvasBorderRadius=Object(n._27)(a.canvasborderradius,0),i.origCanvasTopPad=Object(n._27)(a.canvastoppadding,0),i.origCanvasBottomPad=Object(n._27)(a.canvasbottompadding,0),i.origCanvasLeftPad=Object(n._27)(a.canvasleftpadding,0),i.origCanvasRightPad=Object(n._27)(a.canvasrightpadding,0)}preliminaryScaling(){let e,t,a,i=this.jsonData,n=i.markers&&i.markers.items||[],o=n&&n.length||0,r=1/0,l=1/0,s=-1/0,c=-1/0;for(;o--;)e=+(a=n[o]).x,t=+a.y,r=Ei(r,e),l=Ei(l,t),s=Pi(s,e),c=Pi(c,t);return{x:r,y:l,x1:s,y1:c}}getScalingParameters(e,t,a,i){let n,o,r=e/t,l=a/(e*this.config.baseScaleFactor),s=i/(t*this.config.baseScaleFactor),c=0,h=0;return l>s?(c+=(a-i*r)/2,o=200/(t*(n=s))):(h+=(i-a/r)/2,o=200/(e*(n=l))),{scaleFactor:n,strokeWidth:o,translateX:c,translateY:h}}calculateMarkerBounds(e,t,a){let i,n,o,r,l,s,c,h,d,g,u,p,m,f,b=this,v=b.config,x=v.markerOpts,y=b.getDatasets(),_=b.getDataLimits(),C=_.dataMin,O=_.dataMax,L=x.hideNull,w=x.nullRadius,k=x.valueToRadius,j=1/0,A=1/0,F=-1/0,S=-1/0;for(s=0,d=y.length;s<d;s++)"markers"===(c=(h=y[s]).getName())&&(i=h);if(i)for(s in i.calculateMarkerRadiusLimits(),o=(n=i.config||{}).minRadius,r=n.maxRadius,l=i.components&&i.components.markerObjs||{})m=(v=(f=l[s]).config).definition||{},null!==v.cleanValue?(k&&m.radius===_i&&(v.radius=o+(r-o)*(v.cleanValue-C)/(O-C)),p=+v.radius,g=(+m.x+t)*e,u=(+m.y+a)*e,j=Ei(j,g-p),A=Ei(A,u-p),F=Pi(F,g+p),S=Pi(S,u+p)):L?v.__hideMarker=!0:null===v.radius&&(v.radius=w);return{x:j,y:A,x1:F,y1:S}}_spaceManager(){let e,t,a,i,o,r,l,s,c,h=this,d=h.config,g=h.getChildren("legend")&&h.getChildren("legend")[0],u=g&&g.config.legendPos,p=h.getFromEnv("chart-attrib"),m=d.showBorder,f=d.origMarginLeft,b=d.origMarginTop,v=h.config.baseWidth,x=h.config.baseHeight,y={},_=0,C=0,O=d.markerOpts,L=d.borderWidth=m?Object(n._27)(p.borderthickness,1):0;h._allocateSpace({top:L,bottom:L,left:L,right:L}),h._allocateSpace(h._manageActionBarSpace&&h._manageActionBarSpace(.225*d.availableHeight)||{}),s="right"===u?.3*d.canvasWidth:.3*d.canvasHeight,d.showLegend&&h._manageLegendSpace(s),e=u===Fi?.225*d.canvasHeight:.225*d.canvasWidth,c=h._manageChartMenuBar(e),a=d.canvasWidth,i=d.canvasHeight,O.dataEnabled?(d.adjustViewPortForMarkers?((y=h.preliminaryScaling()).x1>v&&(v=y.x1),0>y.x&&(v+=-y.x,_=-y.x),y.y1>x&&(x=y.y1),0>y.y&&(x+=-y.y,C=-y.y),t=h.getScalingParameters(v,x,a,i),r=i,l=a,0>(y=h.calculateMarkerBounds(t.scaleFactor*h.config.baseScaleFactor,_,C)).x&&(f+=-y.x,a+=y.x),0>y.y&&(b+=-y.y,i+=y.y),y.x1>l&&(a-=y.x1-l),y.y1>r&&(i-=y.y1-r)):(t=h.getScalingParameters(v,x,a,i),h.calculateMarkerBounds(t.scaleFactor*h.config.baseScaleFactor,_,C)),f+=_*(t=h.getScalingParameters(v,x,a,i)).scaleFactor*h.config.baseScaleFactor,b+=C*t.scaleFactor*h.config.baseScaleFactor):t=h.getScalingParameters(v,x,a,i),h.config.scalingParams=t,o=t.scaleFactor,t.translateX+=f,t.translateY=t.translateY+b+c.top||0,t.sFactor=o*h.config.baseScaleFactor*100/100,t.transformStr=["t",t.translateX,",",t.translateY,"s",o,",",o,",0,0"].join(""),h.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:t.translateX?t.translateX:0,grpyshift:t.translateY?t.translateY:0,xscale:100*(o?o*h.config.baseScaleFactor:1),yscale:100*(o?o*h.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}},h.getChildren("mapAnnotations")[0].clear(),h.getChildren("mapAnnotations")[0].configureAttributes()}getDataLimits(){let e,t,a,i=this.getDatasets(),n=i.length,o=1/0,r=-1/0;for(a=0;a<n;a++)t=(e=i[a]).getDataLimits(),o=Ei(o,t.min),r=Pi(r,t.max);return{dataMin:o,dataMax:r}}getEntityPaths(e){let t,a={},i=this.config.entities;if(e){for(t in i)a[t]=i[t];return a}return i}checkComplete(){let e=this;e.config.entityFlag&&e.config.entitiesReady&&(e.config.entityFlag=!1,e.config.markersDrawn=!0,e.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:e}))}}var Mi=Ii;a.d(t,"Maps",function(){return Mi});t.default={name:"maps",type:"package",requiresFusionCharts:!0,extension:e=>e.addDep(Mi)}},Muaf:function(e,t,a){var i=a("llgg"),n=a("gjyI"),o=a("+r1D"),r=a("u+4m"),l=a("SJ/P"),s=a("TXUo"),c=a("ZuIC");function h(e,t,a,o){var r=i(e),l=i(t);function s(e,t){return d(e,t,a.slice(),o.slice())}return!n(function(e,t){return!n(s,t,e)},l,r)}function d(e,t,a,i){if(l(e,t))return!0;var n=c(e);if(n!==c(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(n){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===o(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!l(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!l(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var g=a.length-1;g>=0;){if(a[g]===e)return i[g]===t;g-=1}switch(n){case"Map":return e.size===t.size&&h(e.entries(),t.entries(),a.concat([e]),i.concat([t]));case"Set":return e.size===t.size&&h(e.values(),t.values(),a.concat([e]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=s(e);if(u.length!==s(t).length)return!1;var p=a.concat([e]),m=i.concat([t]);for(g=u.length-1;g>=0;){var f=u[g];if(!r(f,t)||!d(t[f],e[f],p,m))return!1;g-=1}return!0}e.exports=d},"N/eU":function(e,t,a){var i=a("PDp+"),n=a("Muaf"),o=i(function(e,t){return n(e,t,[],[])});e.exports=o},NA2I:function(e,t,a){var i=a("BBOx"),n=a("PDp+")(function(e,t){for(var a=[],n=0,o=e.length;n<o;)i(e[n],t)||i(e[n],a)||(a[a.length]=e[n]),n+=1;return a});e.exports=n},"SJ/P":function(e,t,a){var i=a("PDp+")(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t});e.exports=i},TXUo:function(e,t,a){var i=a("1S6+"),n=a("u+4m"),o=a("rbkD"),r=!{toString:null}.propertyIsEnumerable("toString"),l=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),c=function(e,t){for(var a=0;a<e.length;){if(e[a]===t)return!0;a+=1}return!1},h=i("function"!=typeof Object.keys||s?function(e){if(Object(e)!==e)return[];var t,a,i=[],h=s&&o(e);for(t in e)!n(t,e)||h&&"length"===t||(i[i.length]=t);if(r)for(a=l.length-1;a>=0;)n(t=l[a],e)&&!c(i,t)&&(i[i.length]=t),a-=1;return i}:function(e){return Object(e)!==e?[]:Object.keys(e)});e.exports=h},ZuIC:function(e,t,a){var i=a("1S6+")(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});e.exports=i},gjyI:function(e,t){e.exports=function(e,t,a){for(var i=0,n=a.length;i<n;){if(e(t,a[i]))return!0;i+=1}return!1}},j1P5:function(e,t,a){var i=a("N/eU");e.exports=function(e,t,a){var n,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;a<e.length;){if(0===(o=e[a])&&1/o===n)return a;a+=1}return-1}if(t!=t){for(;a<e.length;){if("number"==typeof(o=e[a])&&o!=o)return a;a+=1}return-1}return e.indexOf(t,a);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,a);case"object":if(null===t)return e.indexOf(t,a)}for(;a<e.length;){if(i(e[a],t))return a;a+=1}return-1}},llgg:function(e,t){e.exports=function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}},rbkD:function(e,t,a){var i=a("u+4m"),n=Object.prototype.toString;e.exports=function(){return"[object Arguments]"===n.call(arguments)?function(e){return"[object Arguments]"===n.call(e)}:function(e){return i("callee",e)}}}});
//# sourceMappingURL=0.47d3d4ee6c63c643ecc0.js.map